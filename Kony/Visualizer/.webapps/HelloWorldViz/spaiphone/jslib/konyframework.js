if(typeof kony=="undefined"){kony={api:{},app:{},globals:{},system:{},widgets:{},io:{},constants:{KONY_WIDGET_TYPE:"kwidgettype",SELECTED_ITEM:"selecteditem",IMAGE_PATH:"images",RESOURCES_PATH:"resources",TRANSLATION_PATH:"strings",TRANSLATION_EXT:"js",MODE:"s",RUNMODE:"debug",APPSTATE:0}};konychannel="wap";kiden="useragent";$KI=kony.api;$KW=kony.widgets;$KG=kony.globals;$KIO=kony.io;$KG.allforms={};$KG.appbehaviors={};$KG.cwtexists=[];$KG.retina="";$KG.imagecat=""}app={headers:{},footers:{}};$KI.print=kony.print=function(a){if(kony.constants.RUNMODE=="debug"){if(kony.constants.MODE=="s"){if(typeof JSON!="undefined"&&typeof a=="object"){console.log(JSON.stringify(a))}else{console.log(a)}}else{alert(a)}}};if(typeof console==="undefined"){var alertFallback=false;var warnFallback=false;var errorFallback=false;console={};console.log=function(a){alertFallback&&alert(a)};console.warn=function(a){warnFallback&&alert(a)};console.error=function(a){errorFallback&&alert(a)}}kony.appinit={index:0,JSMapFileCount:0,head:document.getElementsByTagName("head")[0],foldertype:IndexJL?"LuaFiles":"JSFiles",vendor:(/webkit/i).test(navigator.userAgent)?"webkit":(/firefox/i).test(navigator.userAgent)?"Moz":"opera" in window?"o":((/msie/i).test(navigator.userAgent)||(/rv:([1][1-9])/i).test(navigator.userAgent))?"ms":"",isIE:window.navigator.appVersion.match(/MSIE (\d+)/)!=null||(/rv:([1][1-9])/i).test(navigator.userAgent),isIE7:window.navigator.appVersion.match(/MSIE (\d+)/)!=null&&RegExp.$1=="7",isIE8:window.navigator.appVersion.match(/MSIE (\d+)/)!=null&&RegExp.$1=="8",isIE9:window.navigator.appVersion.match(/MSIE (\d+)/)!=null&&RegExp.$1=="9",isIE10:navigator.userAgent.match(/MSIE (\d+)/)!=null&&RegExp.$1=="10",isIE11:(/rv:([1][1-9])/i).test(navigator.userAgent),isFirefox:window.navigator.userAgent.indexOf("Firefox")>=0,isChrome:window.navigator.userAgent.indexOf("Chrome")>=0,isSafari:(window.navigator.userAgent.indexOf("Safari")>=0)&&!(window.navigator.userAgent.indexOf("Chrome")>=0),isOpera:window.navigator.userAgent.indexOf("Opera")>=0,isAndroid:(/android/gi).test(navigator.userAgent),isIDevice:(/iphone|ipad/gi).test(navigator.userAgent),isiPhone:(/iphone/gi).test(navigator.userAgent),isiPod:(/ipod/gi).test(navigator.userAgent),isiPad:(/ipad/gi).test(navigator.userAgent),isPlaybook:(/playbook/gi).test(navigator.userAgent),isBlackBerry:((/bb10/gi).test(navigator.userAgent)||(/blackberry/gi).test(navigator.userAgent))&&typeof bbnth=="undefined",isBlackBerry10:(/bb10/gi).test(navigator.userAgent),isBlackBerryNTH:(/blackberry/gi).test(navigator.userAgent)&&typeof bbnth!="undefined"&&bbnth,isTouchPad:(/hp-tablet/gi).test(navigator.userAgent),isWindowsPhone:(/Windows Phone/gi).test(navigator.userAgent),isWindowsTouch:(/Windows/gi).test(navigator.userAgent)&&(/Touch/gi).test(navigator.userAgent),isWindowsTablet:(/Windows NT/gi).test(navigator.userAgent)&&(/Touch/gi).test(navigator.userAgent),isTablet:(/hp-tablet|ipad|playbook/gi).test(navigator.userAgent)||((/android/gi).test(navigator.userAgent)&&!(/mobile/gi).test(navigator.userAgent)),isMob:(/mobile/gi).test(navigator.userAgent),syncFiles:["jslib/tparty/cal/yahoo-dom-event.js","jslib/konytextfieldwidget.js"],syncJSFiles:["jslib/konyJSLib/ui/konyuiBaseClasses.js","jslib/konyJSLib/ui/konyuiForm.js","jslib/konyJSLib/ui/konyuiBox.js"],syncLuaFiles:["jslib/konyLuaLib/ui/windowBaseClasses.js","jslib/konyLuaLib/ui/windowForm.js","jslib/konyLuaLib/ui/windowBox.js"],asyncViewFiles:["jslib/konyconstcommon.js","jslib/konymodel.js","jslib/konycore.js","jslib/konysystem.js","jslib/konyapi.js","jslib/konymodule.js","jslib/konytableapi.js","jslib/konyosapi.js","jslib/konystringapi.js","jslib/konymathapi.js","jslib/konyutils.js","jslib/konyi18n.js","jslib/konywidgets.js","jslib/konytouchwidgets.js","jslib/konyformwidget.js","jslib/konyappmenu.js","jslib/konynetwork.js","jslib/konylabelwidget.js","jslib/konybuttonwidget.js","jslib/konysliderwidget.js","jslib/konytextfieldautocomplete.js","jslib/konytextfieldpassword.js","jslib/konycomboboxgroup.js","jslib/konyradiobuttongroup.js","jslib/konylistboxgroup.js","jslib/konytextareawidget.js","jslib/konycheckboxgroup.js","jslib/konylinkwidget.js","jslib/konyboxwidget.js","jslib/konyvboxwidget.js","jslib/konylinewidget.js","jslib/konysegmentwidget.js","jslib/konyimagewidget.js","jslib/konyHorizontalImagewidget.js","jslib/konyHorizontalImageGallerywidget.js","jslib/konyslotviewwidget.js","jslib/konybrowserwidget.js","jslib/konydatagridwidget.js","jslib/konymapwidget.js","jslib/konytabwidget.js","jslib/konyswitchwidget.js","jslib/konypopup.js","jslib/konyphone.js","jslib/konyscrollerwidget.js","jslib/konyrichtextwidget.js","jslib/konyscrollboxwidget.js","jslib/konymediawidget.js","jslib/konythemesapi.js","jslib/tparty/cal/calendar-min.js","jslib/tparty/cal/element-min.js","jslib/tparty/cal/container-min.js","jslib/konycalendarwidget.js","jslib/konyhybridapi.js","jslib/konydatabaseapi.js","jslib/konydatastoreapi.js","jslib/konygeolocationapi.js","jslib/konyphoneapi.js","jslib/konytimerapi.js","jslib/konyconstants.js","jslib/konypickerview.js","jslib/konypickerwidget.js","jslib/konycrypto.js","jslib/tparty/crypto/cryptojslib-min.js"],asyncJSFiles:["jslib/konyJSLib/core/konyJSUtils.js","jslib/konyJSLib/ui/konyuiBasicWidgets.js","jslib/konyJSLib/ui/konyuiCalendar.js","jslib/konyJSLib/ui/konyuiDataGrid.js","jslib/konyJSLib/ui/konyuiGroupWidgets.js","jslib/konyJSLib/ui/konyuiImage.js","jslib/konyJSLib/ui/konyuiImageGallery.js","jslib/konyJSLib/ui//konyuiHorizontalImageStrip.js","jslib/konyJSLib/ui/konyuiMap.js","jslib/konyJSLib/ui/konyuiBrowser.js","jslib/konyJSLib/ui/konyuiRichText.js","jslib/konyJSLib/ui/konyuiScrollBox.js","jslib/konyJSLib/ui/konyuiSegmentedUI.js","jslib/konyJSLib/ui/konyuiText.js","jslib/konyJSLib/ui/konyuiPopup.js","jslib/konyJSLib/ui/konyuiTabPane.js","jslib/konyJSLib/ui/konyuiSlider.js","jslib/konyJSLib/ui/konyuiVideo.js",],JSMapList:["jslib/konyJSLib/core/konyJSMapping.js","jslib/konyJSLib/core/konyapplication.js"],asyncLuaFiles:["jslib/konyLuaLib/ui/konyWidgetNativeMapping.js","jslib/konyLuaLib/ui/windowBasicWidgets.js","jslib/konyLuaLib/ui/windowCalendar.js","jslib/konyLuaLib/ui/windowDataGrid.js","jslib/konyLuaLib/ui/windowForm.js","jslib/konyLuaLib/ui/windowGallery.js","jslib/konyLuaLib/ui/windowGroupWidgets.js","jslib/konyLuaLib/ui/windowHorizontalImageStrip.js","jslib/konyLuaLib/ui/windowImage.js","jslib/konyLuaLib/ui/windowMap.js","jslib/konyLuaLib/ui/windowPopup.js","jslib/konyLuaLib/ui/windowRichText.js","jslib/konyLuaLib/ui/windowScrollBox.js","jslib/konyLuaLib/ui/windowSegmentedUI.js","jslib/konyLuaLib/ui/windowText.js","jslib/konyLuaLib/ui/windowBrowser.js","jslib/konyLuaLib/ui/windowTabPane.js","jslib/konyLuaLib/ui/windowSlider.js","jslib/konyLuaLib/ui/windowVideo.js"],setPlatformName:function(){var a;var b;if(this.isiPhone){a="spaiphone";b="spaiphone"}else{if(this.isAndroid&&this.isTablet){a="spaandroidtablet";b="spaandroidtab"}else{if(this.isAndroid){a="spaandroid";b="spaandroid"}else{if(this.isBlackBerry){a="spablackberry";b="spabb"}else{if(this.isiPad){a="spaipad";b="spaipad"}else{if(this.isBlackBerryNTH){a="spabbnth";b="spabbnth"}else{if(this.isPlaybook){a="spaplaybook";b="spaother"}else{if(this.isWindowsPhone&&this.isIE10){a="spawinphone8";b="spawinphone8"}else{if(this.isWindowsTablet){a="spawindowstablet";b="spawindowstablet"}else{if(this.isWindowsPhone){a="spawindows";b="spawindows"}else{a="";b="spaother"}}}}}}}}}}if(typeof spaMarkup!="undefined"&&spaMarkup){a=spaMarkup;b=spaMarkup}$KG.platformver=a+"/";$KG.rcid=b;if(this.isiPhone&&window.devicePixelRatio==2){$KG.retina="retina/"}else{$KG.retina=""}},initializeWidgets:function(){var a=[$KW.Form,$KW.HBox,$KW.VBox,$KW.Button,$KW.Image,$KW.Label,$KW.TextField,$KW.ComboBox,$KW.ListBox,$KW.Link,$KW.RichText,$KW.CheckBoxGroup,$KW.RadioButtonGroup,$KW.Map,$KW.HStrip,$KW.IGallery,$KW.Phone,$KW.Segment,$KW.Appmenu,$KW.ScrollBox,$KW.TabPane,$KW.Calendar,$KW.Switch,$KW.TextArea,$KW.DataGrid,$KW.MenuContainer,$KW.PickerView,$KW.Slider,$KW.Line];for(var b=0;b<a.length;b++){if(a[b]){a[b].initialize&&a[b].initialize()}}},loadlibrarysync:function(){var a=kony.appinit;if(!($KI.themes)){if(a.index>0){console.log("File loaded in sync: "+a.syncFiles[a.index-1]+"  number: "+a.index)}if(a.index==a.syncFiles.length){a.loadlibraryasync(a.asyncViewFiles,a.ondone);return}kony.appinit.loadScript(kony.appinit.syncFiles[kony.appinit.index],kony.appinit.loadlibrarysync);a.index++}else{$KG.skipproxy=true;a.verifyhref(true)}},ondone:function(){var a=kony.appinit;console.log("File loaded in async: "+a.asyncViewFiles[a.index]+"  number: "+a.index);a.index++;if(a.index==a.asyncViewFiles.length){IndexJL?a.verifyhref():kony.appinit.loadJSMap();return}},loadlibraryasync:function(d,a){var c=kony.appinit;c.index=0;for(var b=0;b<d.length;b++){c.loadScript(d[b],a)}},loadJSMap:function(){var a=kony.appinit;a.JSMapList[a.JSMapFileCount]&&a.loadScript(a.JSMapList[a.JSMapFileCount],a.loadJSMap);a.JSMapFileCount++;(a.JSMapFileCount==2)&&a.verifyhref()},loadScript:function(b,c){var a=document.createElement("script");if(kony.appinit.isIE7||kony.appinit.isIE8||kony.appinit.isIE9||(kony.appinit.isWindowsPhone&&!kony.appinit.isIE10)){a.src=$KG.platformver+b+"?ver="+$KG.version}else{a.src=$KG.platformver+b}a.type="text/javascript";if(!a.addEventListener){a.onreadystatechange=function(){(this.readyState=="complete"||this.readyState=="loaded")&&c()}}else{a.onload=c}kony.appinit.head.appendChild(a)},mergeDownloadLists:function(){var a=kony.appinit;var b="sync"+a.foldertype;var c="async"+a.foldertype;a.syncFiles=a.syncFiles.concat(a[b]);a.asyncViewFiles=a.asyncViewFiles.concat(a[c])},appcacheeventhndlr:function(a){if(!a){a=window.event}switch(a.type){case"checking":console.log("Checking for Manifest Version");break;case"downloading":console.log("Downloading of Manifest Resources");break;case"progress":break;case"cached":console.log("Manifest Resources loading done");break;case"noupdate":console.log("No Change in Manifest File");break;case"updateready":console.log("New manifest resources downloaded,swap the cache");window.applicationCache.swapCache();window.location.reload();break;case"obsolete":console.log("Cache Manifest file not found. So deleting app cache");break;case"error":console.log("Error while loading app cache");kony.appinit.loadlibrarysync();break;default:console.log("Appcache Event not supported")}},verifyhref:function(a){var c=window.location.search.slice(1);if(c==""){var d=window.location.hash.slice(2);var b=sessionStorage.getItem("klastform");$KG.__launchmode=1;if(d!=""){if(b==d){console.log("verifyhref:Last Form Stored: "+b)}else{console.log("verifyhref:Last Form Stored: "+b+" Hash: "+d)}if(a){kony.appinit.hashflowshowform()}else{kony.appinit.loadappjs(kony.appinit.hashflowshowform)}}else{if(b!=null){sessionStorage.removeItem("klastform");sessionStorage.removeItem("kmodel");kony.print("verifyhref: Deleted Existing sessionStorage")}if(a){kony.appinit.deeplinkflow()}else{kony.appinit.loadappjs(kony.appinit.deeplinkflow)}}}else{$KG.__launchmode=3;if(a){kony.appinit.deeplinkflow()}else{kony.appinit.loadappjs(kony.appinit.deeplinkflow)}}},restorespamodel:function(){var b=sessionStorage.getItem("kmodel");var a="";if(b){a=JSON.parse(b)}if(a){kony.print("restorespamodel:Model Reloaded");return true}else{kony.print("restorespamodel:Case of Corrupt Model");return true}},appstartup:function(){setTimeout("kony.appinit.disablesplash()",1500)},hashflowshowform:function(){var b=sessionStorage.getItem("klastform");if(kony.appinit.restorespamodel()&&b){var a=window[b];kony.print("hashflowshowform: Display Form "+a.id);a&&$KW.Form.show(a)}else{kony.print("hashflowshowform:ERROR recovering model so landing on Home Page");kony.appinit.deeplinkflow()}},deeplinkflow:function(){var f=window.location.search.slice(1);var e={};var a=f.split("&");kony.print("deeplinkflow: args:"+a.join());for(var c=0;c<a.length;c++){var k=a[c].replace(/\+/g," ").split("=");var h=decodeURIComponent(k[0]);var g=decodeURIComponent(k[1]);if(h){e[h]=g}}var j=window.location.href.split("?");var d=f.search("kdeeplink=");e.deeplinkpath=j[0];e.deepLinkPath=j[0];e.reqheaders=kony.globals.httpheaders;if(kony.globals.konyParams){for(var b in kony.globals.konyParams){e[b]=kony.globals.konyParams[b]}}$KG.kdeepobj=e;if(d==-1){kony.print("deeplinkflow:newsession")}else{kony.print("deeplinkflow:insession")}setTimeout("kony.appinit.disablesplash()",1500)},loadappjs:function(a){kony.appinit.loadScript("appjs/app.js",a);if(window.location.href!==undefined&&window.location.href.indexOf(".konycloud.com")!==-1){kony.appinit.loadScript("jslib/konylicense.js",a)}},disablesplash:function(){kony.print("disabling splash");kony.appinit.initializeheaders();var a=$KG.__konyappevents;kony.print("appmode:not hybrid,invoking initializeapp");initializeApp&&initializeApp()},setAppHeaderRef:function(){var a=function(f){for(var d in f){var g=f[d];var e=f[d]=window[g][d];$KU.setChildren(g,e,e.children)}};var c=kony.app.headers;c&&a(c);var b=kony.app.footers;b&&a(b)},setChildren:function(d,c,b){if(b&&b.length>0){for(var a=0;a<b.length;a++){c[b[a]]=window[d][b[a]];this.setChildren(d,c,window[d][b[a]].children)}}},setImageBasedDP:function(){var a="";if($KU.isAndroid){var b=window.devicePixelRatio;if(!$KU.isTablet){if(b<=1){a="320/"}else{if(b>1&&b<=1.5){a="360/"}else{if(b>1.5&&b<=2){a="400/"}else{if(b>2){a="440/"}}}}}else{if(b<=1){a="mdpi/"}else{if(b<=1.5){a="hdpi/"}else{if(b>1.5){a="xhdpi/"}}}}}else{if($KU.isWindowsPhone){a="320/"}else{if($KU.isBlackBerry||$KU.isBlackBerryNTH){var c=window.orientation;var a=window.innerWidth+"/";if(c){a=Math.min(window.innerWidth,window.innerHeight)}if(c&&parseInt(a,10)>250){a="360/"}else{if(c||parseInt(a,10)<340){a="320/"}else{a="360/"}}if(window.devicePixelRatio>2){a="440/"}}}}if(typeof spaMarkup!="undefined"&&spaMarkup&&spaMarkup==="spaiphone"){a=""}$KG.imagecat=a;if($KG.imagewhiledownloading){new Image().src=$KU.getImageURL($KG.imagewhiledownloading)}new Image().src=$KU.getImageURL("imgload.gif")},initializeheaders:function(a){if(kony.constants.APPSTATE==0){kony.constants.APPSTATE=1;kony.appinit.setImageBasedDP();kony.appinit.initializeMainContainer();kony.app&&kony.appinit.setAppHeaderRef();kony.appinit.setPlatformName()}},initializeMainContainer:function(){var a=$KU.getElementById("__MainContainer");if(!a){document.body.innerHTML="<div id='__MainContainer'></div>"}kony.events.registerDocumentEvents()},prepareHttpHeaders:function(){var a=document.getElementById("isnewsession");if(a!=null){kony.appinit.isNewSession=a.innerHTML}var d=document.getElementById("sessionId");if(d!=null){kony.appinit.sessionId=a.innerHTML}var f=document.getElementsByName("_konyAppProperties")[0];if(f&&f.value){window._konyAppProperties=JSON.parse(f.value)}else{window._konyAppProperties=undefined}var e=document.getElementsByName("_reqParams")[0];if(e&&e.value){kony.globals.konyParams=JSON.parse(e.value)}var k=document.getElementsByName("_reqHeaders")[0];if(k&&k.value){var h=[];var g=JSON.parse(k.value.replace(/"="/g,'":"'));for(p in g){g[p]=decodeURIComponent(g[p])}kony.globals.httpheaders=g;if(Object.keys){h=Object.keys(kony.globals.httpheaders)}else{for(var b in kony.globals.httpheaders){h.push(b)}}for(var c=0;c<h.length;c++){kony.globals.httpheaders[h[c]]=unescape(kony.globals.httpheaders[h[c]])}}},initappcache:function(){kony.appinit.prepareHttpHeaders();kony.appinit.setPlatformName();kony.appinit.mergeDownloadLists();if(document.documentElement.getAttribute("manifest")&&!!window.applicationCache){var a=["checking","downloading","progress","cached","noupdate","updateready","obsolete","error"];for(var b=0;b<a.length;b++){window.applicationCache.addEventListener(a[b],kony.appinit.appcacheeventhndlr,false)}}else{}kony.appinit.loadlibrarysync()},konyLoadFunctionalModules:function(){if($KG.functionalModules){var a=$KG.functionalModules;for(var b in a){if(b&&a[b].cache){kony.modules.loadModule(b)}}}}};$KI.os={platform:function(){var c={};var b=$KG.imagecat;b=b.substring(0,b.length-1);var a=$KU.getPlatform();if(a.name=="iphone"){if(window.devicePixelRatio==1){b="320"}else{b="640"}}c.name="thinclient";c.model="";c.version=a.version;c.deviceWidth=screen.width;c.deviceHeight=screen.height;c.hascamera=false;c.hasgps=(navigator.geolocation!=undefined?true:false);c.hastouchsupport=$KU.isTouchSupported;c.hasorientationsupport=$KU.isOrientationSupported;c.iswifiavailable=(navigator.onLine!=undefined?navigator.onLine:true);c.type="spa";c.imagecat=b;c.deviceid="";c.category=a.name;c.userAgent=navigator.userAgent;c.ip="";if($KG.httpheaders){c.httpheaders=JSON.stringify($KG.httpheaders)}return c},useragent:function(){return navigator.userAgent},setapplicationmode:function(a){$KG.appmode=a;if(a==2||a==3){$KG.platformver=""}},getapplicationmode:function(a){var a=$KG.appmode;return !!a?a:1}};kony.decrement=function(a){if(typeof(a)==="number"){return a-1}else{return a}};kony.increment=function(a){if(typeof(a)==="number"){return a+1}else{return a}};kony.decrementIndices=function(b){var a=[];for(var c=0;c<b.length;c++){a[c]=b[c]-1}return a};kony.incrementIndices=function(b){var a=[];for(var c=0;c<b.length;c++){a[c]=b[c]+1}return a};
function containerWidgetExtendAdd(a){this.setparent(a);this.ownchildrenref=this.ownchildrenref.concat(a);this.createhierarchy(a)}function containerWidgetExtendAddAt(b,a){a=a<IndexJL?IndexJL:(a-IndexJL>this.ownchildrenref.length?this.ownchildrenref.length+1:a-IndexJL);this.children.splice(a,0,b.id);this.ownchildrenref.splice(a,0,b);b.parent=this.id;this.createhierarchy([b])}function containerWidgetExtendRemove(b){_konyConstNS.ContainerWidget.prototype.removeReferences.call(this,b);if(b instanceof _konyConstNS.ContainerWidget){var c=b.ownchildrenref.length;for(var a=c-1;a>=0;--a){_konyConstNS.ContainerWidget.prototype.remove.call(b,b.ownchildrenref[a])}}if(this.wType=="ScrollBox"){boxWidgetExtendRemoveBoxWeight.call(this,b,true)}}function containerWidgetExtendRemoveAt(a){var b=null;if(a>=IndexJL&&a-IndexJL<=this.ownchildrenref.length){var b=this.ownchildrenref[a-IndexJL];b&&_konyConstNS.ContainerWidget.prototype.remove.call(this,b)}if(this.wType=="ScrollBox"){boxWidgetExtendRemoveBoxWeight.call(this,b,true)}return b}function containerWidgetExtendSetParent(b){for(var a=0;a<b.length;a++){this.children.push(b[a].id);b[a].parent=this.id}}function containerWidgetExtendCreateHierarchy(c){for(var a=0;a<c.length;a++){var b=c[a];this[b.id]=b;if(this.wType=="TabPane"){b.pf=this.pf}else{b.pf=this.id}}}function containerWidgetExtendRemoveReferences(b){delete this[b.id];if((this.wType==="Form"||this.wType==="Popup")&&this["screenLevelWidgets"]&&this["screenLevelWidgets"][b.id]){delete this["screenLevelWidgets"][b.id]}if(this.children.remove){this.children.remove(b.id)}else{var c=this.children;if(c.indexOf(b.id)>=0){c&&c.splice(c.indexOf(b.id),1)}}var a=this.ownchildrenref;a&&a.splice(a.indexOf(b),1);if(this.wType==="Form"||this.wType==="Popup"){delete $KG.allforms[b.pf][b.id]}}function boxWidgetExtendAdd(a){_konyConstNS.ContainerWidget.prototype.add.call(this,a);$KG.allforms[this.pf]&&$KG.allforms[this.pf].createFormLevelHierarchy(a);if(this.wType=="ScrollBox"){_konyConstNS.Box.prototype.updateBoxWeight.call(this,a)}$KW.HBox.addChild(this,a)}function boxWidgetExtendAddAt(b,a){_konyConstNS.ContainerWidget.prototype.addAt.call(this,b,a);$KG.allforms[this.pf]&&$KG.allforms[this.pf].createFormLevelHierarchy([b]);if(this.wType=="ScrollBox"){_konyConstNS.Box.prototype.updateBoxWeight.call(this,b)}$KW.HBox.addChildat(this,[b],a)}function boxWidgetExtendRemove(a){if(a){$KW.HBox.DOMremove(this,a);_konyConstNS.ContainerWidget.prototype.remove.call(this,a)}}function boxWidgetExtendRemoveAt(a){$KW.HBox.DOMremove(this,this.ownchildrenref[a-IndexJL]);return _konyConstNS.ContainerWidget.prototype.removeAt.call(this,a)}function boxWidgetExtendUpdateBoxWeight(b){if(b.length){for(var a=0;a<b.length;++a){this.totalWt+=b[a].containerweight}}else{if(b.containerweight){this.totalWt+=b.containerweight}}$KW[this.wType]["updateView"](this,"totalWt",this.totalWt)}function boxWidgetExtendRemoveBoxWeight(c,a){this.totalWt=0;for(var b=0;b<this.children.length;++b){this.totalWt+=this[this.children[b]].containerweight}$KW[this.wType]["updateView"](this,"totalWt",this.totalWt)}function formWidgetExtendAdd(b){_konyConstNS.ContainerWidget.prototype.add.call(this,b);this.createFormLevelHierarchy(b);try{$KW.Form.addChild(this,b)}catch(a){}}function formWidgetExtendAddAt(b,a){_konyConstNS.ContainerWidget.prototype.addAt.call(this,b,a);this.createFormLevelHierarchy([b]);a=a<IndexJL?0:((a>this.children.length)?this.children.length:a-IndexJL);$KW.Form.addChildAt(this,b,a)}function formWidgetExtendRemove(a){if(a){$KW.Form.DOMremove(this,a);_konyConstNS.ContainerWidget.prototype.remove.call(this,a);updateFormWithScreenLevelWidget(this,a)}}function formWidgetExtendRemoveAt(b){$KW.Form.DOMremoveAt(this,b-IndexJL);var a=_konyConstNS.ContainerWidget.prototype.removeAt.call(this,b);updateFormWithScreenLevelWidget(this,a);return a}function updateFormWithScreenLevelWidget(b,a){if(a&&a.screenLevelWidget){$KW.Form.addChild(b,b.ownchildrenref)}}function formWidgetExtendCreateFormLevelHierarchy(c){for(var a=0;a<c.length;a++){var b=c[a];this[b.id]=b;if((this.wType=="Popup"||this.wType=="Form")&&b.screenLevelWidget){this["screenLevelWidgets"]=this["screenLevelWidgets"]||{};this["screenLevelWidgets"][b.id]=b}if(this.wType=="TabPane"){b.pf=this.pf}else{b.pf=this.id}}_konyConstNS.Form2.getallboxes.call(this,c);for(var a=0;a<this.allboxes.length;a++){var d=this.allboxes[a].ownchildrenref;this.createhierarchy.call(this,d)}this.allboxes=[]}function formWidgetExtendCommonHeaderFooterSetup(a){var d={};d.children=[];for(var b=IndexJL;b<this[a].length;b++){if(app&&!app[a][this[a][b].id]){app[a][this[a][b].id]=this[a][b]}var c=this[a][b];if(c.wType=="VBox"&&this.wType=="Form"){throw new KonyError(1102,"WidgetError","Widget cannot be created due to invalid input data")}_konyConstNS.Form2.prototype.createFormLevelHierarchy.call(this,[c]);_konyConstNS.ContainerWidget.prototype.createhierarchy.call(c,[c]);app[a][this[a][b].id].isheader=true;_konyConstNS.Form2.prototype.createFormLevelHierarchy.call(app[a][this[a][b].id],[].slice.call([this[a][b]]));d.children[b]=this[a][b].id;d[this[a][b].id]=this[a][b]}d.pf=this.id;d.id=this[a.substr(0,6)]=[this.id,a.substr(0,6)].join("_");$KG[d.id]=d}function formWidgetExtendGetAllBoxes(b){for(var a=0;a<b.length;a++){var c=b[a];if(c.ownchildrenref){this.allboxes.push(c);_konyConstNS.Form2.getallboxes.call(this,c.ownchildrenref)}}}function formWidgetExtendaddHeaderorFooter(){var b=[].slice.call(arguments[0]);for(var a=0;a<b.length;a++){if(b[a].wType=="VBox"&&this.wType=="Form"){throw new KonyError(1102,"WidgetError","Widget cannot be created due to invalid input data")}}_konyConstNS.ContainerWidget.prototype.createhierarchy.call(this,b);_konyConstNS.Form2.prototype.createFormLevelHierarchy.call(this,b)};
kony.model={update:function(f,b,h){if(f==undefined||f==null){kony.print("kony.model.update:Error in Model,value is undefined or null");return}if(f.wType==undefined||(f[b]&&f[b]["wType"])){f[b]=h}else{var d=f;var g=d.wType;if(g=="TPW"){var i=d.widgetName.split(".");var c=window;for(var e=0;e<i.length;e++){c=c[i[e]]}c.modelChange&&c.modelChange(f,b,h)}else{var a=d[b];$KI.i18n&&$KI.i18n.checkI18nStatus(d,b);d[b]=h;this.updateView(d,b,h,a)}}},updateView:function(j,l,q,e){var c;if(j.wType=="Form"){c=document.getElementById(j.id)}else{if(j.wType=="ScrollBox"){c=document.getElementById(j.pf+"_"+j.id+"_parent")}else{c=$KU.getNodeByModel(j)}}if(!c){c=document.getElementById(j.pf+"_"+j.id+"_Body")}switch(l){case"skin":if(j.wType=="Form"){var k;if(!$KG.needScroller&&!$KU.isBlackBerryNTH){document.body.className=q||""}else{if($KU.isBlackBerryNTH){k=document.getElementById(j.id+"_container")}else{k=document.getElementById(j.id+"_scroller")}}if(k){$KU.removeClassName(k,e);$KU.addClassName(k,q)}}else{if(j.wType=="Tab"){c=$KU.getElementById(j.pf+"_"+j.id+"_Body")}}if(c){$KU.removeClassName(c,e);$KU.addClassName(c,q);if(j.wType=="Line"){$KW.Line.applySkin(c,q)}}else{$KW.Utils.updateDOMSkin(j,q,e)}break;case"focusskin":case"rowfocusskin":case"activefocusskin":$KW.Utils.updateFocusSkin(j,j.rowfocusskin?"rowfocusskin":"focusskin");break;case"isvisible":$KW.Widget.setvisibility(j,q);break;case"margin":if(c){$KW.skins.setMarginPadding(c,l,j,q);if(j.wType=="ScrollBox"){var g=$KG[j.pf+"_"+j.id+"_scroller"];g&&g.refresh()}}break;case"padding":if(j.wType=="Image"){c=c.parentNode}if(c){c.style[l]=$KU.joinArray(q,"% ")+"%";if(j.wType=="ScrollBox"){$KW.Utils.setScrollWidth(j,c)}if(j.wType=="VBox"||j.wType=="HBox"){var d=c.style.margin;c.style.margin="1px";setTimeout(function(){c.style.margin=d},10)}}break;case"containerweight":if(c){c=c.parentNode;if(j.wType=="Image"){c=c.parentNode}if(j.wType=="Slider"){c=c.parentNode.parentNode}if(j.wType=="HStrip"){if(c.parentNode.parentNode.parentNode&&c.parentNode.parentNode.parentNode.className.indexOf("kcell")!=-1){c=c.parentNode.parentNode.parentNode}}$KU.removeClassName(c,"kwt"+e);$KU.addClassName(c,"kwt"+q);if($KG.appbehaviors.adherePercentageStrictly==true){var n=kony.model.getWidgetModel(j.pf,j.parent);if(n&&n.wType=="HBox"){$KU.removeClassName(c.parentNode.lastChild,"kwt"+n.dummyNodeWidth);n.dummyNodeWidth=$KW.HBox.getExtraNodeWidth(n);$KU.addClassName(c.parentNode.lastChild,"kwt"+n.dummyNodeWidth)}}if(j.wType=="HStrip"){var i=c.parentNode;if(i.childNodes.length==1){cell.style.display="inline-block"}}else{if(j.wType=="Switch"){(function(s){var t=window.setTimeout(function(){$KW.Switch.adjustSwitchWidth(s);$KW.Switch.adjustSwitchHeight(s);window.clearTimeout(t);delete t},0)})(j.pf)}else{if(j.wType=="ScrollBox"){var o=c.childNodes[0].id;var m=o.substring(0,o.lastIndexOf("_"));$KW.ScrollBox.adjustArrowPosition(m)}else{if(j.wType=="Slider"){$KW[j.wType]["updateView"](j,"containerweight")}}}}}var r=$KG.allforms[j.pf];if(!r){return}var a=r[j.parent];if(a&&a.wType=="ScrollBox"){$KW.ScrollBox.recalculateScrollBoxWidth(a)}break;case"backgroundimage":$KW.Utils.updateNormalImage(j);break;case"contentalignment":var b=$KW.skins.getContentAlignment(j);if(c){c.style.textAlign=b;if(j.wType=="Calendar"&&$KU.isIE10&&c.firstChild){c.firstChild.style.textAlign=b;var h=c.firstChild.style.paddingRight;c.firstChild.className+=" updateTextAlignment";window.setTimeout(function(){$KU.removeClassName(c.firstChild,"updateTextAlignment");c.firstChild.style.paddingRight=h},100)}if(j.wType=="Calendar"&&$KU.isIE9&&c.firstChild){c.firstChild.value+=""}}break;case"accessibilityConfig":if(c&&j.wType=="Link"||j.wType=="Label"){c=c.firstChild}if(!c||j.wType=="RadioButtonGroup"||j.wType=="CheckBoxGroup"){return}$KU.addAriatoElement(c,q,j);break;default:var p=(j.wType=="Tab")?"TabPane":j.wType;var f=$KW[p];f.updateView&&f.updateView(j,l,q,e)}},getWidgetModel:function(d,c,e){if(!d){return null}var a=kony.model.getWidgetRef(d);if(e&&a){if(c){var b=a[e];return b[c]}}if(c&&d!=c){var b=a[c];return b}return a},getWidgetRef:function(a){var b=$KG.allforms[a];if(b&&["Form","Form2"].contains(b.wType)){return b}else{return($KG[a]||window[a])}}};
kony.events={widgetEventMap:{},hiddenIFrame:null,isFrameworkEventsRegistered:false,KUnloadEvent:function(c,a,b,d){this.kFormID=c;this.kWidgetID=a;this.kWidgetType=b;this.kEventHandler=d},addEvent:function(a,b,c){kony.events.widgetEventMap[b]=kony.events.widgetEventMap[b]||{};kony.events.widgetEventMap[b][a]=c},getEventHandler:function(m){m=m||window.event;var q=m.target||m.srcElement;var f=true;var d;if($KG.__idletimeout&&$KG.__idletimeout["enabled"]){var s=$KI.appevents.resettimer();if(s===false){return}}$KW.Appmenu&&$KW.Appmenu.hidemoreappmenuitems();if(q.getAttribute("w-type")!="Calendar"&&q.getAttribute("kwidgettype")!="Calendar"){$KW.Calendar&&$KW.Calendar.__dp.destroyCalendar()}if(q.getAttribute("w-type-inactive")){return}var a=document.querySelectorAll("div.dw"),g=null;for(var j=0;j<a.length;j++){g=$KG[a[j].id.replace("_picker","")];g&&g.hide()}if(!$KG.relativeScroll&&m.type=="click"&&($KU.isTouchSupported||$KU.isPointerSupported)&&$KG.targetWidget&&($KG.moved||($KG.targetWidget&&q!=$KG.targetWidget))){$KG.targetWidget="";$KG.moved=false;var e=m.srcElement;if((e.getAttribute&&e.getAttribute("kwidgettype")=="Calendar")||(e.parentNode&&e.parentNode.getAttribute&&e.parentNode.getAttribute("kwidgettype")=="Calendar")){}else{return}}if(q){var v=q.getAttribute(kony.constants.KONY_WIDGET_TYPE);if(q.tagName=="A"){d=[q.innerText,q.getAttribute("href")]}if(q.getAttribute("tpwidgettype")){$KW.Popup&&$KW.Popup.dismissPopup();return}else{if(!v){var r=q.childNodes[0];if(q.getAttribute("index")&&r&&r.getAttribute("kwidgettype")=="Segment"){q=r;v="Segment"}else{var k=$KU.getParentByAttribute(q,"tpwidgettype");q=$KU.getParentByAttribute(q,kony.constants.KONY_WIDGET_TYPE);if(!q||k){$KW.Popup&&$KW.Popup.dismissPopup();return}v=q.getAttribute(kony.constants.KONY_WIDGET_TYPE)}}}var t=$KU.getContainerForm(q)||(q.getAttribute&&q.getAttribute("kformname"));if($KW.Popup&&$KW.Popup.dismissPopup(t)){return}var h=$KU.getModelByNode(q);if(h&&h.disabled){return}var l=kony.events.widgetEventMap[v];if(l&&l[m.type]){var b=q.getAttribute("kdisabled");if(b=="true"){kony.events.preventDefault(m);return}var o=l[m.type];if(v=="RichText"){if(!h.onclick){f=false}}var u=m.target||m.srcElement;if(!(v=="TextField"||v=="CheckBoxGroup"||v=="TextArea"||v=="RadioButtonGroup"||(v=="DataGrid"&&u.type=="checkbox"))){if(f){kony.events.stopPropagation(m);kony.events.preventDefault(m)}}var c=document.querySelectorAll("div[name='SelectOptions']");if(c){for(var n=0;n<c.length;n++){if(c[n].style.display=="block"){if(q.id!=c[n].parentNode.id){c[n].style.display="none"}}}}if(v=="RichText"&&d){o(m,q,d)}else{o(m,q,u)}if(!kony.system.activity.hasActivity()){$KW.Utils.removeBlockUISkin();$KW.unLoadWidget()}}}},addEventListener:function(a,b,d,c){if(!a){return}if(!d){d=kony.events.getEventHandler}if(!c){c=false}if(a.addEventListener){a.addEventListener(b,d,c)}else{if(a.attachEvent){a.attachEvent("on"+b,d)}}},removeEventListener:function(a,b,d,c){if(!a){return}if(!d){d=kony.events.getEventHandler}if(!c){c=false}if(a.removeEventListener){a.removeEventListener(b,d,c)}else{if(a.attachEvent){a.detachEvent("on"+b,d)}}},preventDefault:function(a){if(!a){return}if(a.preventDefault){a.preventDefault()}else{a.returnValue=false}},stopPropagation:function(a){if(!a){return}if(a.stopPropagation){a.stopPropagation()}else{a.cancelBubble=true}},ontouchstartHandler:function(b){if(($KU.isIE?b:b.changedTouches)&&!$KG.relativeScroll){var a=b.changedTouches?(b.changedTouches[0].target||b.changedTouches[0].srcElement):(b.target||b.srcElement);if(a.nodeType==3){a=a.parentNode}$KG.targetWidget=a;$KG.moved=false;if($KU.isIE){var c=b.touches&&b.touches[0]||b;$KG.pointX=c.pageX;$KG.pointY=c.pageY}}},ontouchmoveHandler:function(c){if(!$KG.relativeScroll){if($KU.isIE){var d=c.touches&&c.touches[0]||c;var b=d.pageX-$KG.pointX,a=d.pageY-$KG.pointY;if(Math.abs(b)>0||Math.abs(a)>0){$KG.moved=true}}else{$KG.moved=true}}},registerDocumentEvents:function(){var a=($KU.isWindowsPhone&&$KU.isIE9)?document:document.getElementById("__MainContainer");kony.events.addEventListener(a,"click");kony.events.addEventListener(a,"change");kony.events.addEventListener(a,"keydown");kony.events.addEventListener(a,"keyup");if($KG.useNativeScroll){kony.events.addEventListener(a,"touchstart",function(){});kony.events.addEventListener(a,"touchmove",function(){})}else{if($KU.isTouchSupported){kony.events.addEventListener(a,"touchstart",kony.events.ontouchstartHandler);kony.events.addEventListener(a,"touchmove",kony.events.ontouchmoveHandler)}else{if($KU.isPointerSupported){kony.events.addEventListener(a,"MSPointerDown",kony.events.ontouchstartHandler);kony.events.addEventListener(a,"MSPointerMove",kony.events.ontouchmoveHandler)}}}kony.appinit.initializeWidgets();kony.events.orientationregistration();kony.events.addEventListener(window,"unload",kony.events.unregisterListeners);kony.events.isFrameworkEventsRegistered=true},unregisterListeners:function(b){var a=$KU.isWindowsPhone?document:document.getElementById("__MainContainer");kony.events.removeEventListener(a,"click");kony.events.removeEventListener(a,"touchstart");kony.events.removeEventListener(a,"touchmove");kony.events.removeEventListener(a,"change");kony.events.removeEventListener(a,"keydown");kony.events.removeEventListener(a,"keyup");kony.events.removeEventListener(a,"touchstart");if($KU.hashChange){kony.events.removeEventListener(window,"hashchange")}$KW.Form.delistSystemTimerActions()},windowOrientationChange:function(){var d=$KU.getWindowWidth();var c=$KU.getWindowHeight();var b=window.event;var a=$KU.detectOrientation();if(a!=undefined&&a==$KG.__orientation&&b&&b.type=="resize"){window.clearTimeout(kony.events.resizeTimeoutId);kony.events.resizeTimeoutId=setTimeout(function(){if($KG.activeInput&&!$KG.relativeScroll&&c>$KG.__viewportHeight){if($KG.appbehaviors.disableScrollOnInputFocus==true){$KG.activeInput.blur()}$KU.onHideKeypad()}else{$KU.adjustScrollBoxesOnResize()}$KG.__viewportHeight=c},$KU.orientationDelay);return}else{$KG.__orientation=a}if($KG.__currentForm){if($KU.isOrientationSupported&&$KU.isAndroid){if(b&&b.type=="resize"){return}}$KU.getInnerHeight($KU.orientationDelay);$KU.setActiveInput();$KG.__viewportHeight=c;window.clearTimeout(kony.events.orientationTimeoutId);kony.events.orientationTimeoutId=setTimeout(function(){var g=kony.events.widgetEventMap||{};for(var e in g){var h=g[e];var f=h.onorientationchange||h.onresize;f&&f($KG.__currentForm.id,$KG.__orientation)}$KW.Form.resizeForm($KG.__currentForm.id,true)},$KU.orientationDelay)}},orientationregistration:function(){$KG.__orientation=$KU.detectOrientation();$KG.__oldWindowWidth=$KU.getWindowWidth();$KG.__oldWindowHeight=$KU.getWindowHeight();var a=($KU.isOrientationSupported&&!$KU.isAndroid)?"orientationchange":"resize";kony.events.addEventListener(window,a,kony.events.windowOrientationChange);if($KU.isOrientationSupported&&$KU.isAndroid){kony.events.addEventListener(window,"orientationchange",kony.events.windowOrientationChange)}},executeBoxEvent:function(k,q,c,e){if(q&&c){var o=null,j=null,i=null,r=null,d=k,f=null;var h=$KW.Utils.getTemplateByContainerModelAndRowData(c,q,e);while(d){var l=q[c.widgetdatamap[d.id]];o=$KU.cloneObj(l);if(o){if(typeof o==="string"){o=(d.wType==="Image")?{src:o}:{text:o}}if(!IndexJL){for(var b in o){if(o.hasOwnProperty(b)&&b!==b.toLowerCase()){o[b.toLowerCase()]=o[b]}}if(c.wType=="Segment"){context={sectionIndex:c.currentIndex[0],rowIndex:c.currentIndex[1],widgetInfo:l}}}i=o.onclick||d.onclick;if(i&&o.enable!==false){f=$KU.extend(o,d);r=$KU.returnEventReference(f.onclick);if(r&&f.blockeduiskin){$KW.Utils.applyBlockUISkin(f)}j=$KU.getNodeByModel(f);(!f.containerID&&f.wType!="Segment")&&$KW.HBox.setProgressIndicator(j);r&&(context?r.call(f,f,context):r.call(f,f));return true}}else{if(d.onclick){r=$KU.returnEventReference(d.onclick);if(r&&d.blockeduiskin){$KW.Utils.applyBlockUISkin(d)}j=$KU.getNodeByModel(d);(!d.containerID&&d.wType!="Segment")&&$KW.HBox.setProgressIndicator(j);r&&r.call(d,d);return true}}d=h[d.parent];if(!d){return false}}}else{var n=k.pf;var a=$KG.allforms[n]||$KG.__currentForm;var g=k.parent&&a&&a[k.parent];while(g){if(g.onclick||(n==g.parent)){if(g.onclick){var m=$KU.returnEventReference(g.onclick);g.blockeduiskin&&$KW.Utils.applyBlockUISkin(g);var j=$KU.getNodeByModel(g);(!g.containerID&&g.wType!="Segment")&&$KW.HBox.setProgressIndicator(j);m&&m.call(g,g);return true}return false}g=a[g.parent]}return false}},browserback:{currentHash:window.location.hash,HASH_PREFIX:"#_",handleBrowserBackEvent:function(){if($KG.__idletimeout&&$KG.__idletimeout["enabled"]){$KI.appevents.resettimer()}if(window.location.hash&&kony.events.browserback.currentHash&&window.location.hash!==kony.events.browserback.currentHash){$KI.window.dismissLoadingScreen();$KW.Calendar&&$KW.Calendar.__dp.destroyCalendar();var a=$KG.__currentForm;var b=$KU.returnEventReference(a.ondeviceback);if(b){location.hash=kony.events.browserback.HASH_PREFIX+a.id;b.call();return}var c=window.location.hash.substr(kony.events.browserback.HASH_PREFIX.length);window.location.hash=kony.events.browserback.HASH_PREFIX+c;var d=window[c];if(d&&d.wType=="Form"){d.isfromBrowserBack=true;$KW.Form.show(d)}}},updateURLWithLocation:function(b){if(b){if(typeof cvox!=="undefined"&&window.location.hash!=this.HASH_PREFIX+b){try{cvox.ChromeVoxEventWatcher.cleanup(window)}catch(a){kony.print(a.message)}}window.location.hash=kony.events.browserback.currentHash=this.HASH_PREFIX+b}}}};window.onload=function(){setTimeout(function(){window.scrollTo(0,1)},100)};
kony.system.activity={activityCounter:0,increment:function(){this.activityCounter++},decrement:function(){if(this.activityCounter!=0){this.activityCounter--}},hasActivity:function(){if(this.activityCounter>0){return true}else{return false}}};kony.system.timers={timerActions:new Array(),TimerAction:function(a,b){this.actionName=a;this.frequency=b;this.timer=null;this.elapsedTimeSinceLastCall=0},registerTimerAction:function(a){if(this.timerActions.containsTimerAction(a)===false){this.timerActions.push(a)}},executeTimerActions:function(){if(this.timerActions.length>0){for(var b=0;b<this.timerActions.length;b++){var a=this.timerActions[b];a.timer=setInterval(a.actionName,a.frequency)}}},removeTimerAction:function(b){var c=new Array();if(this.timerActions.length>0){for(var a=0;a<this.timerActions.length;a++){if(this.timerActions[a].actionName!==b.actionName){c.push(this.timerActions[a])}}this.timerActions=c}},clearTimerAction:function(b){if(this.timerActions.length>0){for(var a=0;a<this.timerActions.length;a++){b=this.timerActions[a];clearTimeout(b.timer)}}}};
$KI.setappevents=function(m){if($KG.appmode==constants.APPLICATION_MODE_HYBRID){var e;if(IndexJL){e=window.appinit}else{e=window.appInit}e&&e();$KU.detectDevice();return}$KG.__konyappevents=m;var h=m.preappinit||null;var c=m.init||null;var l=m.postappinit||null;var q=m.appservice||null;var p=m.showstartupform||null;var g=m.deeplink||null;var o={};var n=null;var b={};b.launchparams={};var s;if(window.location.hash){var r=kony.bm.getFormId(window.location.hash);if(r){o.formID=r;var d=kony.bm.getBMState(r);if(d){for(var f in d){o[f]=d[f]}}}}b.launchmode=$KG.__launchmode;if($KG.kdeepobj){b.launchparams=$KG.kdeepobj}for(var a in o){b.launchparams[a]=o[a]}$KU.getInnerHeight($KU.isIDevice?0:200);$KU.isAndroid&&setTimeout(function(){$KG.__viewportHeight=window.innerHeight},200);h&&h(b);$KU.detectDevice();c=$KU.returnEventReference(c);c&&c(o);o.isRefresh=false;o.isNewSPASession=(kony.appinit.isNewSession=="true")?true:false;if(window.location.hash){var j=window[window.location.hash.substring(2)];if(j&&!o.isNewSPASession){o.isRefresh=true;o.refreshForm=j}}for(var a in o){b.launchparams[a]=o[a]}if(l){n=l(b)}if(g||q){if(q){n=q(b)}else{if(g){n=g($KG.kdeepobj)}}}if((n==null)||(n.length==0)){p&&p(b)}else{if(typeof n=="string"){s=$KG.allforms[n]}else{s=n}if(IndexJL==1){s&&$KW.Form.handleshow(s)}else{s&&s.show()}}};$KI.window={openURL:function(b,c,a){$KW.unLoadWidget();if(!a){a="_blank"}window.open(b,a)},alert:function(c,e,b){if(c===null){return}var f=c;var a=e||null;var g=b||null;if(c.message||c.alerttype||c.alertType){g=c.alerttype||c.alertType;f=c.message;a=c.alerthandler||c.alertHandler||null}if(g===constants.ALERT_TYPE_INFO||g===constants.ALERT_TYPE_ERROR||!g){alert(f);a&&a()}else{if(g===constants.ALERT_TYPE_CONFIRMATION){var d=confirm(f);a&&a(d)}}},openMediaURL:function(){},showLoadingScreen:function(){$KG.__dismissed=false;var n=arguments[0];var g=arguments[1]||"";var t=arguments[2]||constants.LOADING_SCREEN_POSITION_FULL_SCREEN;var j=(arguments[3]===false)?false:true;var l=(arguments[4]===false)?false:true;var f=l?"<img src='"+$KU.getImageURL("loading.gif")+"' style='vertical-align:middle'/>":"";g=g?"<label style='padding:10px; xfont-size: 16px;color:"+(n?" inherit;":"white;")+(!l?"display: block;":"")+"'>"+g+"</label>":"";$KU.createa11yDynamicElement();var s=document.getElementById("__loadingScreenDiv");var q=s||document.createElement("div");if($KU.isWindowsPhone){q.onclick=function(){var u=window.event;if(u){kony.events.preventDefault(u);kony.events.stopPropagation(u)}}}q.id="__loadingScreenDiv";q.style.zIndex="100";q.style.visibility="hidden";q.style.backgroundColor="";var a="50%";$KG.bgImgHeight=0;var r=function(v){if($KG.__dismissed){return}if(!v){v=window.event}if(v&&v.type=="error"){document.body.appendChild(q)}else{var w,D="";if(v&&v.type=="load"){w=v.srcElement.tagName;$KG.bgImgHeight=v.srcElement.naturalHeight}else{D=document.querySelector("div[id='__wrapperDiv']")}var z,u,C;var B=0;if($KG.relativeScroll){var x=document.getElementById("__MainContainer").clientHeight;if(x<(window.innerHeight||document.body.clientHeight)){q.style.height=(window.innerHeight||document.body.clientHeight)+"px"}else{q.style.height=x+"px"}if($KU.isIDevice){B=document.body.scrollTop||window.pageYOffset}}document.body.appendChild(q);C=$KG.__innerHeight||window.innerHeight||document.body.clientHeight;q.style.display="";q.style.visibility="visible";var A;var y=q.firstChild;if(w&&w.toLowerCase()=="img"){A=v.srcElement.naturalHeight}else{if(D){if(D.firstChild&&D.firstChild.tagName.toLowerCase()=="img"){A=D.firstChild.naturalHeight}else{A=$KG.bgImgHeight||y.clientHeight||0}}else{A=y.clientHeight}}u=Math.round(B+(C-A)/2)+"px";z="50% "+parseInt(u,10)+"px";q.style.backgroundPosition=z;a=u;y.style.top=u;$KU.changea11yDynamicElement("loading indicator in progress")}};var h=($KU.isOrientationSupported&&!$KU.isAndroid)?"onorientationchange":"onresize";kony.events.addEvent(h,"loadingScreen",function(){setTimeout(r,$KU.orientationDelay)});if(t==constants.LOADING_SCREEN_POSITION_FULL_SCREEN||j){q.className="popuplayer absoluteContainer ";if($KG.relativeScroll&&!$KU.isIDevice){q.style.position="fixed"}q.style.top=0;if(t==constants.LOADING_SCREEN_POSITION_FULL_SCREEN){q.style.backgroundPosition="center";q.className+=n;var e=$KU.getCSSPropertyFromRule(n,"background-color");if(e&&e!="initial"&&e!="inherit"){if($KU.isWindowsPhone&&e=="transparent"){q.style.background="url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7)"}else{q.style.backgroundColor=e}}}}var d="<div id ='__wrapperDiv'>";var p="xcolor:white;position:absolute;width:100%;z-index:100;text-align:center;";var c="";if(t==constants.LOADING_SCREEN_POSITION_ONLY_CENTER){var k=$KU.getCSSPropertyFromRule(n,"height");if(k){k=k.replace("%","");k=parseInt((k*(window.innerHeight)/100),10);p+="height:"+k+"px !important"}c=n;p+="background-position: center;"}q.innerHTML="<div id='__innerDiv' class='"+c+"' style='"+p+"'>"+d+f+g+"</div></div>";var b="";if(l){b=$KU.getImageURL("loading.gif");$KU.imagePreloader(b,r)}else{b=$KU.getCSSPropertyFromRule(n,"background-image");if(b&&b!="none"&&b!="initial"&&b!="inherit"){if($KU.isWindowsPhone){var o=b.lastIndexOf(")")-b.lastIndexOf("/");b=b.substr(b.lastIndexOf("/")+1,o-2);b=$KU.getImageURL(b)}else{b=b.replace(/url\(([^\)]*)\)/,"$1")}$KU.imagePreloader(b,r)}else{r()}}if(!s&&$KG.relativeScroll){function m(v){var u=v||window.event;kony.events.preventDefault(u);kony.events.stopPropagation(u);return false}kony.events.addEventListener(q,"touchstart",m);kony.events.addEventListener(q,"touchmove",m)}},dismissLoadingScreen:function(){var a=document.getElementById("__loadingScreenDiv");if(a){a.style.display="none"}$KG.__dismissed=true},};$KI.exit=function(){if($KU.isIDevice||!$KU.isMob){window.open("","_self","");window.close()}};$KI.appreset=function(){console.warn("appreset not supported in SPA")};$KI.assert=function(b,a){if(null===args1||false===args2){if(arguments.length>1){if(typeof(args2)==="string"){throw new Error(args2)}else{throw new Error("Invalid argument to assert")}}else{throw new Error("Assertion failed")}}else{return b}};$KI.type=function(b){var a;if(typeof(b)=="undefined"||b+""=="null"){a=IndexJL?"nil":"null"}else{if(typeof(b)==="boolean"){a="boolean"}else{if(typeof(b)==="number"){a="number"}else{if(typeof(b)==="string"){a="string"}else{if(typeof(b)==="function"){a="function"}else{a=IndexJL?"table":"object"}}}}}return a};$KI.converttobase64=function(a){return $KU.getBase64(a)};$KI.converttorawbytes=function(){console.warn("converttorawbytes api not supported in SPA")};$KI.setappheaders=function(a){kony.app.headers={};if(IndexJL){a.splice(0,1)}for(i=0;i<a.length;i++){kony.app.headers[a[i].id]=a[i];_konyConstNS.Form2.prototype.createFormLevelHierarchy.call(a[i],a[i].ownchildrenref)}};$KI.setappfooters=function(a){kony.app.footers={};if(IndexJL){a.splice(0,1)}for(i=0;i<a.length;i++){kony.app.footers[a[i].id]=a[i];_konyConstNS.Form2.prototype.createFormLevelHierarchy.call(a[i],a[i].ownchildrenref)}};$KI.setapplicationcallbacks=function(){console.warn("setapplicationcallbacks API is not supported on SPA")};$KI.setapplicationbehaviors=function(b){if(!$KG.appbehaviors){$KG.appbehaviors=b}else{for(var a in b){$KG.appbehaviors[a]=b[a]}}};function tobeimplemented(a){console.warn(a+"  API to be implemented Yet")}KonyError=function(a,b,c){this.errorCode=this.errorcode=a;this.name=b;this.message=c};KonyError.prototype=new Error();KonyError.prototype.constructor=KonyError;kony.getError=function(a){return a};kony.bm={FORM_PREFIX:"#_",GSTATE_PREFIX:"/",__global_state__:{},__check_args__:function(a,c){if(a.length!=c){throw new Error("Invalid number of arguments. Expected: "+c+", Given: "+a.length)}for(var b in a){if(typeof(a[b])==="undefined"){throw new Error("Invalid arg["+b+"] in "+a)}}},__initialized__:false,__init__:function(){var b=window.location.href;if(b.indexOf("http")==0){b=kony.bm.__get_hash__(b)}var a=kony.bm.__get_raw_state__(b);if(a){kony.bm.__global_state__=JSON.parse(decodeURI(a))}kony.bm.__initialized__=true},__update_hash__:function(){var a=JSON.stringify(kony.bm.__global_state__);var b=kony.bm.getFormId(window.location.hash);window.location.hash=kony.bm.FORM_PREFIX+b+kony.bm.GSTATE_PREFIX+encodeURI(a)},__get_hash__:function(a){return a.substr(a.indexOf(kony.bm.FORM_PREFIX))},__get_raw_state__:function(c){var b=c;var d=b.indexOf(kony.bm.GSTATE_PREFIX);var a="";if(d>0){a=b.substr(b.indexOf(kony.bm.GSTATE_PREFIX)+kony.bm.GSTATE_PREFIX.length)}return a},getFormId:function(b){var a=b;if(!a){a=location.hash}var c=a.substr(a.indexOf(kony.bm.FORM_PREFIX)+kony.bm.FORM_PREFIX.length);var e=c.indexOf(kony.bm.GSTATE_PREFIX);var d;if(e<0){d=c}else{d=c.substr(0,e)}return d},setBMState:function(b,a){kony.bm.__check_args__(arguments,2);if(!kony.bm.__initialized__){kony.bm.__init__()}kony.bm.__global_state__[b]=a;kony.bm.__update_hash__()},resetBMState:function(a){kony.bm.__check_args__(arguments,1);if(!kony.bm.__initialized__){kony.bm.__init__()}delete kony.bm.__global_state__[a];kony.bm.__update_hash__()},addBMState:function(d,a,c){kony.bm.__check_args__(arguments,3);if(!kony.bm.__initialized__){kony.bm.__init__()}var b=kony.bm.getBMState(d);if(!b){b={};kony.bm.setBMState(d,b)}b[a]=c;kony.bm.__update_hash__()},removeBMState:function(c,a){kony.bm.__check_args__(arguments,2);if(!kony.bm.__initialized__){kony.bm.__init__()}var b=kony.bm.getBMState(c);if(b){delete b[a];kony.bm.__update_hash__()}},getBMState:function(a){kony.bm.__check_args__(arguments,1);if(!kony.bm.__initialized){kony.bm.__init__()}return kony.bm.__global_state__[a]}};
$KI.phone={dial:function(b){$KW.unLoadWidget();var c;var a=$KU.getPlatform();if(a.name=="iphone"&&a.version>="5"){c="tel://"+b}else{c="tel:"+b}window.location.href=c},myLocation:function(){console.warn("DEPRECATED API. Instead use geolocation.")}};
$KI.timer={timerinfo:{},callbackclosure:function(b){var a=b;return function(){var c=$KI.timer.timerinfo[a]["cb"];typeof c=="function"&&c()}},schedule:function(h,b,c,e){var a=$KI.timer.timerinfo;if(h&&!a[h]){a[h]={};a[h]["cb"]=b;a[h]["repeat"]=e;var g=$KI.timer.callbackclosure(h);var f=c*1000;var d=(e===true)?"setInterval":"setTimeout";timerid=window[d](g,f);a[h]["timerid"]=timerid}else{console.error("timerId is mandatory or duplicate timer id")}},cancel:function(d){var a=$KI.timer.timerinfo;if(a[d]){var c=a[d].timerid;var b=(a[d]["repeat"]===true)?"clearInterval":"clearTimeout";window[b](c);a[d]=null}else{console.error("timerId is mandatory");return null}},setcallback:function(c,b){var a=$KI.timer.timerinfo;if(a[c]){a[c].cb=b}}};$KI.appevents=(function(){var a={id:null,value:0,cb:null,enabled:false,expired:false,lastInteraction:0};return{timercb:function(){var b=$KW.Form.getCurrentForm();if($KU.BB7||$KU.BB6){a.count++;if(a.count===a.value){clearInterval(a.id);a.expired=true;a.enabled=false;if(b.enabledforidletimeout){a.cb&&a.cb(b);a.cb=null;a.count=0}}}else{a.expired=true;a.enabled=false;if(b.enabledforidletimeout){a.cb&&a.cb(b);a.cb=null}}},registerforidletimeout:function(c,b){if(!a.enabled){if($KU.BB7||$KU.BB6){a.count=0;a.value=c*60;a.id=setInterval($KI.appevents.timercb,1000)}else{a.value=c*60*1000;a.id=setTimeout($KI.appevents.timercb,a.value);a.lastInteraction=new Date().getTime()}a.enabled=true;a.expired=false;a.cb=b;$KG.__idletimeout=a}},unregisterforidletimeout:function(){if($KU.BB7||$KU.BB6){clearInterval(a.id)}else{clearTimeout(a.id)}a.enabled=false;$KG.__idletimeout=""},resettimer:function(){if($KU.BB7||$KU.BB6){a.count=0}else{var b=new Date().getTime();if((b-a.lastInteraction)>=a.value){$KI.appevents.timercb();return}else{clearTimeout(a.id);a.id=setTimeout($KI.appevents.timercb,a.value);a.lastInteraction=b}}}}})();
$KI.geolocation={getcurrentposition:function(a,c,b){if(navigator.geolocation){navigator.geolocation.getCurrentPosition(a,c,b)}},watchposition:function(a,c,b){if(navigator.geolocation){return(navigator.geolocation.watchPosition(a,c,b))}},clearwatch:function(a){if(navigator.geolocation){navigator.geolocation.clearWatch(a)}}};
$KI.table={concat:function(){var a=false;var j=false;var l=null;if(!arguments[0] instanceof Object){a=true}if(!a){var g=arguments[0].length-1;var b=1,d=g,k="";var c=arguments.length>4?4:(arguments.length-1);switch(arguments.length){case 4:arguments[3]-=0;if(isNaN(arguments[3])){a=true}d=arguments[3];case 3:arguments[2]-=0;if(isNaN(arguments[2])||arguments[2]<=0){a=true}b=arguments[2];case 2:k=arguments[1];default:break}if(g==0){return $KI.table.returnResult("",a,j)}if(a){return $KI.table.returnResult(l,a,j)}if(b>d){return $KI.table.returnResult("",a,j)}else{if(d>g){a=true}else{if(!a){l="";try{for(var f=b;f<d;f++){if(arguments[0][f]==null||arguments[0][f] instanceof Object){return $KI.table.returnResult(null,true,j)}l+=arguments[0][f].toString()+k}l+=arguments[0][f].toString()}catch(h){j=true}}}}}return $KI.table.returnResult(l,a,j)},insert:function(){var d=false;var c=false;var a=null;if(arguments.length<2||!(arguments[0] instanceof Object)){d=true}if(!d){var g,b;if(arguments.length>2){g=arguments[1];if(typeof g=="string"||isNaN(g)){return $KI.table.returnResult(true,c)}b=arguments[2]}else{g=arguments[0].length;b=arguments[1]}try{if(typeof g=="string"||g>=arguments[0].length||g<=0){if(g==0){arguments[0][g+1]=b}else{arguments[0][g]=b}}else{arguments[0].splice(g,0,b)}}catch(f){c=true}}return $KI.table.returnResult(d,c)},remove:function(){var b=false;var a=null;if(0===arguments.length||!(arguments[0] instanceof Array)){b=true}if(!b){var c=arguments[0].length-1;if(c>0){if(arguments.length>1&&arguments[1]!=null){arguments[1]-=0;if(isNaN(arguments[1])||arguments[1]>c||arguments[1]<0){b=true;return $KI.table.returnResult(a,b,false)}if(arguments[1]<c&&arguments[1]>0){c=arguments[1]}}a=arguments[0].splice(c,1);a=a[0]||null}else{return $KI.table.returnResult(null,b,false)}}return $KI.table.returnResult(a,b,false)},sort:function(){var a=false;var k=false;var l=null;var b=null;if(0===arguments.length||!(arguments[0] instanceof Array)){a=true}if(typeof(arguments[1])=="function"){b=arguments[1]}else{if(typeof(arguments[2])=="function"){b=arguments[2]}}if(!a){var g=arguments[0].length;var d=arguments[0];try{for(var f=1;f<g;f++){var j=typeof(arguments[0][1]);if(arguments[0][f]==null||typeof(arguments[0][f])!=j){return $KI.table.returnResult(true,k)}}var c=arguments[0].shift();if(arguments[1]!==null&&!isNaN(arguments[1])){d.splice(arguments[1],d.slice(arguments[1],d.length).length)}if(b){d.sort(function(i,e){var m=b(i,e);return(m?-1:1)})}else{if(typeof arguments[1]=="string"){b=arguments[1];d.sort(function(i,e){if(i[b]!=null&&typeof i[b]==typeof e[b]&&typeof i[b]=="string"){var n=i[b].toLowerCase(),m=e[b].toLowerCase();if(n<m){return -1}if(n>m){return 1}return 0}else{return i[b]-e[b]}})}else{d.sort(function(m,i){if(typeof m=="string"){var e=m.toLowerCase();var n=i.toLowerCase();if(e<n){return -1}else{if(e>n){return 1}else{return 0}}}else{return m-i}})}}d.unshift(c)}catch(h){k=true;d=null}}if(!a&&!k){return $KI.table.returnResult(d,a,k)}else{return $KI.table.returnResult(true,k)}},filter:function(d,f){var a=false;var n=false;var h;if(arguments.length<2||!(d instanceof Object)||!(typeof(f)=="function")){a=true}if(!a){var m,l,k;if((d instanceof Array)&&f){try{h=[null];for(var c=1;c<d.length;c++){l=d[c];if(l instanceof Object){return $KI.table.returnResult(null,true,n)}else{if(l!=null){k=f(c,l)}if(k===true){h.push(l)}k=false}}}catch(g){a=true}}else{if(d&&f){h=new Object();try{for(var b in d){m=b;l=d[b];if(l!=null){k=f(b,l)}if(k===true){h[m]=l}k=false}}catch(g){a=true}}}}if(a||n){h=null}return $KI.table.returnResult(h,a,n)},map:function(d,f){var a=false;var n=false;if(arguments.length<2||(d instanceof Object===false)||!(typeof(f)=="function")){a=true}if(!a){try{var m,l,k;if(d instanceof Array&&f){var g=d.length;for(var c=1;c<g;c++){if(d[c] instanceof Array||d[c]==null){return $KI.table.returnResult(true,n)}}try{for(var c=1;c<g;c++){l=d[c];k=f(c,l);if(k!==false){m=k[1];l=k[2];d[m]=l;k=false}else{return $KI.table.returnResult(true,n)}}}catch(h){a=true}}else{if(d&&f){try{for(var b in d){m=b;l=d[m];k=f(m,l);if(k!==false){m=k[1];l=k[2];d[m]=l;k=false}else{return $KI.table.returnResult(true,n)}}}catch(h){a=true}}}}catch(h){n=true}}return $KI.table.returnResult(d,a,n)},mapnew:function(d,f){var a=false;var o=false;if(arguments.length<2||(d instanceof Object===false)||!(typeof(f)=="function")){a=true}if(d==null){return $KI.table.returnResult(null,a,o)}try{var k=null;var n,m,l;if(!a){if(d instanceof Array&&f){var g=d.length;for(var c=1;c<g;c++){if(d[c] instanceof Object||d[c]==null){return $KI.table.returnResult(null,true,o)}}try{k=[null];for(var c=1;c<g;c++){m=d[c];l=f(c,m);n=l[1];m=l[2];k[n]=m}}catch(h){a=true}}else{if(d&&f){try{k=new Object();for(var b in d){n=b;m=d[n];l=f(n,m);if(l!==false){n=l[1];m=l[2];k[n]=m;l=false}else{return $KI.table.returnResult(true,o)}}}catch(h){a=true}}}}}catch(h){o=true}if(a||o){k=null}return $KI.table.returnResult(k,a,o)},get:function(b,g){var f=false;var d=false;var c=false;var a=null;if(arguments.length<2||b instanceof Object===false||g==null){f=true;return $KI.table.returnResult(a,f,d)}try{if(g in b){a=b[g]}else{c=true}}catch(h){d=true}return $KI.table.returnResult(a,f,d,c)},contains:function(b,f){var d=false;var c=false;var a=false;if(arguments.length<2||b instanceof Object===false||f==null){return $KI.table.returnResult(a,true,c)}try{if(f in b){a=true}}catch(g){c=true}return $KI.table.returnResult(a,d,c)},append:function(k,a){var g=false;var f=false;if(arguments.length!=2||!(k instanceof Object)||!(a instanceof Object)){g=true;return $KI.table.returnResult(null,g,f)}try{if(k.length&&a.length){var d=a.slice(1);for(var c=0;c<d.length;c++){k.push(d[c])}}else{for(var b in a){k[b]=a[b]}}}catch(h){f=true}return $KI.table.returnResult(k,g,f)},removeall:function(a){if(arguments.length<1){throw new Error("table.removeall needs atleast 1 argument")}if(typeof(a)!="object"){throw new Error("Invalid  arguments to table.removeall")}if(a.length){a.length=0}else{for(var b in a){delete a[b]}}return},unpack:function(e){if(0===arguments.length){throw new Error("unpack needs atleast one argument")}if(e instanceof Object===false){throw new Error("Invalid first argument to unpack")}var c=arguments.length>3?3:arguments.length;var b=arguments[0].length;var d=1,f=b;switch(c){case 3:arguments[2]-=0;if(isNaN(arguments[2])){throw new Error("Invalid argument to unpack")}f=arguments[2];case 2:arguments[1]-=0;if(isNaN(arguments[1])){throw new Error("Invalid argument to unpack")}d=arguments[1];default:break}if(d>f){return[""]}else{var g=[null];for(var a=d;a<(f);a++){g.push(arguments[0][a])}return g}},returnResult:function(){var c=null;var f=null;var e=false;var d=false;if(arguments.length>=3){var a=arguments[0];e=arguments[1];d=arguments[2];var b=arguments[3]}else{e=arguments[0];d=arguments[1]}if(e){c=100;f="INVALID ARGUMENTS"}else{if(d){c=101;f="INTERNAL ERROR"}else{if(b){c=0;f="INVALID KEY"}}}if(arguments.length>=3){return a}else{if(arguments.length==2&&(e||d)){return([c,f])}else{return}}}};
$KI.os.time=function(){var a=(new Date()).toTimeString();return a.slice(0,a.indexOf(" "))};$KI.os.diffdatetime=function(g,f){if(typeof(g)!=="string"||typeof(f)!=="string"){throw new Error("Invalid argument(s) to os.diffdatetime")}var e=g.split(":");e[2]=e[2]-0;var d=f.split(":");d[2]=d[2]-0;var b=86400;var c=e[0]*3600+e[1]*60+e[2];var a=d[0]*3600+d[1]*60+d[2];return(c>b||a>b)?null:c-a};$KI.os.date=function(){var a;var b=new Date();if(0===arguments.length){var h=b.toTimeString();a=$KI.os.padZero(b.getMonth()+1)+"/"+$KI.os.padZero(b.getDate())+"/"+$KI.os.padZero(b.getFullYear()%100)+" "+h.slice(0,h.indexOf(" "));return a}else{if(typeof(arguments[0])=="string"){if(arguments[0].toLowerCase().indexOf("dd")!=-1){return $KI.os.formatDate(arguments[0],b)}else{var g=arguments[0].charAt(0)==="!";var d=g?1:0;if("*"===arguments[0].charAt(d)&&"t"===arguments[0].charAt(d+1)){var c=g?b.getUTCDate():b.getDate();var f=(g?b.getUTCMonth():b.getMonth())+1;var e=g?b.getUTCFullYear():b.getFullYear();a=new Object();a.year=e;a.month=f;a.day=c;a.hour=g?b.getUTCHours():b.getHours();a.min=g?b.getUTCMinutes():b.getMinutes();a.sec=g?b.getUTCSeconds():b.getSeconds();a.wday=g?b.getUTCDay():b.getDay()+1;a.yday=$KU.getDayOfYear(c,f,e);a.isdst=g?false:$KI.os.checkForDst();return a}else{return null}}}else{return null}}};$KI.os.tocurrency=function(a){a-=0;if(isNaN(a)){throw new Error("Invalid argument to os.tocurrency")}if(a<0){a*=-1}var d=a.toFixed(3);d=d.substr(0,d.length-1);var c="";for(var b=0;b<d.length-4;b++){c+=d.charAt(b);if((d.length-b-1)%3===0){c+=","}}for(;b<d.length;b++){c+=d.charAt(b)}return"$"+c};$KI.os.tonumber=function(a){if(arguments.length!=1){throw new Error("Invalid argument to os.tonumber")}if(typeof(a)==="number"){return a}else{if(typeof(a)==="string"){var c=a.replace(/^\s*/,"").replace(/\s*$/,"");if(c===""){return null}else{var b=c-0;return(isNaN(b)?null:b)}}else{return null}}};$KI.os.freememory=function(){return 100*1024*1024};$KI.os.comparedates=function(c,a,f){if(c==null||a==null||f==null||!$KU.isValidDate(c,f)||!$KU.isValidDate(a,f)){return null}var e=$KU.getDate(c,f);var b=$KU.getDate(a,f);var d=24*60*60*1000;return parseInt((e.getTime()-b.getTime())/d)};$KI.os.addtodate=function(a,d,b,e){if(a==null||d==null||b==null||e==null){return null}var k=a;var f=d.split(" ")[0];var m=b;var j=e;var i=k.split(" ");var l=i[0].split("/");var g=i[1];if(!$KU.isValidDate(i[0],f)){return null}if(g){var n=g.split(":");var c=86400;var h=n[0]*3600+n[1]*60+(n[2]-0);if(h>c){return null}}var o=$KU.getDate(k,f);if(o){switch(m){case"years":o.setFullYear(o.getFullYear()+j);break;case"months":o.setMonth(o.getMonth()+j);break;case"days":o.setDate(o.getDate()+j);break;case"hours":o.setHours(o.getHours()+j);break;case"minutes":o.setMinutes(o.getMinutes()+j);break;default:break}if($KI.os.isleapyear([a,f])&&o.getMonth()>=1&&(m=="years"||(m=="months"&&(j==-12||j==12)))){o.setDate(o.getDate()-1)}return $KI.os.formatDate(f,o)+(g?" "+o.toTimeString().split(" ")[0]:"")}return null};$KI.os.isleapyear=function(d,e){var c;var a=new Date();c=a.getFullYear();if(typeof(d)=="string"&&typeof(e)=="string"){if(!$KU.isValidDate(d,e)){return false}var b=d.split("/")[2];c=(b.length==2)?parseInt(a.getFullYear().toString().substr(0,2)+b):parseInt(b)}if((c%400==0)||((c%4==0)&&(c%100!=0))){return true}else{return false}};$KI.os.formatdate=function(z,s,l){var j;if(z==null||s==null||l==null){return null}else{if(typeof(z)==="string"&&typeof(s)==="string"&&typeof(l)==="string"){var e=z;var d=s;var n=l;var a=d.indexOf("dd");var v=d.indexOf("mm");var w=(d.indexOf("yyyy")!=-1)?d.indexOf("yyyy"):d.indexOf("yy");if((d=="dd/mm/yyyy"&&!$KU.isValidDate(e,d))||a==-1||v==-1||w==-1||d.indexOf("ddd")!=-1||d.indexOf("mmm")!=-1){return null}var i=d.charAt(a-1);var u=d.charAt(a+2);u=(u=="(")?"":u;var y=d.charAt(v-1);var g=d.charAt(v+2);var b=d.charAt(w-1);var o=d.charAt(w+4);var t=(i=="")?e.indexOf(i,a-1):e.indexOf(i,a-2)+1;var k=(y=="")?e.indexOf(y,v-1):e.indexOf(y,v-2)+1;var f=(b=="")?e.indexOf(b,w-1):((e.indexOf(b,w-2)!=-1)?e.indexOf(b,w-2)+1:e.indexOf(b,w-4)+1);var x=(u!="")?e.indexOf(u,a):e.indexOf(u,a+2);var q=(g!="")?e.indexOf(g,v):e.indexOf(g,v+2);var h=(o!="")?e.indexOf(o,w):e.indexOf(o,w+4);var r=e.substring(t,x);var m=e.substring(k,q);var p=e.substring(f,h);if((p.length==2&&n.indexOf("yyyy")!=-1)){var c=new Date().getFullYear().toString().substr(0,2)+p}n=n.replace(/dd/,$KI.os.padZero(parseInt(r,10)));n=n.replace(/mm/,$KI.os.padZero(parseInt(m,10)));n=n.replace(/(yyyy|yy)/,c?c:((n.indexOf("yyyy")==-1&&p.length==4)?p.substr(2,2):p));return n}}return null};$KI.os.isvaliddate=function(a,b){return(arguments.length!=2||a==null||b==null)?false:$KU.isValidDate(a,b)};$KI.os.checkForDst=function(){var h=new Date();var a=new Date(h.getFullYear(),0,1,0,0,0,0);var g=a.toGMTString();var i=new Date(g.substring(0,g.lastIndexOf(" ")-1));var d=(a-i)/(1000*60*60);var f=new Date(h.getFullYear(),6,1,0,0,0,0);g=f.toGMTString();var e=new Date(g.substring(0,g.lastIndexOf(" ")-1));var c=(f-e)/(1000*60*60);var b;if(d==c){return false}else{return true}};$KI.os.datecomponents=function(d,h){var b;var g;if(arguments.length==0){g=new Date()}else{if(d!=null&&h!=null){if(!$KU.isValidDate(d,h)){return null}g=$KU.getDate(d,h);var a=h.split("/")[2]}}if(g){var c=g.getDate();var f=g.getMonth()+1;var e=(a&&a.length==2)?parseInt(g.getFullYear().toString().substr(2,2)):g.getFullYear();b=new Object();b.year=e;b.month=f;b.day=c;b.hour=g.getHours();b.min=g.getMinutes();b.sec=g.getSeconds();b.wday=g.getDay()+1;b.yday=$KU.getDayOfYear(c,f,e);b.isdst=$KI.os.checkForDst();return b}else{return null}};$KI.os.padZero=function(a){return a<10?("0"+a):a};$KI.os.formatDate=function(b,a){b=b.toLowerCase();b=b.replace(/dd/,$KI.os.padZero(a.getDate()));b=b.replace(/mm/,$KI.os.padZero(a.getMonth()+1));return b.replace(/(yyyy|yy)/,b.indexOf("yyyy")==-1?a.getFullYear().toString().substr(2,2):a.getFullYear())};$KI.os.getappcontext=function(){var b={};var a="standalone" in window.navigator&&window.navigator.standalone?1:0;b.launchmode=a;return b};$KI.os.hasgpssupport=function(){return"navigator" in window&&"geolocation" in navigator};$KI.os.hascamerasupport=function(){return false};$KI.os.hastouchsupport=function(){return $KU.isTouchSupported};$KI.os.hasorientationsupport=function(){return"onorientationchange" in window};$KI.os.hasaccelerometersupport=function(){return false};$KI.os.httpheaders=function(){if($KG.httpheaders){return JSON.stringify($KG.httpheaders)}};$KI.os.getdevicecurrentorientation=function(){var a=$KU.detectOrientation();return(a=="portrait")?constants.DEVICE_ORIENTATION_PORTRAIT:constants.DEVICE_ORIENTATION_LANDSCAPE};$KI.os.setapplicationscrollmode=function(b){if(!b){return}var d=$KU.getPlatform();var o=d.name.toLowerCase();var e=d.version;if(o=="blackberryNTH"||o=="windowsphone"){return}var a=b.customscroll;var n=b.mixedscroll;var g=b.nativescroll;var f;if(n){var m=n.platforms;if(m){for(var l=IndexJL;l<m.length;l++){var d=m[l];if(o==d.name.toLowerCase()){var k=d.useragents;if(k){for(var h=IndexJL;h<k.length;h++){if(navigator.userAgent.toLowerCase().indexOf(k[h].toLowerCase())!=-1){$KG.useMixedScroll=true;f=true;break}}if(f){break}}var c=d.versions;if((!k&&!c)||c[IndexJL]==-1){$KG.useMixedScroll=true;break}for(var h=IndexJL;h<c.length;h++){if(e==c[h]){$KG.useMixedScroll=true;break}}}}}}if(g&&!f){var m=g.platforms;if(m){for(var l=IndexJL;l<m.length;l++){var d=m[l];if(o==d.name.toLowerCase()){var k=d.useragents;if(k){for(var h=IndexJL;h<k.length;h++){if(navigator.userAgent.toLowerCase().indexOf(k[h].toLowerCase())!=-1){$KG.useNativeScroll=true;$KG.useMixedScroll=false;f=true;break}}if(f){break}}var c=d.versions;if((!k&&!c)||c[IndexJL]==-1){if(!$KG.useMixedScroll){$KG.useNativeScroll=true}break}for(var h=IndexJL;h<c.length;h++){if(e==c[h]){$KG.useNativeScroll=true;$KG.useMixedScroll=false;break}}}}}}if(!$KG.useMixedScroll&&!$KG.useNativeScroll){$KG.useCustomScroll=true}};
$KI.string={find:function(){if(arguments.length<2){throw new Error("string.find needs atleast two arguments")}for(var b=0;b<2;b++){if(typeof(arguments[b])==="number"){arguments[b]=arguments[b].toString()}else{if(typeof(arguments[b])!=="string"){throw new Error("Invalid argument(s) to string.find")}}}var c=0;if(arguments.length>2){c=arguments[2]-0;if(!isNaN(c)){if(c<0){c+=arguments[0].length;if(c<0){c=0}}}else{c=0}}var a=arguments[0].indexOf(arguments[1],c-1);if(-1===a){return null}else{a=a+IndexJL;return a}},len:function(a){if(0===arguments.length){throw new Error("string.len needs atleast one argument")}if(typeof(a)==="number"){a=a.toString()}else{if(typeof(a)!=="string"){throw new Error("Invalid argument to string.len")}}return arguments[0].length},compare:function(b,a){if(arguments.length<2){throw new Error("string.compare needs atleast two arguemnts")}if(typeof(b)=="string"&&typeof(a)=="string"){if(b<a){return -1}else{if(b==a){return 0}else{return 1}}}else{throw new Error("Invalid argument(s) to string.compare")}},charat:function(b,a){if(arguments.length<2){throw new Error("string.charat needs atleast two arguments")}if(typeof(b)==="number"){b=b.toString()}else{if(typeof(b)!=="string"){throw new Error("Invalid argument to string.charat")}}a-=0;if(isNaN(a)){throw new Error("Invalid argument to string.charat")}a-=IndexJL;if(a<0||a>=b.length){return null}return b.charAt(a)},flipCase:function(b,a){if(0===b.length){throw new Error(a?"string.upper":"string.lower needs atleast one argument")}if(typeof(b[0])!=="string"){throw new Error("Invalid argment to "+a?"string.upper":"string.lower")}if(a){return b[0].toUpperCase()}else{return b[0].toLowerCase()}},lower:function(){return $KI.string.flipCase(arguments,false)},upper:function(){return $KI.string.flipCase(arguments,true)},rep:function(c,d){if(arguments.length<2){throw new Error("Insufficient arguments to string.rep")}if(typeof(c)==="number"){c=c.toString()}else{if(typeof(c)!=="string"){throw new Error("Invalid argument to string.rep")}}d-=0;if(isNaN(d)){throw new Error("Invalid argument to string.rep")}var b="";for(var a=0;a<d;a++){b+=c}return b},reverse:function(c){if(0===arguments.length){throw new Error("string.reverse needs atleast one argument")}if(typeof(c)==="number"){c=c.toString()}else{if(typeof(c)!=="string"){throw new Error("Invalid argument to string.reverse")}}var b="";for(var a=c.length-1;a>=0;a--){b+=c.charAt(a)}return b},trim:function(a){if(0===arguments.length){throw new Error("string.trim needs atleast one argument")}if(typeof(a)!=="string"){throw new Error("Invalid argument to string.trim")}return a.replace(/^\s*/,"").replace(/\s*$/,"")},equalsignorecase:function(b,a){if(arguments.length<2){throw new Error("string.equalsignorecase needs atleast two arguments")}if(typeof(b)!=="string"||typeof(a)!=="string"){throw new Error("Invalid argument(s) to string.equalsignorecase")}return(b.toLowerCase()===a.toLowerCase())},equals:function(b,a){if(arguments.length<2){throw new Error("string.equals needs atleast two arguments")}if(typeof(b)!=="string"||typeof(a)!=="string"){throw new Error("Invalid argument(s) to string.equals")}return(b===a)},matchEnds:function(b,a){if(b.length<2){throw new Error(a?"string.endswith":"string.startswith needs atleast two arguments")}if(typeof(b[0])!=="string"||typeof(b[1])!=="string"){throw new Error("Invalid argument(s) to "+a?"string.endswith":"string.startswith")}if(!(b.length>2&&(b[2]===false||b[2]===null))){b[0]=b[0].toLowerCase();b[1]=b[1].toLowerCase()}if(a){return(b[0].lastIndexOf(b[1])===b[0].length-b[1].length)}else{return(b[0].indexOf(b[1])===0)}},startswith:function(){return $KI.string.matchEnds(arguments,false)},endswith:function(){return $KI.string.matchEnds(arguments,true)},split:function(b,a){if(0===arguments.length){throw new Error("string.split needs atleast one argument")}if(typeof(b)!=="string"){throw new Error("Invalid argument to string.split")}var d;if(arguments.length>1){if(typeof(a)!=="string"){throw new Error("The optional delimitor for string.split must be a string")}d=a}else{d=","}var c=new Array();if(d==""){c[1]=b}else{c=b.split(d);c.unshift(null)}return c},sub:function(){function e(g,f){if(typeof(g)==="string"){g-=0}else{if(typeof(g)!=="number"){throw new Error("Invalid argument to string.sub")}}if(g<0){g=g+f+IndexJL}else{if(g>f){g=f}}g-=IndexJL;if(g<0){return -1}else{return g}}if(arguments.length<2){throw new Error("string.sub needs atleast two arguments")}var a=[];for(var b=0;b<arguments.length;b++){a[b]=arguments[b]}if(typeof(a[0])==="number"){a[0]=a[0].toString()}else{if(typeof(a[0])!=="string"){throw new Error("Invalid argument to string.sub")}}var d=e(a[1],a[0].length);var c=a[0].length;if(a.length>2){c=e(a[2],a[0].length)}if(c<d||(-1===d||-1===c)){return""}else{return a[0].slice(d,c+1)}},replace:function(a,d,c){if(arguments.length<3){throw new Error("string.replace needs atleast three arguments")}if(typeof(a)!=="string"||typeof(d)!=="string"||typeof(c)!=="string"){throw new Error("Invalid argument(s) to string.replace")}var b=new RegExp($KI.string.escapeRegExp(d),"g");return(a!=""&&d=="")?a:a.replace(b,c)},isasciialpha:function(a){if(arguments.length===0){throw new Error("string.isasciialpha needs atleast 1 argument")}if(typeof(a)!=="string"){throw new Error("Invalid argument(s) to string.isasciialpha")}var b=new RegExp("[^a-zA-Z]","g");return(a=="")?false:!(b.test(a))},isasciialphanumeric:function(e){if(arguments.length===0){throw new Error("string.isasciialphanumeric needs atleast 1 argument")}var d=/[^a-z0-9]/i;var c=/([a-z]+[0-9])|([0-9]+[a-z])/i;var b=e.match(d);var a=e.match(c);return(!b&&a&&e)?true:false},isnumeric:function(a){if(arguments.length===0){throw new Error("string.isnumeric needs atleast 1 argument")}return(a==""||(typeof(a)=="string"&&a.replace(/\s/g,"").length==0))?false:!(isNaN(a))},containschars:function(j,h){if(arguments.length===0){throw new Error("string.containschars needs 2 arguments")}if(typeof(j)!=="string"){throw new Error("Invalid argument(s) to string.containschars")}if(h instanceof Array===false){throw new Error("Invalid argument to table.containschars")}var c=[];var b="";var d=h;var f=d.length;var k=false;for(var e=0;e<f;e++){c[e]=d[e];if(j==""||c[e]==""){return true}}b=this.escapeRegExp(c.join(""));b="["+b+"]";var g=new RegExp(b,"g");k=g.test(j);return k},containsonlygivenchars:function(j,h){if(arguments.length===0){throw new Error("string.containsonlygivenchars needs atleast 1 argument")}if(typeof(j)!=="string"){throw new Error("Invalid argument(s) to string.containsonlygivenchars")}var c=[];var b="";var d=h;var f=d.length;var k=false;for(var e=0;e<f;e++){c[e]=d[e]}b=c.join("");b="[^"+b+"]";var g=new RegExp(b,"g");k=g.test(j);if(k===false){return true}else{return false}},containsnogivenchars:function(j,h){if(arguments.length===0){throw new Error("string.containsnogivenchars needs 2 arguments")}if(typeof(j)!=="string"){throw new Error("Invalid argument(s) to string.containsnogivenchars")}if(h instanceof Array===false){throw new Error("Invalid argument to table.containsnogivenchars")}var c=[];var b="";var d=h;var f=d.length;var k=false;for(var e=0;e<f;e++){c[e]=d[e];if(c[e]==""){return false}}b=c.join("");b="["+b+"]";var g=new RegExp(b,"g");k=g.test(j);if(k===false){return true}else{return false}},isvalidemail:function(b){if(arguments.length===0){throw new Error("string.isvalidemail needs atleast 1 argument")}var c=b;if(typeof(c)!=="string"){return false}var a=/^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}$/;return a.test(c)},escapeRegExp:function(a){return a.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}};
$KI.math={pi:Math.PI,random:function(){return(Math.random())},randomseed:function(a){pseudoRandomArray=[];if(isNaN(a)){throw new Error("Invalid argument to math.randomseed")}if(!pseudoRandomArray[a]){pseudoRandomArray[a]=Math.random()}return pseudoRandomArray[a]},tointeger:function(a){a-=0;if(isNaN(a)){throw new Error("Invalid argument to math.tointeger")}return Math.floor(a)},pow:function(b,a){b-=0;a-=0;if(isNaN(b)||isNaN(a)){throw new Error("Invalid argument(s) to math.pow")}return Math.pow(b,a)},findExtreme:function(c,b){if(b.length<2){throw new Error((c?"math.max":"math.min")+" needs atleast two arguments")}var a=b[0]-0;if(isNaN(a)){throw new Error("Invalid argument to "+(c?"math.max":"math.min"))}for(var d=1;d<b.length;d++){b[d]-=0;if(isNaN(b[d])){throw new Error("Invalid argument to "+(c?"math.max":"math.min"))}if(c){if(a<b[d]){a=b[d]}}else{if(a>b[d]){a=b[d]}}}return a},min:function(){return $KI.math.findExtreme(false,arguments)},max:function(){return $KI.math.findExtreme(true,arguments)},sqrt:function(b){b-=0;if(isNaN(b)){throw new Error("Invalid argument to math.sqrt")}var a=Math.sqrt(b);return isNaN(a)?"nan":a}};
$KW.CheckBoxGroupViews={render:function(b,d){if(b.itemorientation){b.orientation=b.itemorientation}var e=$KW.Utils.getMasterData(b);var g=$KW.skins.getSplitSkinsBetweenWidgetAndParentDivForCBRB(b,d);var c=(d.ispercent===false?"":g[2])+((!$KW.Utils.isWidgetVisible(b,d)||e.length<=0)?" hide":"");var a=b.skin||"";var f="<div"+$KW.Utils.getBaseHtml(b,d)+"class = '"+c+" "+a+"' style='"+$KW.skins.getMarginSkin(b,d)+$KW.skins.getPaddingSkin(b)+(d.ispercent===false?"display:inline-block":"")+"'>";b.context=d;if((b.viewtype=="tableview"||b.viewtype=="toggleview")&&!kony.appinit.isIE8){f+=this.renderViews(b,e,d)}else{f+=this.generateList(b,e,d)}f+="</div>";return f},renderViews:function(j,c,a){var g="";if(c.length>IndexJL){j.selectedkeys&&$KW.Utils.setSelectedValueProperty(j,c,"selectedkeys");if(j.viewtype=="toggleview"){g+="<div class='ktable kwt100' style='border: 1px solid gray; border-radius: 10px; overflow: hidden; '>"}for(var d=IndexJL;d<(c.length);d++){if(c[d][IndexJL]!=null&&c[d][1+IndexJL]!=null){var b=(j.selectedkeys&&$KU.inArray(j.selectedkeys,c[d][IndexJL])[0])?"checked":"";var e=$KW.skins.getSplitSkinsBetweenWidgetAndParentDivForCBRB(j,a);var f="middleleftalign";if(j.viewtype=="tableview"){g+="<div style ='border:none;height:auto;' class='kwt100 middleleftalign kheight' index='"+c[d][IndexJL]+"' >";var h;if(b=="checked"){h=$KU.getImageURL(j.checkedimage)}else{h=$KU.getImageURL(j.uncheckedimage)}g+="<label class='kwt90'  name = '"+j.id+"_label' kformname='"+j.pf+"' kwidgettype='"+j.wType+"'  style=' position: relative; padding-left: 5px; vertical-align: middle; display: inline-block;'>";g+=c[d][1+IndexJL];g+="</label>";g+="<img  kformname='"+j.pf+"' kwidgettype='"+j.wType+"'  src= '"+h+"' style='float: right; margin-right: 10px' >";g+="</div>";g+="<div style='border-top: 1px solid gray'></div>"}else{if(j.viewtype=="toggleview"){g+="<div style ='margin-right:2px; border-right:1px solid gray;' class =' kcell kheight middlecenteralign' >";g+="<div class='' kformname='"+j.pf+"' kwidgettype='"+j.wType+"'    style='  padding-left: 5px; vertical-align: middle; display: inline-block;'>";g+=c[d][1+IndexJL];g+="</div></div>"}}}}if(j.viewtype=="toggleview"){g+="</div>"}}return g},changeImage:function(b,a){if(b.getAttribute("checked")=="true"){b.childNodes[1].src=$KU.getImageURL(a.uncheckedimage);b.setAttribute("checked","false")}else{b.childNodes[1].src=$KU.getImageURL(a.checkedimage);b.setAttribute("checked","true")}},changeSkin:function(b,a){if(b.getAttribute("checked")=="true"){b.setAttribute("checked","false");$KU.removeClassName(b,a.focusskin);$KU.addClassName(b,a.skin)}else{b.setAttribute("checked","true");$KU.removeClassName(b,a.skin);$KU.addClassName(b,a.focusskin)}},eventHandlerViews:function(a,g,d){var f=g.parentNode.parentNode;var b=g.parentNode;if(d){if(d.viewtype=="tableview"&&!kony.appinit.isIE8){$KW.CheckBoxGroupViews.changeImage(b,d)}else{$KW.CheckBoxGroupViews.changeSkin(b,d)}if(f.getAttribute("kcontainerID")){$KW.Utils.updateContainerData(d,g,false)}else{var e=d.selectedkeys||(IndexJL==1?[null]:[]);$KW.Utils.setSelectedKeys(d,b.getAttribute("checked"),e,b.getAttribute("index"));$KW.Utils.setSelectedValueProperty(d,$KW.Utils.getMasterData(d),"selectedkeys");var c=$KU.returnEventReference(d.onselection);c&&c.call(d,d)}}}};function accessorDescriptor(b,a){var c={enumerable:true,configurable:true};c[b]=a;return c}function defineGetter(b,c,a){if(Object.defineProperty){return Object.defineProperty(b,c,accessorDescriptor("get",a))}if(Object.prototype.__defineGetter__){return b.__defineGetter__(c,a)}throw new Error("browser does not support getters")}function defineSetter(a,c,b){if(Object.defineProperty){return Object.defineProperty(a,c,accessorDescriptor("set",b))}if(Object.prototype.__defineSetter__){return a.__defineSetter__(c,b)}throw new Error("browser does not support setters")}var vendor=(/webkit/i).test(navigator.userAgent)?"webkit":(/firefox/i).test(navigator.userAgent)?"Moz":"opera" in window?"o":((/msie/i).test(navigator.userAgent)||(/rv:([1][0-9])/i).test(navigator.userAgent))?"ms":"";var nextFrame=window[vendor+"RequestAnimationFrame"]||function(a){return setTimeout(a,1)};var cancelFrame=window[vendor+"CancelRequestAnimationFrame"]||clearTimeout;$KU=kony.utils={equals:function(c,b){if(Object.prototype.toString.call(c)!==Object.prototype.toString.call(b)){return false}else{if(Object.prototype.toString.call(c)==="[object Array]"){if(c.length!==b.length){return false}for(var d=0;d<b.length;d++){if(!$KU.equals(c[d],b[d])){return false}}return true}else{if(Object.prototype.toString.call(c)==="[object Object]"){for(var a in b){if(Object.prototype.toString.call(b[a])!=="[object Function]"){if(!$KU.equals(c[a],b[a])){return false}}}return true}else{if(Object.prototype.toString.call(b)!=="[object Function]"){return(c===b)}}}}},isArray:function(a){return(Object.prototype.toString.call(a)==="[object Array]")},addArray:function(b,a){b.push.apply(b,a);return b},arrayIndex:function(a,c){for(var b=0;b<a.length;b++){if($KU.equals(a[b],c)){return b}}return -1},inArray:function(d,c,b){var a=-1;if(d){a=$KU.arrayIndex(d,c)}if(b){return(a==-1)?false:true}else{return(a==-1)?[false,-1]:[true,a]}},removeArray:function(c){var f,d=arguments,b=d.length,e;while(b>1&&c&&c.length){f=d[--b];while((e=c.indexOf(f))!=-1){c.splice(e,1)}}return c},joinArray:function(a,b){b=b||",";return a[1+IndexJL]+b+a[2+IndexJL]+b+a[3+IndexJL]+b+a[0+IndexJL]},mergeObjects:function(e,d){var e=e||{};var c={};if(d){var a,b;for(a in d){b=d[a];if(c[a]!==b){e[a]=b}}}return e},convertObjectToArray:function(c){var a=[];for(var b in c){a[b]=c[b]}return a},getkeys:function(a){return(Object.keys&&Object.keys(a))||(function(){var b=[];for(var c in a){b.push(c)}return b}())},getKey:function(c,b){for(var a in c){if(c[a]===b){return a}}},adjustNodeIndex:function(c,e,a){var d=c.childNodes;e=e-IndexJL;e=(d.length>e)?e:(d.length-1);if(d&&d.length>0){for(var b=e;b<d.length;b++){d[b].setAttribute(a,b+IndexJL)}}},toggleVisibilty:function(b,c,a){if(c&&c.length>0&&a.isvisible){this.removeClassName(b,"hide")}else{this.addClassName(b,"hide")}},removeClassNames:function(c,a){if(!c){return}if(c.tagName){c=[c]}if(!c.length){return}for(var b=0;b<c.length;b++){$KU.removeClassName(c[b],a)}},addClassNames:function(c,a){if(!c){return}if(c.tagName){c=[c]}if(!c.length){return}for(var b=0;b<c.length;b++){$KU.addClassName(c[b],a)}},removeClassName:function(c,a){if(c.classList&&a){c.classList.remove(a)}else{if($KU.hasClassName(c,a)){var b=c.className;c.className=b.replace(new RegExp("(^|\\s+)"+a+"(\\s+|$)")," ")}}},hasClassName:function(b,a){return(b.classList&&a)?b.classList.contains(a):(b.className.length>0&&(b.className==a||new RegExp("(^|\\s)"+a+"(\\s|$)").test(b.className)))},addClassName:function(b,a){if(b.classList&&a){b.classList.add(a)}else{if(!$KU.hasClassName(b,a)){b.className+=(b.className?" ":"")+a}}},getElementById:function(b,a){return(typeof b=="string")?((a||document).getElementById(b)||null):null},getPosition:function(a){var d=0,c=0,b=a.getBoundingClientRect();if(b){d=b.left;c=b.top}if(window.pageYOffset){d+=window.pageXOffset;c+=window.pageYOffset}else{if(a.ownerDocument.documentElement.scrollTop){d+=a.ownerDocument.documentElement.scrollLeft;c+=a.ownerDocument.documentElement.scrollTop}else{if(document.body.scrollTop){d+=document.body.scrollLeft;c+=document.body.scrollTop}}}if(a.ownerDocument.documentElement.clientTop){d-=a.ownerDocument.documentElement.clientLeft;c-=a.ownerDocument.documentElement.clientTop}else{if(document.body.clientTop){d-=document.body.clientLeft;c-=document.body.clientTop}}return{top:c,left:d,bottom:c+a.offsetHeight,right:d+a.offsetWidth,width:a.offsetWidth,height:a.offsetHeight}},getAnchorPosition:function(c,h){var d=c.context;var b=0,e=0;var a=$KU.getPosition($KU.getNodeByModel(d.widget));var g=0;var j=0;var f=document.body;var i;if(document.height!=undefined){i=document.height}else{if(f.scrollHeight!=undefined&&f.offsetHeight!=undefined){i=Math.max(f.scrollHeight,f.offsetHeight)}else{i=f.scrollHeight||f.offsetHeight}}if($KU.isMobile()==true&&window.orientation!=undefined){if(window.orientation===90||window.orientation===-90){g=screen.height;j=i}if(window.orientation===0||window.orientation===180){g=screen.width;j=i}}else{g=screen.width;j=screen.height}if(d.anchor=="bottom"){if(a.bottom+h.offsetHeight>j){e=a.bottom-(a.bottom+h.offsetHeight-j)}else{e=a.bottom}if(a.left+h.offsetWidth>g){b=0}else{b=a.left}}if(d.anchor=="top"){if(a.top-h.offsetHeight<0){e=0}else{e=a.top-h.offsetHeight}if(a.left+h.offsetWidth>g){b=0}else{b=a.left}}if(d.anchor=="right"){if(a.top+h.offsetHeight>j){e=a.top-(a.top+h.offsetHeight-j)}else{e=a.top}if(a.left+a.width+h.offsetWidth>g){b=a.left+a.width-(a.left+a.width+h.offsetWidth-g)}else{b=a.left+a.width}}if(d.anchor=="left"){if(a.top+h.offsetHeight>j){e=a.top-(a.top+h.offsetHeight-j)}else{e=a.top}if(a.left-h.offsetWidth<0){b=0}else{b=a.left-h.offsetWidth}}return{leftPos:b,topPos:e}},getNodeByModel:function(a){return a?document.getElementById(a.pf+"_"+a.id):null},getElementID:function(a){return(a&&typeof a=="string")?a.substring(a.indexOf("_")+1,a.length):null},getModelByNode:function(d){if(d==null){return}var a=this.getElementID(d.getAttribute("id"));var b=d.getAttribute("ktabpaneid");var c=d.getAttribute("kformname");return kony.model.getWidgetModel(c,a,b)},getScreenLevelWidgetModel:function(b){var a;if(b.screenLevelWidgets){for(var c in b.screenLevelWidgets){if(b.screenLevelWidgets[c].isvisible){a=b.screenLevelWidgets[c];break}}}return a},getPullString:function(a){return"<div id='pullDown'>					<span class='pullDownIcon'></span>					<span class='pullDownLabel'>Pull down to refresh...</span>				</div>"},getPushString:function(a){return"<div id='pullUp'>					<span class='pullUpIcon'></span>					<span class='pullUpLabel'>Pull up to refresh...</span>				</div>"},getModelByScroller:function(a){var b=a.substring(0,a.lastIndexOf("_"));var c=$KU.getElementById(b);return $KU.getModelByNode(c)},getNextSibling:function(b){var a=b.nextSibling;while(a.nodeType!=1){a=a.nextSibling}return a},applyFade:function(c,a,b){c.style[vendor+"AnimationDuration"]=b+"ms";c.style[vendor+"AnimationName"]=a;if(a=="fadeIn"){c.style.display=""}else{setTimeout(function(){c.style[vendor+"AnimationName"]="none";c.style.display="none"},b)}},getParentByAttribute:function(c,b){var d=c;while(d){var a=d.getAttribute&&d.getAttribute(b);if(a){return d}d=d.parentNode}},getParentByTagName:function(b,a){while(b&&(b.nodeType!=1||b.nodeName.toLowerCase()!=a)){b=b.parentNode}return b},getContainerForm:function(b){var a=b.getAttribute("kcontainerid");if(a){var c=b;var d;while(c){d=c.id&&c.id.split("_")[1];if(d==a&&c.getAttribute("kformname")){return c.getAttribute("kformname")}c=c.parentNode}}return""},cloneObj:function(a){if(typeof(a)!="object"||a==null){return a}var c=a.constructor();for(var b in a){if(a.hasOwnProperty(b)){c[b]=this.cloneObj(a[b])}}return c},returnEventReference:function(a){return typeof(a)=="function"?a:(typeof(a)=="string"?window[a]:undefined)},returnObjectReference:function(a){return typeof(a)=="object"?a:(typeof(a)=="string"?window[a]:undefined)},getBase64:function(h){if(!h){return h}if("btoa" in window){return window.btoa(unescape(encodeURIComponent(h)))}var d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";var c,b,a,m,l,k,j,n,g=0,o=0,f="",e=[];do{c=h.charCodeAt(g++)&255;b=h.charCodeAt(g++)&255;a=h.charCodeAt(g++)&255;n=c<<16|b<<8|a;m=n>>18&63;l=n>>12&63;k=n>>6&63;j=n&63;e[o++]=d.charAt(m)+d.charAt(l)+d.charAt(k)+d.charAt(j)}while(g<h.length);f=e.join("");switch(h.length%3){case 1:f=f.slice(0,-2)+"==";break;case 2:f=f.slice(0,-1)+"=";break}return f},isValidDate:function(e,f){var a={};e=e.split("/");f=f.split("/");for(var d=0,b=f.length;d<b;d++){a[f[d]]=e[d]}var c=new Date(a.yyyy||((a.yy*1)+2000),a.mm-1,a.dd);if(Object.prototype.toString.call(c)==="[object Date]"&&(c.getFullYear()==(a.yyyy||((a.yy*1)+2000))&&c.getFullYear()>=1900&&c.getFullYear()<=2100&&c.getMonth()+1==a.mm&&c.getDate()==a.dd)){return true}else{return false}},daysArray:function(c){var b=new Date().getFullYear();for(var a=1;a<=c;a++){this[a]=new Date(b,c,0).getDate()}return this},daysInFebruary:function(a){return new Date(a,2,0).getDate()},isInteger:function(b){var a;for(a=0;a<b.length;a++){var d=b.charAt(a);if(((d<"0")||(d>"9"))){return false}}return true},getInt:function(a){var b=parseInt(a);return b==null||isNaN(b)?0:b},getDate:function(b,e){var a;if(typeof b==="string"&&typeof e==="string"){var c=b.split("/");var d=new Date().getFullYear().toString().substr(0,2);if(e.indexOf("yyyy")==-1||c[2].length==2){c[2]=d+c[2]}if(e=="mm/dd/yyyy"||e=="mm/dd/yy"){a=new Date(c[0]+"/"+c[1]+"/"+c[2])}else{a=new Date(c[1]+"/"+c[0]+"/"+c[2])}return a}},getDayOfYear:function(a,c,b){return(Math.ceil((new Date(b,c-1,a)-new Date(b,0,1))/86400000))+1},getIntegerDirection:function(a){switch(a){case"LEFT":return 1;case"RIGHT":return 2;case"UP":return 3;case"DOWN":return 4}},getSwipeDirection:function(b,a){var d=Math.atan2(-a,-b);var e=Math.round(d*180/Math.PI);if(e<0){e=360-Math.abs(e)}var c;if((e<=45)&&(e>=0)){c=$KW.touch.TouchContext.LEFT}else{if((e<=360)&&(e>=315)){c=$KW.touch.TouchContext.LEFT}else{if((e>=135)&&(e<=225)){c=$KW.touch.TouchContext.RIGHT}else{if((e>45)&&(e<135)){c=$KW.touch.TouchContext.UP}else{c=$KW.touch.TouchContext.DOWN}}}}return c},getDistanceMoved:function(d,b){var c=Math.abs(d);var a=Math.abs(b);return(Math.round(Math.sqrt(Math.pow(c,2)+Math.pow(a,2))))},isMobile:function(){if(navigator.userAgent.match(/Mobile/i)&&(navigator.userAgent.match(/AppleWebKit/i)||navigator.userAgent.match(/Phone/i))){return true}},getPlatform:function(){if(!$KU.platform){var a={};a.name=$KU.getPlatformName();a.version=$KU.getPlatformVersion(a.name);$KU.platform=a}return $KU.platform},getPlatformName:function(){if($KU.isAndroid&&$KU.isTablet){return"androidtablet"}if($KU.isAndroid){return"android"}if($KU.isiPhone){return"iphone"}if($KU.isiPad){return"ipad"}if($KU.isBlackBerryNTH){return"blackberryNTH"}if($KU.isBlackBerry||$KU.isPlaybook){return"blackberry"}if($KU.isTouchPad){return"webos"}if($KU.isWindowsPhone){return"windowsphone"}if($KU.isWindowsTablet){return"windowstablet"}if(!navigator.userAgent.match(/Mobile/i)){return"desktop"}else{return""}},getPlatformVersion:function(b){var a="";var c=navigator.userAgent;switch(b){case"android":case"androidtablet":c.match(/Android ([0-9.]+)/);a=RegExp.$1;break;case"iphone":c.match(/iPhone OS ([0-9_]+)/);a=RegExp.$1.replace(/_/g,".");break;case"ipad":c.match(/CPU OS ([0-9_]+)/);a=RegExp.$1.replace(/_/g,".");break;case"blackberryNTH":case"blackberry":c.match(/Version\/([0-9.]+)/);a=RegExp.$1;break;case"windowsphone":c.match(/(Windows Phone OS|Windows Phone) ([0-9]{1,}[\.0-9]{0,})/);a=RegExp.$2;break;case"windowstablet":c.match(/MSIE ([0-9]{1,}[\.0-9]{0,})/);a=RegExp.$1;break;default:a=0}return a},detectDevice:function(){var b=$KU.getPlatform();var a=b.name;var d=b.version;if(a=="iphone"||a=="ipad"){$KU.iOS=true;if(d<"5"){$KU.iOS4=true}}var c=$KU.orientationDelayMatrix[a];if($KU.isAndroid){if($KU.isAndroid_SonyXPeria){c=$KU.orientationDelayMatrix.SonyXPeria}else{if($KU.isAndroid_Galaxy&&$KU.isMob){if(window.devicePixelRatio&&window.devicePixelRatio>1.5){c=500}else{c=$KU.orientationDelayMatrix.GT}}else{if($KU.isAndroid_Nexus){c=$KU.orientationDelayMatrix.Nexus}}}}$KU.orientationDelay=c||100;if($KG.transitAll!==false){$KG.transitAll=true}if(a=="blackberryNTH"){$KG.nativeScroll=true;$KG.disableTransition=true}else{if(a=="windowsphone"&&$KU.isIE9){$KG.relativeScroll=true;$KG.disableTransition=true;$KG.transitAll=false}}if($KG.useNativeScroll){$KG.relativeScroll=true;$KG.disableTransition=false;$KG.transitAll=false}if($KG.nativeScroll||$KG.relativeScroll){$KG.needScroller=false}else{$KG.needScroller=true;document.body.style.overflowY="hidden"}if($KU.isiPhone&&$KU.getPlatformVersion("iphone").startsWith("4")&&!$KG.relativeScroll){$KG.disableViewPortScroll=true}},detectOrientation:function(){var a=window.orientation;if(typeof a=="undefined"&&window.matchMedia){if(window.matchMedia("(orientation: portrait)").matches){a="portrait"}else{if(window.matchMedia("(orientation: landscape)").matches){a="landscape"}else{a=""}}}else{switch(a){case 0:case 180:a=($KU.isAndroid&&$KU.isTablet)?"landscape":"portrait";break;case 90:case -90:a=($KU.isAndroid&&$KU.isTablet)?"portrait":"landscape";break}}return a},getBrowserLanguage:function(){var b;var a=kony.globals.httpheaders;if(a&&a["Accept-Language"]){b=a["Accept-Language"].split(",")[0]}else{b=navigator.language||navigator.userLanguage||$KG.defaultlocale}return b},domRefresh:function(a){if(a){var b=a.style.margin;a.style.margin="1px";setTimeout(function(){a.style.margin=b},10)}},convertjsontoluaobject:function(a){var b=a;if(typeof a=="object"){b=JSON.stringify(a)}if(typeof b=="string"){obj1=JSON.parse(b,function(c,d){if(d instanceof Array){d.splice(0,0,null)}return d});return obj1}else{return a}},getWindowWidth:function(){return window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth},getWindowHeight:function(){return window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight},getScrollBarWidth:function(){var c=document.createElement("p");c.style.width="100%";c.style.height="200px";var d=document.createElement("div");d.style.position="absolute";d.style.top="0px";d.style.left="0px";d.style.visibility="hidden";d.style.width="200px";d.style.height="150px";d.style.overflow="hidden";d.appendChild(c);document.body.appendChild(d);var b=c.offsetWidth;d.style.overflow="scroll";var a=c.offsetWidth;if(b==a){a=d.clientWidth}document.body.removeChild(d);return(b-a)},convertluatojsonobject:function(a){if(typeof a=="object"){luastr=JSON.stringify(a);obj2=JSON.parse(luastr,function(b,c){if(c instanceof Array){c.splice(0,1)}return c});return obj2}else{return a}},setImgAspectRatio:function(c,e){if(!e){return}if(!c.isvisible){var d=$KU.getNodeByModel(c);$KU.removeClassNames(d,"hide");var f=true}var g=e.naturalWidth||e.width;var h=e.naturalHeight||e.height;if(f){f=false;$KU.addClassNames(d,"hide")}var j=g/h;if(!isNaN(j)&&(c.referencewidth||c.referenceheight)){if(g>c.referencewidth||h>c.referenceheight){var a=(c.referencewidth&&(g>c.referencewidth))?c.referencewidth:g;var i=c.referenceheight;var b=((a/j)<i||!i)?(a/j):false;if(b==false){a=(i*j<=c.referencewidth||!c.referencewidth)?i*j:a}else{i=b}e.style.height=i+"px";e.style.width=a+"px"}}},imgLoadHandler:function(c,i){c=c||window.event;if(!kony.appinit.isIE7&&!kony.appinit.isIE8){i=c.target?c.target:c.srcElement}if(!i){return}var p=i.getAttribute("ktabpaneid");var m=i.getAttribute("kwidgettype");var o=(m=="Image")?$KU.getElementID(i.getAttribute("id")):i.getAttribute("id");var a;if(m!="Image"){o=o.split("_")[1];a=i.src;a&&(a=a.substring(a.lastIndexOf("/")+1,a.length))}var h=kony.model.getWidgetModel(i.getAttribute("kformname"),o,p);if(m=="Image"){a=h.src}if(c.type=="load"){var k=true;if($KU.inArray($KU.imgCache,a,true)){k=false}else{$KU.imgCache.push(a)}if(m=="HStrip"||m=="IGallery"){if(h.imagescalemode==constants.IMAGE_SCALE_MODE_MAINTAIN_ASPECT_RATIO){$KU.setImgAspectRatio(h,i)}}if(m=="IGallery"){i.style.display=""}i.style.visibility="visible";i.style.opacity=1;if(k||(i&&i.parentNode&&i.parentNode.style.background.indexOf("url")!=-1)){i.parentNode&&(i.parentNode.style.background="none")}if(m=="Image"){if(h.scrollBoxID){var n=h.pf+"_"+h.scrollBoxID+"_scroller";var j=$KU.getElementById(n);if(j){j.children[0].style.width=j.children[0].scrollWidth+"px";var e=$KG[n];e&&e.refresh()}}var l=$KU.returnEventReference(i.getAttribute("ondownloadcomplete"));l&&l.call(h,h,a,true)}}else{i.onerror="";i.style.opacity=1;var g=i.parentNode;g&&(g.style.background="none");if(m=="Image"){h.base64=null}if(h.imagewhenfailed){i.src=$KU.getImageURL(h.imagewhenfailed)}var l=$KU.returnEventReference(i.getAttribute("ondownloadcomplete"));l&&l.call(h,h,a,false)}if(m=="HStrip"&&(h.viewtype=="stripview"||h.viewtype=="pageview")){h.count++;if(h.masterdata.length-IndexJL==h.count){h.count=0;if(h.viewtype=="stripview"&&h.scrollInstance){var f=i.getAttribute("kformname")+"_"+o+"_scrollee";f=document.getElementById(f);if(f){f.style.width="auto"}$KW.HStrip.refreshScroller(h)}else{if(h.view=="pageview"){var b=document.getElementById(i.getAttribute("kformname")+"_"+o);b.style.height="auto";b.style.height=b.clientHeight+"px"}}var d=document.getElementById(i.getAttribute("kformname")+"_"+o+"_scrollFades");d&&$KW.touch.setHeight(d.childNodes[0].childNodes[0]);d&&$KW.touch.setHeight(d.childNodes[1].childNodes[0])}}},getImageURL:function(c){if(c){if(c.startsWith("http")){return c}else{var a="";var b="";if($KG.imagecat){a=$KG.imagecat}if($KG.platformver){b=$KG.platformver}return b+"images/"+$KG.retina+a+c}}return""},getCSSPropertyFromRule:function(d,b){var a=$KW.Utils.getKonyStyleSheetIndex(document.styleSheets);var g=document.styleSheets[a];var f=g.rules||g.cssRules;for(var c=0;c<f.length;c++){var e=f[c];if(e.selectorText==("."+d)){return((e.style.getPropertyValue&&e.style.getPropertyValue(b))||e.style[b])}}return null},imagePreloader:function(b,c){var a=new Image();a.src=b;a.onload=c;a.onerror=c},getInnerHeight:function(a){setTimeout(function(){$KG.__innerHeight=window.innerHeight},a)},getgesturePosition:function(b,g,c,e,d,f){var a;if(b<=(c-d)/3&&g<=(e-f)/3){a=1}else{if(b>(c-d)/3&&b<=(c-d)*2/3&&g<=(e-f)/3){a=2}else{if(b>(c-d)*2/3&&g<=(e-f)/3){a=3}else{if(b<=(c-d)/3&&g>(e-f)/3&&g<=(e-f)*2/3){a=4}else{if(b>(c-d)/3&&b<=(c-d)*2/3&&g>(e-f)/3&&g<=(e-f)*2/3){a=5}else{if(b>(c-d)*2/3&&g>(e-f)/3&&g<=(e-f)*2/3){a=6}else{if(b<=(c-d)/3&&g>(e-f)*2/3){a=7}else{if(b>(c-d)/3&&b<=(c-d)*2/3&&g>(e-f)*2/3){a=8}else{if(b>(c-d)*2/3&&g>(e-f)*2/3){a=9}else{if(b==(c-d)/2&&g==(e-f)/2){a=10}}}}}}}}}}return a},addThirdPartyMeta:function(a){if(a&&typeof a=="object"){if(!$KG.thirdPartyWidgetsMeta){$KG.thirdPartyWidgetsMeta={}}$KG.thirdPartyWidgetsMeta[a.id]=a}},getWidgetTypeByNameSapce:function(a){if(a&&typeof a=="string"){a=a.split(".");return a[a.length-1]}else{return""}},getStyle:function(a,c){var b="";if(document.defaultView&&document.defaultView.getComputedStyle){b=document.defaultView.getComputedStyle(a,"").getPropertyValue(c)}else{if(a.currentStyle){c=c.replace(/\-(\w)/g,function(d,e){return e.toUpperCase()});b=a.currentStyle[c]}else{b=a.style[c]}}return b},getContainerParentDivMappings:function(a,b){return{Form:3,Popup:3,ScrollBox:3,HBox:0,VBox:0,Line:0,TabPane:0,Image:4,Slider:5}},returnParentChildBloatAdjustedNode:function(a,e,c){var d=$KU.getContainerParentDivMappings(a,e);for(var b=typeof d[e.wType]=="undefined"?3:d[e.wType];b>0;--b){c=c.parentNode}return c},extend:function(c,b){for(var a in b){if(typeof c[a]=="undefined"){c[a]=b[a]}}return c},fireEvent:function(c,b,d){if(document.createEventObject){var a=document.createEventObject();a.data=d;return c.fireEvent("on"+b,a)}else{var a=document.createEvent("HTMLEvents");a.data=d;a.initEvent(b,true,true);return !c.dispatchEvent(a)}},elementIndex:function(b){var a=0;while(b&&b.previousSibling){b=b.previousSibling;a++}return a},closestElement:function(b,a,c){while(b&&b.tagName){var d=b.getAttribute(a);if(a==="class"){if($KU.hasClassName(b,c)){return b}}else{if(arguments.length===3){if(b.getAttribute(a)===c){return b}}else{if(arguments.length===2){if(b.hasAttribute(a)){return b}}}}b=b.parentNode}return null},filterElements:function(b,d){var c=[];if(b.length){if(d==="visible"){for(var a=0;a<b.length;a++){if(b[a].style.display!=="none"){c.push(b[a])}}}}return c},mediaSupport:function(){var a=document.createElement("video");return{mpeg4:""!==a.canPlayType('video/mp4; codecs="mp4v.20.8"'),h264:""!==(a.canPlayType('video/mp4; codecs="avc1.42E01E"')||a.canPlayType('video/mp4; codecs="avc1.42E01E, mp4a.40.2"')),ogg:""!==a.canPlayType('video/ogg; codecs="theora"'),webm:""!==a.canPlayType('video/webm; codecs="vp8, vorbis"')}},loadJSSynchronously:function(c){var b=window.XMLHttpRequest?new XMLHttpRequest():new ActiveXObject("Microsoft.XMLHTTP");b.open("GET",c,false);b.send("");var a=document.createElement("script");a.type="text/javascript";a.text=b.responseText;document.getElementsByTagName("head")[0].appendChild(a)},getFunctionName:function(a){return a.name?a.name:a.toString().match(/^\s*function\s*(\S*)\s*\(/)[1]},nativeScrollMatrix:{iphone:"5",ipad:"5",android:"2.3.6",blackberry:"7",desktop:"0"},isAndroid:(/android/gi).test(navigator.userAgent),isIDevice:(/iphone|ipad/gi).test(navigator.userAgent),isiPhone:(/iphone/gi).test(navigator.userAgent),isiPod:(/ipod/gi).test(navigator.userAgent),isiPad:(/ipad/gi).test(navigator.userAgent),isIOS7:(/(iPad|iPhone);.*CPU.*OS 7_\d/i).test(navigator.userAgent),isPlaybook:(/playbook/gi).test(navigator.userAgent),isBlackBerry:((/blackberry/gi).test(navigator.userAgent)||(/BB10/gi).test(navigator.userAgent))&&typeof bbnth=="undefined",isBlackBerryNTH:(/blackberry/gi).test(navigator.userAgent)&&typeof bbnth!="undefined"&&bbnth,isTouchPad:(/hp-tablet/gi).test(navigator.userAgent),isWindowsPhone:(/Windows Phone/gi).test(navigator.userAgent),isWindowsTouch:(/Windows/gi).test(navigator.userAgent)&&(/Touch/gi).test(navigator.userAgent),isWindowsTablet:(/Windows NT/gi).test(navigator.userAgent)&&(/Touch/gi).test(navigator.userAgent),isIE:(/MSIE/gi).test(navigator.userAgent),isIE9:navigator.userAgent.match(/MSIE (\d+)/)!=null&&RegExp.$1=="9",isIE10:navigator.userAgent.match(/MSIE (\d+)/)!=null&&RegExp.$1=="10",isIE11:(/rv:([1][1-9])/i).test(navigator.userAgent),isMob:(/mobile/gi).test(navigator.userAgent),isTablet:(/hp-tablet|ipad|playbook/gi).test(navigator.userAgent)||(((/android/gi).test(navigator.userAgent)||(/Windows NT/gi).test(navigator.userAgent)&&(/Touch/gi).test(navigator.userAgent))&&!(/mobile/gi).test(navigator.userAgent)),isAndroid_SonyXPeria:(/android/gi).test(navigator.userAgent)&&(/SonyEricsson/gi).test(navigator.userAgent),isAndroid_Galaxy:(/android/gi).test(navigator.userAgent)&&(/GT/gi).test(navigator.userAgent),isAndroid_HTC:(/android/gi).test(navigator.userAgent)&&(/HTC/gi).test(navigator.userAgent),isAndroid_Nexus:(/android/gi).test(navigator.userAgent)&&(/Nexus/gi).test(navigator.userAgent),orientationDelayMatrix:{iphone:100,ipad:100,blackberry:100,android:250,GT:150,SonyXPeria:100,Nexus:500,androidtablet:300},isTouchSupported:(typeof Touch!="undefined"||"ontouchstart" in window)&&typeof bbnth=="undefined",isPointerSupported:navigator.msPointerEnabled,isOrientationSupported:"onorientationchange" in window,placeholderSupported:("placeholder" in document.createElement("input")),vendor:((/webkit/i).test(navigator.userAgent)?"webkit":(/firefox/i).test(navigator.userAgent)?"moz":"opera" in window?"o":(/msie/i).test(navigator.userAgent)?"ms":""),has3d:"WebKitCSSMatrix" in window&&"m11" in new WebKitCSSMatrix()||"MSCSSMatrix" in window&&"m11" in new MSCSSMatrix(),hasTransform:"webkitTransform" in document.documentElement.style||"msTransform" in document.documentElement.style,hashChange:"onhashchange" in window,translatableWidgets:["Button","Label","Link","RichText","TextArea","TextField","Phone"],segmentKeyMap:{visible:"isvisible",enable:"disabled"},dpi:window.devicePixelRatio||1,minTouchMoveDisplacement:(window.devicePixelRatio||1)*6,swipeDuration:500,imgCache:[],isAjaxUploadSupported:window.File&&window.FileList&&new XMLHttpRequest().upload,hideKeyboard:function(c,a){var b=document.activeElement;b.setAttribute("readonly","readonly");b.setAttribute("disabled","true");setTimeout(function(){b.blur();b.removeAttribute("readonly");b.removeAttribute("disabled");if(c){c(a)}},100)},setActiveInput:function(b){if(document.activeElement){var a=document.activeElement.getAttribute("kwidgettype");if((a=="TextField"||a=="TextArea")&&!$KU.isWindowsPhone){$KG.activeInput=document.activeElement}}if($KG.disableViewPortScroll&&b){b.value=b.value;setTimeout(function(){b.style.pointerEvents="none"},100)}},onHideKeypad:function(a){if(!$KG.relativeScroll&&$KU.isIOS7){var b=$KG.__currentForm&&document.getElementById($KG.__currentForm.id+"_container");b&&(b.style.height="100%")}$KG.activeInput="";this.adjustScrollBoxesOnResize()},adjustScrollBoxesOnResize:function(){if($KU.isTablet&&$KG.__currentForm){setTimeout(function(){$KW.ScrollBox.adjustBoxDimensions($KG.__currentForm.id);if($KU.isAndroid&&document.activeElement){var b=$KU.getModelByNode(document.activeElement);if(b&&(b.wType=="TextField"||b.wType=="TextArea")){var a=$KU.closestElement(document.activeElement.parentNode,"kwidgettype","ScrollBox");var c=a?$KG[a.id+"_scroller"]:($KG.__currentForm?$KG[$KG.__currentForm.id+"_scroller"]:"");c&&c.scrollToElement(document.activeElement,200)}}},300)}},setPointerEvents:function(a,b){a=a&&a.children&&a.children.length==1&&a.firstChild;if(a&&(a.tagName=="INPUT"||a.tagName=="TEXTAREA")){a.style.pointerEvents=b}},updateGestureTempList:function(a,d){var e=$KG.gestureTemplates||[];if(d&&d.length>IndexJL){e=[a.rowtemplate.id];for(var b=IndexJL;b<d.length;b++){var c=d[b].template;if(c&&!e.contains(c.id)){e.push(c.id)}}}$KG.gestureTemplates=e},setMainHeight:function(){var a=$KU.getElementById("__MainContainer");if(a){a.style.height=window.innerHeight+"px"}},createa11yDynamicElement:function(){var b=document.getElementById("ariaTag");if(!b){var a="<span  id='ariaTag' style='opacity:0;display:inline-block;height:0;width:0'  aria-live='assertive'></span>";b=b||document.createElement("div");b.innerHTML=a;document.body.appendChild(b.firstChild)}},changea11yDynamicElement:function(b){var a=document.getElementById("ariaTag");window.setTimeout(function(){if(a){a.removeAttribute("aria-hidden");a.innerHTML=b;window.setTimeout(function(){a.setAttribute("aria-hidden","true")},10)}},100);if(a){a.innerHTML="title set"}},isRoleRequired:function(a){if($KU.isiPhone&&(a.wType==="HBox"||a.wType==="Label"||a.wType==="VBox"||a.wType=="Segment"||a.wType=="ScrollBox"||a.wType=="HStrip"||a.wType=="Slider"||a.wType=="RichText")){return true}else{return false}},addAriatoElement:function(c,a,d){if(c&&a){var b=(a.a11yLabel||a.a11yLabel=="")?a.a11yLabel:a.hint;var e=a.a11yValue;if(b!=null&&typeof b!=undefined&&b.trim()==""){b=" "}if(e!=null&&typeof e!=undefined&&e.trim()==""){e=" "}if(d.wType!="Calendar"){b=b?b+" "+(e?e:""):(e?e:null)}if(b){if(d.wType=="Image"){c.setAttribute("alt",b)}else{c.setAttribute("aria-label",b)}if($KU.isRoleRequired(d)){c.setAttribute("role","option")}if(d.wType=="Calendar"){c.childNodes[1].alt=b}}else{if(d.wType=="Image"){c.removeAttribute("alt")}else{c.removeAttribute("aria-label")}if(d.wType=="Calendar"){c.childNodes[1].alt="Calendar"}if($KU.isRoleRequired(d)){c.removeAttribute("role")}if(!b&&d.wType=="Switch"){$KW.Switch.addA11YAttribute(d,c,true)}}var f=a.a11yHint||"";if(f.trim()!=""){if(!($KU.isBlackBerryNTH||$KU.isBlackBerry)){var g=d.pf+"_"+d.id+"_hint";c.setAttribute("aria-describedby",g);$KU.createHintWrapper(d,g,f);if($KU.isRoleRequired(d)){c.setAttribute("role","option")}}}else{c.removeAttribute("aria-describedby");if($KU.isRoleRequired(d)){c.removeAttribute("role")}if(!b&&d.wType=="Switch"){$KW.Switch.addA11YAttribute(d,c,true)}}a.a11yHidden?c.setAttribute("aria-hidden",true):c.removeAttribute("aria-hidden");a.required?c.setAttribute("aria-required",a.required):c.removeAttribute("aria-required")}else{if(d.wType=="Image"){c.removeAttribute("alt")}else{if(d.wType=="Calendar"){c.childNodes[1].alt="Calendar"}else{c.removeAttribute("aria-label");if(d.wType=="Switch"){$KW.Switch.addA11YAttribute(d,c)}}}c.removeAttribute("aria-hidden");c.removeAttribute("aria-describedby");c.removeAttribute("aria-required");if($KU.isRoleRequired(d)){c.removeAttribute("role")}}},createHintWrapper:function(c,g,e){var d=c.pf+"_hint";var f=document.getElementById(d);if(e){var b="<div id='"+g+"'>"+e+"</div>";var a=document.getElementById(g);if(!f){var f=document.createElement("div");f.id=d;f.style.display="none";document.body.appendChild(f)}if(a){if(a.textContent){a.textContent=e}else{a.innerText=e}}else{f.innerHTML+=b}}},getAccessibilityValues:function(d,a,k,j){var f=a||d.accessibilityconfig;if(k&&k!=""){k=k?"_"+k:"";f=a}var m="";if(f){var b=(f.a11yLabel||f.a11yLabel=="")?f.a11yLabel:f.hint;var c=f.a11yValue;var i=f.a11yHint;var e=j||"";var l="";if(k){l=d.pf+"_"+d.id+e+k+"_hint"}else{l=d.pf+"_"+d.id+e+"_hint"}if(b!=null&&typeof b!=undefined&&b.trim()==""){b=" "}if(c!=null&&typeof c!=undefined&&c.trim()==""){c=" "}if(d.wType!="Calendar"){b=b?b+" "+(c?c:""):(c?c:null);b=b?(d.wType=="Image"?"  alt='"+b+"' ":"  aria-label='"+b+"' "):""}else{b=b+" "+(d.date?d.date:d.placeholder);b=b?("aria-label='"+b+"' "):""}if(b&&$KU.isRoleRequired(d)){b+="  role='option'"}var h="";if(i){h=" aria-describedby='"+l+"' ";if($KU.isRoleRequired(d)){b+="  role='option'"}}var g=f.a11yHidden?" aria-hidden ='"+true+"'":"";$KU.createHintWrapper(d,l,i);m=(b+"  "+h+" "+g)}else{if(d.wType=="Calendar"){b="Calendar "+d.placeholder;b=("aria-label='"+b+"' ");m=(b)}}return m},updateGestureTempList:function(a,d){var e=$KG.gestureTemplates||[];if(d&&d.length>IndexJL){e=[a.rowtemplate.id];for(var b=IndexJL;b<d.length;b++){var c=d[b].template;if(c&&!e.contains(c.id)){e.push(c.id)}}}$KG.gestureTemplates=e},setMainHeight:function(){var a=$KU.getElementById("__MainContainer");if(a){a.style.height=window.innerHeight+"px"}}};var Arraycontains=function(c){var a=this.length;if(a==0){return false}else{for(var b=0;b<a;b++){if(this[b]==c){return true}}}return false};var ArraycontainsTimerAction=function(c){var a=this.length;if(a==0){return false}else{for(var b=0;b<a;b++){if((this[b].actionName==c.actionName)){return true}}}return false};var Arrayremove=function(c){var a=this.length;if(a==0){return null}else{for(var b=0;b<a;b++){if(this[b]==c){return this.removeRange(b)}}}return this};var ArrayremoveRange=function(c,b){var a=this.slice((b||c)+1||this.length);this.length=c<0?this.length+c:c;return this.push.apply(this,a)};Object.defineProperty(Array.prototype,"contains",{value:Arraycontains,enumerable:false});Object.defineProperty(Array.prototype,"containsTimerAction",{value:ArraycontainsTimerAction,enumerable:false});Object.defineProperty(Array.prototype,"remove",{value:Arrayremove,enumerable:false});Object.defineProperty(Array.prototype,"removeRange",{value:ArrayremoveRange,enumerable:false});String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")};String.prototype.ltrim=function(){return this.replace(/^\s+/,"")};String.prototype.rtrim=function(){return this.replace(/\s+$/,"")};String.prototype.startsWith=function(a){return this.slice(0,a.length)===a};kony.json={concat:function(c,b){for(var a in b){c[a]=b[a]}return c}};if(!Function.prototype.bind){Function.prototype.bind=function(a){if(typeof this!=="function"){throw new TypeError("Function.prototype.bind - what is trying to be fBound is not callable")}var e=Array.prototype.slice.call(arguments,1),d=this,b=function(){},c=function(){return d.apply(this instanceof b?this:a||window,e.concat(Array.prototype.slice.call(arguments)))};b.prototype=this.prototype;c.prototype=new b();return c}}if($KU.isBlackBerry&&$KU.getPlatformVersion("blackberry").startsWith("10")){$KU.has3d=false}if(($KU.isBlackBerry||$KU.isBlackBerryNTH)&&$KU.getPlatformVersion("blackberry").startsWith("7")){$KU.BB7=true}if(($KU.isBlackBerry||$KU.isBlackBerryNTH)&&$KU.getPlatformVersion("blackberry").startsWith("6")){$KU.BB6=true}if($KU.isAndroid&&$KU.getPlatformVersion("android").startsWith("4.1")){$KU.placeholderSupported=false}var translateOpen="translate"+($KU.has3d?"3d(":"(");var translateClose=$KU.has3d?",0)":")";owl=(function(){function c(){}function h(i){if(typeof i=="object"){c.prototype=i;return new c()}else{return i}}function g(k){if(typeof k!=="object"){return k}else{var j=k.valueOf();if(k!=j){return new k.constructor(j)}else{if(k instanceof k.constructor&&k.constructor!==Object){var l=h(k.constructor.prototype);for(var i in k){if(k.hasOwnProperty(i)){l[i]=k[i]}}}else{var l={};for(var i in k){l[i]=k[i]}}return l}}}var f=[];function e(i){for(var j in i){this[j]=i[j]}}e.prototype={constructor:e,canCopy:function(i){return false},create:function(i){},populate:function(j,k,i){}};function b(){this.copiedObjects=[];thisPass=this;this.recursiveDeepCopy=function(i){return thisPass.deepCopy(i)};this.depth=0}b.prototype={constructor:b,maxDepth:256,cacheResult:function(j,i){this.copiedObjects.push([j,i])},getCachedResult:function(m){var k=this.copiedObjects;var l=k.length;for(var j=0;j<l;j++){if(k[j][0]===m){return k[j][1]}}return undefined},deepCopy:function(m){if(m===null){return null}if(typeof m!=="object"){return m}var l=this.getCachedResult(m);if(l){return l}for(var k=0;k<f.length;k++){var j=f[k];if(j.canCopy(m)){return this.applyDeepCopier(j,m)}}throw new Error("no DeepCopier is able to copy "+m)},applyDeepCopier:function(j,k){var i=j.create(k);this.cacheResult(k,i);this.depth++;if(this.depth>this.maxDepth){throw new Error("Exceeded max recursion depth in deep copy.")}j.populate(this.recursiveDeepCopy,k,i);this.depth--;return i}};function a(j,k){var i=new b();if(k){i.maxDepth=k}return i.deepCopy(j)}a.DeepCopier=e;a.deepCopiers=f;a.register=function(i){if(!(i instanceof e)){i=new e(i)}f.unshift(i)};a.register({canCopy:function(i){return true},create:function(i){if(i instanceof i.constructor){return h(i.constructor.prototype)}else{return{}}},populate:function(j,l,i){for(var k in l){if(l.hasOwnProperty(k)&&k!="gestures"){i[k]=j(l[k])}}return i}});a.register({canCopy:function(i){return(i instanceof Array)},create:function(i){return new i.constructor()},populate:function(k,m,j){for(var l=0;l<m.length;l++){j.push(k(m[l]))}return j}});a.register({canCopy:function(i){return(i instanceof Date)},create:function(i){return new Date(i)}});function d(i){if(window.Node){return i instanceof Node}else{if(i===document){return true}return(typeof i.nodeType==="number"&&i.attributes&&i.childNodes&&i.cloneNode)}}a.register({canCopy:function(i){return d(i)},create:function(i){if(i===document){return document}return i.cloneNode(false)},populate:function(k,m,j){if(m===document){return document}if(m.childNodes&&m.childNodes.length){for(var l=0;l<m.childNodes.length;l++){var n=k(m.childNodes[l]);j.appendChild(n)}}}});return{DeepCopyAlgorithm:b,copy:g,clone:h,deepCopy:a}})();
$KI.i18n={setcurrentlocaleasync:function(b,a,c,d){if(!b){console.warn("No locale specified");return}$KG.oldlocale=$KI.i18n.getcurrentlocale();$KI.i18n.initializeI18n(b,null,a,c,d)},setdefaultlocaleasync:function(b,a,d,g){if(!b){console.warn("No locale specified");return}var c=(localStorage&&localStorage.getItem("i18nVersion"))||"";if(!$KG.i18nVersion||c!=$KG.i18nVersion){try{localStorage.setItem("i18nVersion",$KG.i18nVersion)}catch(f){if(localStorage&&(f.name=="QUOTA_EXCEEDED_ERR"||f.name=="QuotaExceededError")){if(localStorage.length===0){console.warn("Private Browsing is switched ON")}else{console.warn("Data storage limit has exceeded")}}else{console.warn("localStorage is not available")}}$KI.i18n.cleanupI18nCache()}$KG.oldlocale=$KG.defaultlocale;$KG.defaultlocale=b;var b=$KI.i18n.determineCurrentLocale();$KI.i18n.initializeI18n(b,null,a,d,g)},setdefaultlocale:function(){var a=arguments[0]||null,g=arguments[1]||null,b=arguments[2]||null,f=arguments[3]||null;if(!a){console.warn("No locale specified");return}if(f){$KG.locales=$KG.locales.split(",");var c=(localStorage&&localStorage.getItem("i18nVersion"))||"";if(!$KG.i18nVersion||c!=$KG.i18nVersion){try{localStorage.setItem("i18nVersion",$KG.i18nVersion)}catch(d){if(localStorage&&(d.name=="QUOTA_EXCEEDED_ERR"||d.name=="QuotaExceededError")){if(localStorage.length===0){console.warn("Private Browsing is switched ON")}else{console.warn("Data storage limit has exceeded")}}else{console.warn("localStorage is not available")}}$KI.i18n.cleanupI18nCache()}}var a=$KI.i18n.determineCurrentLocale();$KI.i18n.initializeI18n(a,f,g,b)},setcurrentlocale:function(a){if(!a){return}$KI.i18n.initializeI18n(a)},getcurrentlocale:function(){return $KG.currentlocale},getsupportedlocales:function(){console.warn("getsupportedlocales: Not supported!");var a=$KU.getBrowserLanguage();return IndexJL?[null,a]:[a]},getcurrentdevicelocale:function(){var c=$KU.getBrowserLanguage();var a=c.split("-");var b={};b.language=a[0];b.country=a[1];b.name=c;return b},updateresourcebundle:function(bundle,locale){if(!locale||!bundle){return}var existingBundle={};var lsKey=$KG.appid+"_"+locale;if($KG[lsKey]){existingBundle=$KG[lsKey]}else{if(localStorage){var strRetrieved=localStorage.getItem(lsKey);if(strRetrieved){existingBundle=eval("("+strRetrieved+")")}}}$KU.mergeObjects(existingBundle,bundle);try{if(!$KG[lsKey]){var bundleString=JSON.stringify(existingBundle);localStorage.setItem(lsKey,bundleString)}}catch(e){$KG[lsKey]=existingBundle;if(localStorage&&(e.name=="QUOTA_EXCEEDED_ERR"||e.name=="QuotaExceededError")){if(localStorage.length===0){console.warn("Private Browsing is switched ON")}else{console.warn("Data storage limit has exceeded")}}else{console.warn("localStorage is not available")}}if($KG[lsKey]){$KG[lsKey]=existingBundle}if($KG.currentlocale==locale){$KG.i18nArray=$KU.convertObjectToArray(existingBundle)}var locales=$KG.locales;if(!$KU.inArray(locales,locale,true)){locales.push(locale)}},setresourcebundle:function(bundle,locale){if(!locale||!bundle){return}var bundleString=JSON.stringify(bundle);var lsKey=$KG.appid+"_"+locale;try{localStorage.setItem(lsKey,bundleString)}catch(e){$KG[lsKey]=bundle;if(localStorage&&(e.name=="QUOTA_EXCEEDED_ERR"||e.name=="QuotaExceededError")){if(localStorage.length===0){console.warn("Private Browsing is switched ON")}else{console.warn("Data storage limit has exceeded")}}else{console.warn("localStorage is not available")}}if($KG.currentlocale==locale){var JSONObj=eval("("+bundleString+")");$KG.i18nArray=$KU.convertObjectToArray(JSONObj)}var locales=$KG.locales;if(!$KU.inArray(locales,locale,true)){locales.push(locale)}},deleteresourcebundle:function(a){var b=$KG.appid+"_"+a;localStorage&&localStorage.removeItem(b);$KG[b]="";if($KG.currentlocale==a){$KG.i18nArray=[]}$KU.removeArray($KG.locales,a)},isresourcebundlepresent:function(a){if(!a){return false}var b=$KU.inArray($KG.locales,a,true);if(b){return true}else{var c=$KG.appid+"_"+a;var d=(localStorage&&localStorage.getItem(c))||$KG[c];if(d){return true}else{return false}}},islocalesupportedbydevice:function(a){console.warn("islocalesupportedbydevice: Method Not supported");return false},getlocalizedstring:function(a){var b=$KG.i18nArray[a];return typeof(b)=="undefined"?null:b},determineCurrentLocale:function(){var d=$KG.locales;var g=$KG.defaultlocale;var f=$KU.getBrowserLanguage();var c=f.replace("-","_");var e="";var a=$KU.inArray(d,c,true);if(a){e=c}else{var f=c.split("_")[0];var b=$KU.inArray(d,f,true);if(b){e=f}else{e=g}}return e},initializeI18n:function(locale,initializeFn,successcallback,errorcallback,info){if(!$KG.i18nArray){$KG.i18nArray=[]}var lsKey=$KG.appid+"_"+locale;var strRetrieved;if(localStorage){strRetrieved=localStorage.getItem(lsKey)}if(!strRetrieved){$KI.i18n.getResource(locale,initializeFn,successcallback,errorcallback,info)}else{var JSONObj=eval("("+strRetrieved+")");$KG.i18nArray=$KU.convertObjectToArray(JSONObj);$KG.i18nInitialized=true;$KG.currentlocale=locale;initializeFn&&initializeFn();successcallback&&successcallback($KG.oldlocale,locale,info)}},getResource:function(k,b,f,j,c){var d="";if($KG.appmode==constants.APPLICATION_MODE_NATIVE){d=$KG.platformver+kony.constants.RESOURCES_PATH+"/"+kony.constants.TRANSLATION_PATH+"/"+k+"."+kony.constants.TRANSLATION_EXT+"?ver="+$KG.version}else{d=kony.constants.RESOURCES_PATH+"/"+kony.constants.TRANSLATION_PATH+"/"+k+"."+kony.constants.TRANSLATION_EXT+"?ver="+$KG.version}var h=document.getElementsByTagName("head")[0];var i=document.createElement("script");i.src=d;var a=setTimeout(function(){console.error("Timeout while loading resource bundle.");$KG.i18nInitialized=true;b&&b()},60000);var g=function(){kony.print("i18n resource loaded successfully");clearTimeout(a);$KG.i18nInitialized=true;$KG.currentlocale=k;if(typeof i18nObject!="undefined"&&i18nObject){$KI.i18n.insertDB(i18nObject,k);i18nObject=""}b&&b();f&&f($KG.oldlocale,$KI.i18n.getcurrentlocale(),c)};var e=function(){console.error("An error has occurred while loading i18 locales");clearTimeout(a);$KG.i18nInitialized=true;b&&b();j&&j($KG.oldlocale,$KI.i18n.getcurrentlocale(),c)};if(!i.addEventListener){i.onreadystatechange=function(){if(this.readyState=="complete"||this.readyState=="loaded"){i.onreadystatechange=null;g()}}}else{i.onload=g;i.onerror=e}h.appendChild(i)},insertDB:function(JSONData,locale){var lsKey=$KG.appid+"_"+locale;var JSONObj,lsStr;if(typeof JSONData=="string"){JSONObj=eval("("+JSONData+")");lsStr=JSONData}else{JSONObj=eval(JSONData);lsStr=JSON.stringify(JSONData)}try{localStorage.setItem(lsKey,lsStr)}catch(e){$KG[lsKey]=JSONObj;localStorage&&localStorage.removeItem("i18nVersion");if(localStorage&&(e.name=="QUOTA_EXCEEDED_ERR"||e.name=="QuotaExceededError")){if(localStorage.length===0){console.warn("Private Browsing is switched ON")}else{console.warn("Data storage limit has exceeded")}}else{console.warn("localStorage is not available")}}$KG.i18nArray=$KU.convertObjectToArray(JSONObj)},translateFormModel:function(formModel){for(var child in formModel){var widgetModel=formModel[child];if(typeof widgetModel!="object"||$KU.isArray(widgetModel)||!widgetModel){continue}if($KU.inArray($KU.translatableWidgets,widgetModel.wType,true)){if(widgetModel.i18n_text){widgetModel.canUpdateUI=false;widgetModel.text=eval(widgetModel.i18n_text)||"";widgetModel.canUpdateUI=true}}}},checkI18nStatus:function(a,b){if(!$KG.localization||typeof a!="object"||$KU.isArray(a)){return}if(b=="text"&&a.i18n_text){a.i18n_text=""}},cleanupI18nCache:function(){var d=$KG.locales;for(var b=0;b<d.length;b++){var a=d[b];var c=$KG.appid+"_"+a;localStorage&&localStorage.removeItem(c);$KG[c]=""}},getI18nTitle:function(formModel){var title=formModel.title;if(formModel.i18n_title){return eval(formModel.i18n_title)||""}else{return title}}};
$KW.formTransitionsMatrix={topCenter:"slidetopin",bottomCenter:"slidebottomin",rightCenter:"sliderightin",leftCenter:"slideleftin",fadeAnimation:"fadein"};$KW.formEndTransitionsMatrix={rightCenter:"sliderightout",leftCenter:"slideleftout",topCenter:"slidetopout",bottomCenter:"slidebottomout",fadeAnimation:"fadeout"};$KW.stringifyScrolldirection={1:"horizontal",2:"vertical",3:"both",4:"none"};$KW.Widget={setvisibility:function(c,j){if(c){c.isvisible=j;var d,k,b;if(c.wType=="ScrollBox"){d=$KU.getElementById(c.pf+"_"+c.id+"_parent")}else{if(c.wType=="Tab"){b=kony.model.getWidgetModel(c.pf,c.parent);if(b.view==="tabview"){d=$KU.getElementById(c.pf+"_"+c.id+"_Li");k=$KU.getElementById(c.pf+"_"+c.id+"_Body")}else{d=$KU.getNodeByModel(c)}}else{d=$KU.getNodeByModel(c)}}if(d){if(c.wType=="Slider"||c.wType=="Image"){d=d.parentNode}if(j.toString()=="false"){if(c.screenLevelWidget&&c.wType=="Segment"){d=d.parentNode.parentNode}$KU.addClassName(d,"hide")}else{if(c.screenLevelWidget&&c.wType=="Segment"){d=d.parentNode.parentNode}$KU.removeClassName(d,"hide");if(c.wType=="Tab"&&b.view==="tabview"){d.style.display="inline"}}if(c.viewtype&&c.viewtype=="pageview"){c.isvisible&&$KW.touch.computeWidths(d,c);d.nextSibling&&$KU.toggleVisibilty(d.nextSibling,c.data||c.masterdata,c)}if(j&&c.viewtype=="stripview"){$KW.HStrip.refreshScroller(c,d)}if(j&&c.wType==="Calendar"){$KW.Calendar.setCalElementStyle(d.childNodes[0],true);j&&$KW.Calendar.adjustCalendars(c)}j&&c.ownchildrenref&&$KW.Utils.reinitializeWidgets(c);if(typeof google!="undefined"){$KW.Utils.resizeMap(c)}if(c.screenLevelWidget){var g=$KG.allforms[c.pf];$KW.Form.addChild(g,g.ownchildrenref,true)}}else{b=kony.model.getWidgetModel(c.pf,c.parent);if(b&&b.viewtype==="tabview"){d=$KU.getElementById(c.pf+"_"+c.id+"_Li");k=$KU.getElementById(c.pf+"_"+c.id+"_Body");if(j.toString()=="false"){$KU.addClassName(d,"hide")}else{$KU.removeClassName(d,"hide");if(b.viewtype==="tabview"){d.style.display="inline"}}}else{d=$KU.getNodeByModel(c)}}if(k){var f=d.getAttribute("index");if(j==false||j=="false"){$KU.addClassName(k,"hide")}else{if(b&&((b.activetab-IndexJL)==parseInt(f))){$KU.removeClassName(k,"hide")}}}if(j){if(c.id){var a=c.pf||"";var h=$KU.getElementById(a+"_"+c.id);var e=h&&h.querySelectorAll("#"+a+" div[kwidgettype='Line'][direction='V']");if(e&&e.length>0){$KW.Line.initializeView(a)}}}}},setenabled:function(g,m){if(!g||typeof m!="boolean"){return}g.disabled=!m;var b=g.pf+"_"+g.id;if((g.wType=="Tab"||g.name=="kony.ui.Tab")){if($KG.allforms[g.pf][g.parent].viewtype=="tabview"){var h=$KU.getElementById(b+"_A");if(h){h.disabled=!m;h.setAttribute("kdisabled",!m);var a=$KU.getElementById(b+"_Body");a.setAttribute("kdisabled",!m);b=b+"_Body"}}if($KG.allforms[g.pf][g.parent].viewtype=="collapsibleview"){b=b+"_Tab"}}var c=document.querySelectorAll("#"+b+", #"+b+" [kwidgettype]");var d,l,e;for(i=0;i<c.length;i++){d=c[i];l=d.getAttribute("kwidgettype");e=d.getAttribute("tpwidgettype");if($KU.isWindowsPhone&&$KU.isIE9&&d.tagName=="SELECT"){for(var f=0;f<d.childNodes.length;f++){d.children[f].disabled=!m}}if(l!="Link"&&l!="Label"&&l!="HBox"&&l!="VBox"){d.disabled=!m}if(l=="Link"){d.childNodes[0].setAttribute("kdisabled",!m)}if(l=="RichText"){var k=document.querySelectorAll("#"+d.id+" a")}if(l=="RichText"&&k&&!m){d.ishref=true;d.innerHTML=d.innerHTML.replace(/href=["'].*?["']/g,"href='javascript:void(0)'")}else{if(d.ishref){d.innerHTML=g.text}}if(l=="Video"){if(m){d.oncontextmenu="";d.playing&&d.paused&&d.play();if(g.controls){d.setAttribute("controls","controls")}}else{d.playing&&d.pause();d.removeAttribute("controls");d.oncontextmenu=function(){return false}}}d.setAttribute("kdisabled",!m);if(g.wType==="Map"&&(d.getAttribute("kwidgettype")==="Map"||d.getAttribute("tpwidgettype")==="googlemap")){g.disabled=!m;$KW.Map.setEnabledMap(g,d)}}},setfocus:function(c,e,b){if(!c.isvisible){return}var a=(b)?b:$KU.getNodeByModel(c);if(!a){return}if(c.wType=="ScrollBox"){a=$KU.getElementById(a.id+"_parent")}if(!$KG.relativeScroll&&!$KG.nativeScroll){var f;if(e){f=$KG[e.id+"_scroller"]}else{var d=$KU.closestElement(a.parentNode,"kwidgettype","ScrollBox");f=d?$KG[d.id+"_scroller"]:($KG.__currentForm?$KG[$KG.__currentForm.id+"_scroller"]:"")}if(f){f.scrollToElement(a,1000)}}else{$KW.Utils.scrollToElement(a,1000)}},setgesturerecognizer:function(a,b,c,d){if(!a){return null}$KW.Widget.removegesturerecognizer(a,b);$KW.Utils.updateModelWithGesture(a,b,c,d);return(new $KW.touch.gesture(a,b,c,d)).gestureIdentifier},removegesturerecognizer:function(c,d){if(typeof(d)==="string"){var a=($KG.gestures&&$KG.gestures[d])?$KG.gestures[d]:null;if(!a){return}var b=d;c=a.widgetModel;d=a.gestureType;delete $KG.gestures[b]}if(!c){return}if(d==1){$KW.Utils.removegesture(c,10);$KW.Utils.removegesture(c,11)}else{$KW.Utils.removegesture(c,d)}},addgesturerecognizerforallforms:function(a,b,c){$KW.Widget.removegesturerecognizerforallforms(a);$KW.Utils.updateModelWithGesture("",a,b,c);return(new $KW.touch.gesture("",a,b,c)).gestureIdentifier},removegesturerecognizerforallforms:function(c){if(typeof c=="string"){var a=($KG.gestures&&$KG.gestures[c])?$KG.gestures[c]:null;if(!a){return}var b=c;c=a.gestureType;delete $KG.gestures[b]}$KW.Widget.removegesturerecognizer($KG,c)}};$KW.skins={getMarginSkin:function(b,a){if(!a){a={}}var d;d=kony.model.getWidgetModel(b.pf,b.parent,a.tabpaneid);var c=b.margin;if($KG.appbehaviors&&$KG.appbehaviors.applyMarginPaddingInBCGMode==true){if($KU.isArray(c)){return"margin:"+$KU.joinArray(c,"% ")+"%;"}else{return"margin:0;"}}else{if(!d||d.wType!="HBox"||(d.wType=="HBox"&&a.ispercent==false)){if($KU.isArray(c)){return"margin:"+$KU.joinArray(c,"% ")+"%;"}else{return"margin:0;"}}else{return""}}},getChildMarginAsPaddingSkin:function(a){if(($KG.appbehaviors.applyMarginPaddingInBCGMode==true)){return""}var b=a.margin;if($KU.isArray(b)){return"padding:"+$KU.joinArray(b,"% ")+"%;"}else{return""}},getPaddingSkin:function(c){if(c.wType=="ListBox"||c.wType=="ComboBox"){return"padding:0% "}var f=kony.model.getWidgetModel(c.pf,c.parent);var e=c.padding;var d=c.margin;if((typeof($KG.appbehaviors.parentLevelPadding)=="undefined"||$KG.appbehaviors.parentLevelPadding==true)&&$KG.appbehaviors.applyMarginPaddingInBCGMode==false&&f!=null&&f.wType=="HBox"&&f.percent==true){if(e&&$KU.isArray(e)&&d&&$KU.isArray(d)){var g=100/(c.containerweight-(parseInt(d[0+IndexJL])+parseInt(d[2+IndexJL])));var a=[];var h=c.padding;for(var b=0;b<h.length;b++){a[b]=h[b]*g}return"padding:"+$KU.joinArray(a,"% ")+"%;"}}else{if($KU.isArray(e)){return"padding:"+$KU.joinArray(e,"% ")+"%;"}else{return"padding:0%;"}}},setMarginPadding:function(d,c,e,b,a){if(d){if(typeof a!="number"){var a=100}var f=$KW.skins.getMarPadAdjustedContainerWeightSkin(e,a);d.className=d.className.replace(/\kwt/g,"_");$KU.addClassName(d,f);if(e.wType=="Image"){d.parentNode.style[c]=$KU.joinArray(b,"% ")+"%"}else{if(e.wType=="Slider"){d.parentNode.parentNode.style[c]=$KU.joinArray(b,"% ")+"%"}else{d.style[c]=$KU.joinArray(b,"% ")+"%"}}}},getMarAdjustedContainerWeightSkin:function(c,b){var a=b||((c.wType=="HBox")?"100":c.containerweight);if(a){var e=c.margin;if(e){a-=(parseInt(e[0+IndexJL])+parseInt(e[2+IndexJL]))}if(a>100&&$KG.cwtexists.indexOf(a)==-1){$KG.cwtexists.push(a);var d=window.document.styleSheets;var h=$KW.Utils.getKonyStyleSheetIndex(d);if(h!=-1){var f=d[h];var g=f.cssRules||f.rules;if(f.insertRule){f.insertRule(".kwt"+a+"{width:"+a+"%;}",g.length)}else{f.addRule(".kwt"+a,"width:"+a+"%;")}}}return"kwt"+a}else{return"kwt100"}},getMarPadAdjustedContainerWeightSkin:function(c,b){var a=b||c.containerweight;if(a){try{var d=c.margin;if(d){a-=(parseInt(d[0+IndexJL])+parseInt(d[2+IndexJL]))}return"kwt"+a}catch(f){console.error("Error occured in getting container weight "+f)}}else{return"kwt100"}},getWidgetSkin:function(c,b){var e;if(b&&b.container){var d=b.container.widgetsData;var a=d[c.id];if(a&&a.skin){e=a.skin}}return e||c.skin||""},getWidgetSkinList:function(b,a,c){var e=[];if(!a){a={}}var d;d=kony.model.getWidgetModel(b.pf,b.parent,a.tabpaneid);if($KG.appbehaviors&&$KG.appbehaviors.applyMarginPaddingInBCGMode==false&&(d!=null&&d.wType=="HBox")){if(!(a&&a.ispercent===false)){e.push("kwt100")}}else{if(b.wType=="TextField"||b.wType=="HBox"||b.wType=="VBox"||b.wType=="Label"||b.wType=="Link"||b.wType=="TextArea"){if(!((b.wType=="TextField"||b.wType=="TextArea"||b.wType=="Label"||b.wType=="Link")&&a&&a.ispercent===false)){e.push(this.getMarPadAdjustedContainerWeightSkin(b,100))}}else{if(!(a&&a.ispercent===false)){e.push(this.getMarAdjustedContainerWeightSkin(b,100))}}}e.push(this.getWidgetSkin(b,a));if(!$KW.Utils.isWidgetVisible(b,a)||(c&&c.length<=IndexJL)){e.push("hide")}return e.join(" ")},getSplitSkinsBetweenWidgetAndParentDiv:function(d,c){var f=new Array();var e="";var b="";var g="";if(d.wType=="HBox"||d.wType=="VBox"){g=this.getMarPadAdjustedContainerWeightSkin(d,100)}else{g=this.getMarAdjustedContainerWeightSkin(d,100)}var a=this.getWidgetSkin(d,c);f[0]=e+" "+b+"  "+a+" ";f[1]=g;f[2]=e+" "+b+"  "+a+" "+g;return f},getSplitSkinsBetweenWidgetAndParentDivForCBRB:function(d,c){var f=new Array();var e="";var b="";var g="";g=this.getMarPadAdjustedContainerWeightSkin(d,100);var a=this.getWidgetSkin(d,c);f[0]="kwt100 "+b+"  "+a+" ";f[0]="kwt100 "+b+"  ";f[1]=g;f[2]=e+" "+g+" ";return f},getWidgetAlignmentSkin:function(a){var b=(a.wType=="IGallery"?"middleleftalign":"middlecenteralign");if(a.wType=="HBox"||a.wType=="ScrollBox"){return this.getBoxAlignment(a)}return this.getAlignment(a.widgetalign||a.widgetalignment)||b},getAlignment:function(a){switch(parseInt(a)){case 1:return"topleftalign";case 2:return"topcenteralign";case 3:return"toprightalign";case 4:return"middleleftalign";case 5:return"middlecenteralign";case 6:return"middlerightalign";case 7:return"bottomleftalign";case 8:return"bottomcenteralign";case 9:return"bottomrightalign"}return""},getContentAlignment:function(a,b){var b=b||a.contentalignment;if(a.wType=="DataGrid"){return this.getAlignment(b)}switch(parseInt(b)){case 1:case 4:case 7:return"left";case 2:case 5:case 8:return"center";case 3:case 6:case 9:return"right"}return"left"},getBoxAlignment:function(b){var a="middlecenteralign";if(b.wType=="VBox"){switch(parseInt(b.widgetdirection)){case 0:a="topcenteralign";break;case 1:a="middlecenteralign";break;case 2:a="bottomcenteralign";break}}else{switch(parseInt(b.widgetdirection)){case constants.BOX_LAYOUT_ALIGN_FROM_LEFT:a="middleleftalign";break;case constants.BOX_LAYOUT_ALIGN_FROM_CENTER:a="middlecenteralign";break;case constants.BOX_LAYOUT_ALIGN_FROM_RIGHT:a="middlerightalign";break}}return a}};$KW.Utils={getBaseHtml:function(e,d,h,g){var c=h?e.id:(e.pf+"_"+e.id);var k=d.tabpaneID||"";var l=(d.container&&d.container.id)||"";var b=e.tooltip||"";var j=this.isWidgetDisabled(e,d)||false;if(l&&(e.wType=="Calendar")){c=c+"_"+d.container.counter}if(k){e.tabpaneId=k}if(l){e.containerId=l}var f=j?(" kdisabled='true' "+((e.wType!="Image"&&e.wType!="HBox"&&e.wType!="VBox"&&e.wType!="Link"&&e.wType!="Label")?"disabled="+j:"")):"";var a=e.contextmenu||"";var m="";if(e.wType!="Link"&&e.wType!="Label"&&e.wType!="ScrollBox"&&e.wType!="RadioButtonGroup"&&e.wType!="CheckBoxGroup"){m=$KU.getAccessibilityValues(e,g)}if((e.wType=="HBox"||e.wType=="Segment"||e.wType=="VBox"||e.wType=="HStrip")&&(m.indexOf("aria-hidden"))>0){m=""}return m+" id='"+c+"' kwidgettype='"+e.wType+"' kformname='"+e.pf+"'"+(k&&" ktabpaneid='"+k+"'")+(l&&" kcontainerID = '"+l+"'")+f+(b?" title= '"+b+"'":"")+" "},isWidgetDisabled:function(a,b){if(b&&b.container&&b.container.widgetsData){return this.isContainerWidgetDisabled(a,b)}if(a.disabled){return true}var d=a.pf;var c=a.parent&&$KG.allforms[d]&&$KG.allforms[d][a.parent];while(c){if(c.disabled||(d==c.parent)){return c.disabled}c=$KG.allforms[d][c.parent]}},isContainerWidgetDisabled:function(a,c){var f=c.container.widgetsData;var b=f[a.id];if(b&&b.enable!=undefined&&b.enable==false){return true}var h=a.pf;var e,d;var g=a.parent&&window[h]&&window[h][a.parent];while(g){e=f[g.id];d=(e&&e.enable!=undefined&&e.enable==false);if(d||(c.container.id==g.parent)){return d}g=window[h][g.parent]}},isWidgetVisible:function(a,c){if(c&&c.container&&c.container.widgetsData){var d=c.container.widgetsData;var b=d[a.id];if(b){return(b.visible!=undefined?b.visible:a.isvisible)}}return a.isvisible},initializeNewWidgets:function(k){if(k&&k.length>0){for(var e=0;e<k.length;e++){var d=k[e];var h=d.wType;switch(h){case"Segment":var f=$KU.getNodeByModel(d);if(f){if(d.viewtype==constants.SEGUI_VIEW_TYPE_PAGEVIEW){$KG[f.id]=new $KW.touch.pageviewScroller(f,{widgetModel:d});$KW.touch.computeWidths(f,d)}if(d.screenLevelWidget){var l=f.parentNode.parentNode;$KW.Scroller.initialize([l],"Segment")}}break;case"HStrip":var c=$KU.getNodeByModel(d);if(d.viewtype==constants.HORIZONTAL_IMAGESTRIP_VIEW_TYPE_STRIPVIEW){$KW.HStrip.initializeStripView(c)}if(d.viewtype==constants.HORIZONTAL_IMAGESTRIP_VIEW_TYPE_PAGEVIEW){$KG[c.id]=new $KW.touch.pageviewScroller(c,{widgetModel:d});$KW.HStrip.initializePageView(d,false,c);$KW.touch.computeWidths(c,d)}if(d.viewtype==constants.HORIZONTAL_IMAGESTRIP_VIEW_TYPE_SLOTVIEW){$KW.HStrip.initializeSlotView(d)}break;case"ScrollBox":var m=$KU.getNodeByModel(d);var l=m.parentNode.parentNode;$KW.Scroller.initialize([l],"ScrollBox");$KW.ScrollBox.adjustDimensionsByNode(d,m);break;case"Slider":var b=$KU.getNodeByModel(d);$KW.Slider.attachSliderEvents(b.childNodes[0]);kony.events.addEventListener(b.parentNode,"click",$KW.Slider.slideClick);break;case"Switch":var g=$KU.getNodeByModel(d);$KW.Switch.adjustWidth(d,g,true);$KW.Switch.adjustHeight(d,g);break;case"Video":if($KU.isAndroid){var a=$KU.getNodeByModel(d);kony.events.addEventListener(a,"click",function(n){n=n||window.event;n.srcElement.play()},false)}break;case"TabPane":var j=$KU.getNodeByModel(d);j&&$KW.TabPane.setTabsHeight(j.id);break;case"Map":$KW.Map.loadMapScripts();$KW.Map.setUpInteractiveCanvasMap();break}if(d.ownchildrenref){this.initializeNewWidgets(d.ownchildrenref)}}}},reinitializeWidgets:function(d){var h=d.ownchildrenref;for(var b=0;b<h.length;b++){var c=h[b];var a=c.wType;switch(a){case"ScrollBox":var f=$KU.getNodeByModel(c);$KW.ScrollBox["updateView"](c,"totalWt",c.totalWt);$KW.ScrollBox.adjustDimensionsByNode(c,f);break;case"Slider":var e=$KU.getNodeByModel(c);$KW.Slider.imgLoad(e.childNodes[0]);break;case"Calendar":var g=$KU.getNodeByModel(c);$KW.Calendar.setCalElementStyle(g.childNodes[0],true);break}if(c.ownchildrenref){this.reinitializeWidgets(c)}}},resizeMap:function(b){var c=document.querySelector("#"+b.pf+" div[tpwidgettype='googlemap']");if(c){var a=$KU.getModelByNode(c);if(a.mapSource=="non-native"){google.maps.event.trigger($KW.Map.map,"resize")}}},updateContent:function(c,k,j,b,e,l){var h=c[k];if(c.wType=="Segment"&&c.hasSections&&h&&!["setdata","removeall"].contains(b)){$KW.Segment.updateSectionContent(h,j,b,e,l);return}switch(b){case"setdata":c.canUpdateUI=false;c[k]=j;c.canUpdateUI=true;break;case"setdataat":c[k]&&c[k].length>e&&c[k].splice(e,1,j);break;case"addall":var f=IndexJL?[null]:[];var g;c.canUpdateUI=false;c[k]=c[k]||f;if(IndexJL&&!j[0]&&(j[1]&&!j[1].template)){g=$KU.cloneObj(j);g.shift()}c.canUpdateUI=true;$KU.addArray(c[k],g||j);break;case"addat":case"adddataat":if(c[k]){var a=c[k].length-IndexJL;e=(e<=IndexJL)?IndexJL:(e>a?a+1:e);if($KU.isArray(j)){for(var d=IndexJL;d<j.length;d++){c[k].splice(e++,0,j[d])}}else{if(!c[k]||c[k].length<=IndexJL){c[k]=(IndexJL)?[null]:[];c[k].push(j)}else{c[k].splice(e,0,j)}}}break;case"removeall":c.canUpdateUI=false;c[k]=j;c.canUpdateUI=true;if(c.wType=="Segment"&&c.behavior!="default"){c.selectedindices=null}break;case"removeat":(c[k]&&c[k].length>=e&&c[k][e])&&c[k].splice(e,1);break}},updateContainerData:function(f,b,e){var d=$KU.getParentByAttribute(b,"index");if(d){var a=d.parentNode.parentNode;var c=$KU.getModelByNode(a);$KW[c.wType].updateData(f,b,c,d,e)}else{$KW.MenuContainer&&$KW.MenuContainer.eventHandler(f,b)}},getSegProperty:function(b){var a=$KU.segmentKeyMap[b];return a||b},updateChildModel:function(d,b){d.canUpdateUI=false;if(b instanceof Object){for(var c in b){var a=$KW.Utils.getSegProperty(c).toLowerCase();if(a=="disabled"){d[a]=!b[c]}else{d[a]=b[c]}if(d.wType=="Image"){if(c=="base64"){d.srcType=2}else{if(c=="src"){d.srcType=1}}}if(d.wType=="HBox"||d.wType=="VBox"){if(b.isVisible!=undefined){d.isvisible=b.isVisible}}}}else{if(d.wType!="Image"){d.text=b}else{d.src=b;d.srcType=1}}d.canUpdateUI=true},updateLayoutData:function(e,c,g){if(g instanceof Object){for(var f in g){if(f!="template"&&f!="children"&&f!="metaInfo"){var b=f;if(e.widgetdatamap){b=kony.utils.getKey(e.widgetdatamap,f)}var d=window[c.parent];var a=d?d[b]:c[b];if(a){this.updateChildModel(a,g[f])}}}}},setSelectedKeys:function(b,d,c,e){var a=$KU.inArray(c,e);if(d&&!a[0]){c.push(e)}else{if(a[0]){c.splice(a[1],1)}}b.selectedkeys=c.length>IndexJL?c:null},setSelectedValueProperty:function(c,k,h,g){switch(h){case"selectedkey":var e=g||c.selectedkey;for(var d=IndexJL;d<(k.length);d++){var j=k[d][IndexJL];if(e==j){c.selectedkeyvalue=k[d];break}}break;case"selectedkeys":var a=[];var b=g||c.selectedkeys;var f=false;if(IndexJL==1){a=[null]}for(d=IndexJL;d<(k.length);d++){var j=k[d][IndexJL];if($KU.inArray(b,j)[0]){a.push(k[d]);f=true}}c.selectedkeyvalues=f?a:null;break}},getMasterData:function(widgetModel){var choices=$KU.cloneObj(widgetModel.masterdata);if(!choices){var map=widgetModel.masterdatamap;if(map){choices=this.convertmap(widgetModel.masterdatamap)}}if(choices){var data;if(widgetModel.needsectionheaders){var innerChoices;for(var i=IndexJL;i<choices.length;i++){innerChoices=choices[i][1+IndexJL];for(var j=IndexJL;j<innerChoices.length;j++){if(choices[i][1+IndexJL]&&typeof(data)!="number"&&choices[i][1+IndexJL].toLowerCase().indexOf("i18n.getlocalizedstring")!=-1){choices[i][1+IndexJL]=eval(choices[i][1+IndexJL])}}}}else{for(var i=IndexJL;i<choices.length;i++){if(choices[i][1+IndexJL]&&typeof(choices[i][1+IndexJL])!="number"&&choices[i][1+IndexJL].toLowerCase().indexOf("i18n.getlocalizedstring")!=-1){choices[i][1+IndexJL]=eval(choices[i][1+IndexJL])}}}}return choices||[]},convertmap:function(b){var f=b.length;var j=b[f-2];var g=b[f-1];var c=b[IndexJL];var k=[];if(IndexJL==1){k=[null]}for(var e=IndexJL;e<(c.length);e++){var h=c[e][j];var a=c[e][g];var d=c[e]["accessibilityConfig"];if(a!=""&&h!=""){if(IndexJL==1){k.push([null,h,a])}else{k.push(d?[h,a,d]:[h,a])}}}return k},updateDOMSkin:function(d,e,g){var c=$KU.getNodeByModel(d);if(!c){return}if(d.wType=="Phone"){var b=c.childNodes[0];$KU.removeClassName(b,g);$KU.addClassName(b,e)}if(d.wType=="Switch"){var a=c.childNodes[0];var f=c.childNodes[2];$KU.removeClassName(a,g+"on");$KU.removeClassName(f,g+"off");$KU.addClassName(a,e+"on");$KU.addClassName(f,e+"off")}if(d.wType=="ScrollBox"){while(c.parentNode.id!=d.pf+"_"+d.id+"_parent"){c=c.parentNode}}$KU.removeClassName(c,g);$KU.addClassName(c,e)},updateFocusSkin:function(c,b){var a=c[b];var g;if(c.wType==="TabPane"){a=c.activefocusskin}var h,f;var e="#"+c.pf+"_"+c.id;switch(c.wType){case"TextArea":case"RichText":case"TextField":h=e;break;case"RadioButtonGroup":case"CheckBoxGroup":h=e+">div";break;case"DataGrid":h=e+" tbody tr";break;case"Segment":h=e+" [index]";break;case"Calendar":h=e;break;case"HStrip":case"IGallery":h=e+"_img";break;case"TabPane":if(c.viewtype&&(c.viewtype==="tabview")){a=a+"lia";g=c.activefocusskin+"li";h=e+"_Header li a";f=e+"_Header li"}else{h=e+" div[active]"}break;case"MenuContainer":h=e+" .KMenu li > div";break;case"Link":if(kony.appinit.isIE10){h=e+" a"}break;default:h=e}var d=(b=="focusskin"||b=="rowfocusskin")?":active":":hover";if((!$KU.isBlackBerryNTH)&&(c.wType=="TextArea"||c.wType=="RichText"||c.wType=="TextField")){d=":hover"}h+=d;this.applyStyle(a,h,c.wType);if(c.wType=="MenuContainer"){this.applyStyle(a,e+" .KMenu li td > div:hover",c.wType)}if(c.viewtype&&(c.viewtype=="tabview")){f+=d;this.applyStyle(g,f)}},applyStyle:function(e,h,a){var b=window.document.styleSheets;var g=this.getKonyStyleSheetIndex(b);if(g!=-1){var d=b[g];var c=this.getClassIndex(d,e,a);this.removeCSSRule(d,h,a);if(c!=-1){var f=d.cssRules||d.rules;if(d.insertRule){d.insertRule(h+"{"+f.item(c).style.cssText+"}",f.length)}else{d.addRule(h,f.item(c).style.cssText)}}else{kony.print("Specified skin: "+e+" is  not defined in kony.css")}}else{kony.print("Style class not found!")}},removeCSSRule:function(b,c){var a=this.getClassIndex(b,c);if(a!=-1){if(b.deleteRule){b.deleteRule(a)}else{b.removeRule(a)}}},getKonyStyleSheetIndex:function(d){var c=$KG.imagecat;for(var b=0;b<d.length;b++){var a=d[b].href;if(a&&a.indexOf("kony")!=-1&&a.indexOf("konyspaiphoneretina")==-1){if(c){if(a.match(c.substring(0,c.length-1)+".css")){return b}}else{return b}}}console.warn("SPA Stylesheet could not be loaded");return -1},getClassIndex:function(c,b){if(b.indexOf("#")==-1){b="."+b}var d=c.cssRules||c.rules;for(var a=0;a<d.length;a++){if(d[a].selectorText==b){return a}}return -1},getScrolledHeight:function(){var b=(navigator.appName.indexOf("Netscape")!=-1);var a=b?pageYOffset:document.documentElement&&document.documentElement.scrollTop?document.documentElement.scrollTop:document.body.scrollTop;return a},getViewPortHeight:function(){var b=(navigator.appName.indexOf("Netscape")!=-1);var a=b?innerHeight:document.documentElement&&document.documentElement.clientHeight?document.documentElement.clientHeight:document.body.clientHeight;return a},getViewPortWidth:function(){var b=(navigator.appName.indexOf("Netscape")!=-1);var a=b?innerWidth:document.documentElement&&document.documentElement.clientWidth?document.documentElement.clientWidth:document.body.clientWidth;return a},applyBlockUISkin:function(g){var m=this.getScrolledHeight();var f=this.getViewPortHeight();var n=f+m-15;f=f/2+m;var l=this.getViewPortWidth();l=l/2;var p=document.createElement("div");p.id="blurDiv";p.className=g.blockeduiskin;var o=window.innerHeight;var j=screen.availHeight;p.style.backgroundImage="none";document.body.appendChild(p);var a=$KU.getElementById("blurDiv");p.style.backgroundImage="";var k=$KU.getStyle(a,"font-family");var c=$KU.getStyle(a,"height");var e=$KU.getStyle(a,"width");c=c.replace("px","");e=e.replace("px","");p.style.width="100%";var d;if($KG.relativeScroll){var b=document.getElementById("__MainContainer").clientHeight;if(b<(window.innerHeight||document.body.clientHeight)){d=(window.innerHeight||document.body.clientHeight)+"px"}else{d=b+"px"}}else{d="100%"}p.style.height=d;if(k=="Helvetica"){a.style.backgroundImage="";if(e!="auto"){a.style.backgroundPosition=(l-(e/2))+"px "+(m)+"px"}}else{if(k=="Verdana"){if(e!="auto"){a.style.backgroundPosition=(l-(e/2))+"px "+(f-(c/2))+"px"}}else{var h=this.getViewPortHeight()+m;if(e!="auto"){a.style.backgroundPosition=(l-(e/2))+"px "+(h-c)+"px"}}}},removeBlockUISkin:function(){var a=$KU.getElementById("blurDiv");a&&a.parentNode.removeChild(a)},setProgressIndicator:function(e,a){var c=$KU.getElementById("__progressdiv");if(c){c.parentNode.removeChild(c)}var b=$KU.getModelByNode(e);var f=(a&&a.skin)||(b&&b.skin);var d=document.createElement("div");d.setAttribute("id","__progressdiv");d.setAttribute("progressindicator","true");d.setAttribute("progressskin",f);d.setAttribute("style","width:"+e.clientWidth+"px;height:"+e.clientHeight+"px;position:absolute;opacity:0.6;");return d},updateNormalImage:function(c){var e=$KU.getNodeByModel(c);if(!e||!c.backgroundimage){return}var b=c.backgroundimage;var d=$KW.Utils.getNormalImageStyle(c);if(b.index){e=document.querySelectorAll("#"+e.id)[b.index-1]}var a=$KU.getImageURL(b.imageurl);$KU.imagePreloader(a,function(g,f){return function(j){j=j||window.event;var p=j.target||j.srcElement;var n=$KU.getModelByNode(g);var s=n.backgroundimage;if(j.type=="error"){if(s.imagewhenfailed){var q=$KU.getImageURL(s.imagewhenfailed);var m=s.heightwidth;g.style.background="url("+q+") no-repeat center center";if(m){g.style.height=m[1]+"px"}return}}g.setAttribute("style",f);g.style.display=(n.isvisible?"":"none");if(s&&s.maintainaspectratio){var r=p.naturalHeight||p.height;var o=p.naturalWidth||p.width;var l=o/r;if(!isNaN(l)){g.setAttribute("aspect-ratio",l);var k=g.clientWidth;var h=Math.round(1/l*k);g.style.height=h+"px"}}}}(e,d))},getNormalImageStyle:function(c){var d="";var b=c.backgroundimage;if(b){var e=b.maintainaspectratio;var f=b.heightwidth;var a=$KU.getImageURL(b.imageurl);d+="background-image: url("+a+"); background-repeat: no-repeat; "}if(e){d+="background-size:contain; "}if(f){d+=(e?"":" width:"+f[2]+"px;")+"height:"+f[1]+"px;"}return d},convertPhoneAlphabetToNumber:function(a){var d=a.length;a=a.toLowerCase();var c="";for(var b=0;b<d;b++){var e=a.charAt(b);if(c.length>10){break}switch(e){case"0":c+="0";break;case"1":c+="1";break;case"2":c+="2";break;case"3":c+="3";break;case"4":c+="4";break;case"5":c+="5";break;case"6":c+="6";break;case"7":c+="7";break;case"8":c+="8";break;case"9":c+="9";break;case"a":case"b":case"c":c+="2";break;case"d":case"e":case"f":c+="3";break;case"g":case"h":case"i":c+="4";break;case"j":case"k":case"l":c+="5";break;case"m":case"n":case"o":c+="6";break;case"p":case"q":case"r":case"s":c+="7";break;case"t":case"u":case"v":c+="8";break;case"w":case"x":case"y":case"z":c+="9";break}}return c},scrollToElement:function(c,g,j,a){if(a==undefined&&(c&&(c.tagName=="INPUT"||c.tagName=="SELECT"||c.tagName=="TEXTAREA"))){try{c.focus()}catch(k){}return}var d=c&&c.getBoundingClientRect();if(!(d&&d.top>=0&&d.bottom<=(window.innerHeight||document.documentElement.clientHeight))){var l,b,f,m,n=true;if(!g){g=1000}if(!j){j=document.body.scrollTop}if(!a){a=(c&&$KW.Utils.getOffset(c).top)||0}b=j;f=a;l=a-j;if(Math.abs(l)<50){window.scrollTo(0,f);try{c&&c.focus()}catch(k){}return}m=Math.round((l*100)/g);if(j>=a){n=false}var h=setInterval(function(o,q,e,p){return function(){q=q+p;if((!o&&q<=e)||(o&&q>=e)){window.scrollTo(0,e);try{c&&c.focus()}catch(r){}clearInterval(h);return}window.scrollTo(0,q)}}(n,b,f,m),100)}},getOffset:function(a){var c=a.offsetLeft,b=a.offsetTop;while(a=a.offsetParent){c+=a.offsetLeft;b+=a.offsetTop}return{left:c,top:b}},initializeTemplateGestures:function(){if($KG.gestureTemplates){for(var a=IndexJL;a<$KG.gestureTemplates.length;a++){window[$KG.gestureTemplates[a]]&&$KW.Utils.initializeGestures(window[$KG.gestureTemplates[a]])}}},initializeGestures:function(b){for(var g in b){var d=b[g];if(!d||typeof d!="object"||$KU.isArray(d)||d.id==b.id){continue}var f=d.gestures;if(f){for(var a in f){var c=f[a];if(c){$KW.Utils.removegesture(d,c.gestureType,false);new $KW.touch.gesture(d,c.gestureType,c.gestureObj,c.callback)}}}}var e=b.gestures;if(e){for(var a in e){var c=e[a];if(c){$KW.Utils.removegesture(b,c.gestureType,false);new $KW.touch.gesture(b,c.gestureType,c.gestureObj,c.callback)}}}},updateModelWithGesture:function(b,c,d,e){if(!b){b=$KG}if(!b.gestures){b.gestures={}}var a=(c==1?(d.taps==1?10:11):c);b.gestures[a]={gestureObj:d,callback:e,gestureType:c}},removegesture:function(a,b,c){if(a.gestures&&a.gestures[b]&&a.gestures[b]["instance"]){a.gestures[b]["instance"].removeGesture(b,c)}},scrollInterface:(function(){var a=this;var d=true;var f={scrollLeft:NaN,scrollTop:NaN,clientHeight:NaN,clientWidth:NaN};var g="scrollLeft";var e="scrollTop";var c="clientHeight";var j="clientWidth";var b={getScrollX:function(){return f[g]},getScrollY:function(){return f[e]},getClientH:function(){return f[c]},getClientW:function(){return f[j]}};function h(){if(typeof a.pageXOffset=="number"){f=a;e="pageYOffset";g="pageXOffset";c="innerHeight";j="innerWidth"}else{if((typeof document.compatMode=="string")&&(document.compatMode.indexOf("CSS")>=0)&&(document.documentElement)&&(typeof document.documentElement.scrollLeft=="number")){f=document.documentElement}else{if((document.body)&&(typeof document.body.scrollLeft=="number")){f=document.body}}}d=false}return(function(){if(d){h()}return b})})()(),handleLayout:function(a,d,e){var c=a.context;var g=c.tabpaneID;c.container=a;c.template_generator=d;c.tabpaneID="";if(!d.pf){_konyConstNS.Form2.addHeaderorFooter.call(d,d)}d.isTemplate=true;var b=owl.deepCopy(d);$KW.Utils.updateLayoutData(a,b,e);c.setTopLevelBox(true);var f=$KW[b.wType].render(b,c);c.setTopLevelBox(false);c.tabpaneID=g;c.container="";c.template_generator="";return f},belongsToSegment:function(a){var b=document.getElementById([a.getAttribute("kformname"),a.getAttribute("kcontainerID")].join("_"));return b&&(b.getAttribute("kwidgettype")=="Segment")},setScrollWidth:function(c,b){var a=(c.scrollbar=="arrows")?b.childNodes[1]:b.childNodes[0];a.style.width=(a.clientWidth-parseInt($KU.getStyle(b,"padding-right").replace("px",""),10)-parseInt($KU.getStyle(b,"padding-left").replace("px",""),10))+"px";var d=$KG[c.pf+"_"+c.id+"_scroller"];d&&d.refresh()},getTemplateByContainerModelAndRowData:function(c,e,a,b){if(c.wType=="MenuContainer"){return e.template||c.menutemplate}else{if(c.wType=="Segment"){if(a){return c.sectionheadertemplate}else{return e.template||c.rowtemplate}}else{if(c.wType=="DataGrid"){if(c.selectedIndex>=IndexJL){var d=c.columnheadersconfig[c.selectedcellindex[0]];if(b=="0"){return d.columnheadertemplate.template}return d.columndatatemplate}}}}},getRowDataByContainerModelAndIndex:function(b,a){if(b.wType==="MenuContainer"){return $KW.MenuContainer.getDetails(b,a,"item")}else{if(b.wType==="Segment"){return $KW.Segment.getRowDataByIndex(b,a)}else{if(b.wType==="DataGrid"){}}}},getIndexAttrNameByContainerModel:function(a){if(a.wType==="MenuContainer"){return"menuindex"}else{if(a.wType==="Segment"){return"index"}else{if(a.wType==="DataGrid"){return"index"}}}}};$KW.WidgetGenerationContext=function(a){this.formID=a;this.topLevelBox=null};$KW.WidgetGenerationContext.prototype.setTopLevelBox=function(a){this.topLevelBox=a};$KW.unLoadWidget=function(){var a=document.querySelector('[selected="progress"]')||document.querySelector('[selected="progressindtr"]');if(a){a.removeAttribute("selected")}a=document.querySelector('[progressindicator="true"]');if(a){a.parentNode.removeChild(a)}$KW.Utils.removeBlockUISkin();var c=$KG[kony.constants.SELECTED_ITEM];if(c){var b=$KU.getElementById(c.kWidgetID);var d=c.kEventHandler;d&&d(b)}delete $KG[kony.constants.SELECTED_ITEM]};$KW.Camera={render:function(b,a){return""}};$KW.Advertisement={render:function(b,a){return""}};$KW.SeatMap={render:function(b,a){return""}};$KW.MenuItem={render:function(b,a){return""}};$KW.TPW={render:function(d,b){var a="";if(typeof d=="object"){$KU.addThirdPartyMeta({id:d.pf+"-"+d.id+"_tpwPlaceHolder",tpwModel:d});var c=$KU.getWidgetTypeByNameSapce(d.widgetName);var f=$KW.skins.getWidgetSkin(d,b)+" "+$KW.skins.getMarPadAdjustedContainerWeightSkin(d,100);var e="";e+=$KW.skins.getMarginSkin(d,b)+" "+$KW.skins.getPaddingSkin(d);if(d.isvisible==false||!d.isvisible=="false"||d.isVisible==false||!d.isVisible=="false"){e+="display:none;"}a+="<div id='"+d.pf+"-"+d.id+"_tpwPlaceHolder' class='"+f+"' tpwidgettype='"+c+"' style='"+e+"'></div>";return a}},renderWidget:function(b){if($KG.thirdPartyWidgetsMeta){for(var e in $KG.thirdPartyWidgetsMeta){var g=document.getElementById($KG.thirdPartyWidgetsMeta[e].id);if(g&&$KG.thirdPartyWidgetsMeta[e].tpwModel.pf==b){var a=$KG.thirdPartyWidgetsMeta[e].tpwModel;var d=a.widgetName.split(".");var f=window;for(var c=0;c<d.length;c++){f=f[d[c]]}if(f&&typeof f.initializeWidget=="function"){f.initializeWidget(g,a)}else{}}}}}};if(!Array.prototype.indexOf){Array.prototype.indexOf=function(d,c){if(c==null){c=0}else{if(c<0){c=Math.max(0,this.length+c)}}for(var b=c,a=this.length;b<a;b++){if(this[b]===d){return b}}return -1}};
$KW.touch={computeSnapWidths:function(h,g,a){var f=document.querySelectorAll("#"+h+" div[name='touchcontainer_"+g+"']");for(var b=0;b<f.length;b++){var d=f[b];var c=$KU.getModelByNode(d);$KW.touch.computeWidths(d,c)}},computeWidths:function(b,h){var c=b.children[0];var a=c.children;var d=a.length;c.style.width=d*100+"%";var k=0;var f=0;var i=100/d;if(a.length>0){for(var g=0;g<a.length;g++){a[g].style.display="inline";if(h.wType=="Segment"){a[g].style.width=i+"%"}else{a[g].style.width=Math.floor(a[g].clientWidth/d)+"px"}}a[0].style.display="block";f=a[0].clientWidth}if(window.orientation===90||window.orientation===-90){k=f/screen.height}else{if(window.orientation===0||window.orientation===180){k=f/screen.width}}b.setAttribute("imageWidth",f);b.setAttribute("ratio",k);if(!h.swipeContext){h.swipeContext={}}var l=h.swipeContext;l.imageWidth=f;l.widthRatio=k;l.wType=h.wType;if(h.focusedindex){if(h.wType==="Segment"){l.currentPage=h.focusedindex-IndexJL}else{l.currentPage=Math.ceil(h.focusedindex/h.recperpage)-IndexJL}}else{l.currentPage=0}$KW.touch.scrollImages(c,l.imageWidth*l.currentPage,$KU.swipeDuration,true);$KW.touch.updatePageIndicator(b,l,h)},updateFocusedIndex:function(c,b){c.focusedindex=c.swipeContext.currentPage+IndexJL;c.focuseditem=(c.data&&c.data[c.focusedindex])||(c.masterdata&&c.masterdata[c.focusedindex]);if(b&&c.ongesture){var d=$KU.returnEventReference(c.ongesture);var a=(b=="next"?1:(b=="previous"?2:-1));d.call(c,c,a)}},updatePageIndicator:function(b,k,d){var g=k.currentPage;var i=kony.utils.getElementById(b.id+"_footer");if(i&&i.childNodes[0]){var m=i.childNodes[0];var l=m.childNodes[0];var h=l.childNodes;for(var c=0;c<h.length;c++){var f=h[c].childNodes[0];var a=(c==g)?(d.pageondotimage?d.pageondotimage:"whitedot.gif"):(d.pageoffdotimage?d.pageoffdotimage:"blackdot.gif");if(f.src&&f.src.substring(f.src.lastIndexOf("/")+1)==a){continue}f.src=$KU.getImageURL(a)}}(d.wType=="HStrip")&&$KW.touch.updateArrows(b,k,d)},updateArrows:function(f,d,c){var b=f.childNodes[1];if(b){var g=b.childNodes[0];var h=b.childNodes[1];var a=f.childNodes[0].childNodes.length;if(d.currentPage==IndexJL){g.style.display="none"}else{g.style.display=""}if(d.currentPage==(IndexJL?a:a-1)){h.style.display="none"}else{h.style.display=""}}},previousPage:function(a){var g=a.parentNode.getAttribute("wType");var k=a.id.substr(0,a.id.lastIndexOf("_"));var b=(g=="HStrip")?a.parentNode.parentNode:document.getElementById(k);var i=$KU.getModelByNode(b);var f=a.parentNode.parentNode.childNodes[1];var l=a.childNodes[0].getAttribute("type")=="VImg"?true:false;var d=i.scrollInstance||$KG[f.id];if(d){var c=f.childNodes[0];if(l){var h=Math.abs(d.y)<f.clientHeight?0:(d.y+f.clientHeight);d.animateTo(0,h)}else{var j=Math.abs(d.x)<f.clientWidth?0:(d.x+f.clientWidth);d.animateTo(j,0)}}},nextPage:function(a){var g=a.parentNode.getAttribute("wType");var l=a.id.substr(0,a.id.lastIndexOf("_"));var b=(g=="HStrip")?a.parentNode.parentNode:document.getElementById(l);var i=$KU.getModelByNode(b);var f=a.parentNode.parentNode.childNodes[1];var m=a.childNodes[0].getAttribute("type")=="VImg"?true:false;var d=i.scrollInstance||$KG[f.id];if(d){var c=f.childNodes[0];c.style[vendor+"Transition"]="-"+vendor+"-transform 0.5s ";if(m){var k=c.clientHeight-Math.abs(d.y)-f.clientHeight;var h=k<f.clientHeight?(d.y-k):(d.y-f.clientHeight);d.animateTo(0,h)}else{var k=c.clientWidth-Math.abs(d.x)-f.clientWidth;var j=k<f.clientWidth?(d.x-k):(d.x-f.clientWidth);d.animateTo(j,0)}}},fadeHImages:function(b){var d="display:none;";var a=$KU.getImageURL(b.leftarrowimage);var c=$KU.getImageURL(b.rightarrowimage);var f=b.pf+"_"+b.id;var g="<div id='"+f+"_scrollFades_H' class='scroll_view' wType='"+b.wType+"'><div id='"+f+"_leftimg' class='scroll_fades leftfade' style='"+d+"'"+(($KU.isBlackBerryNTH||($KU.isWindowsPhone&&$KU.isIE9))?" onclick='$KW.touch.previousPage(this)'":"")+"><img type='HImg' src='"+a+"' onload='$KW.touch.setHeight(this)' ></div><div id='"+f+"_rightimg' class='scroll_fades rightfade' style='"+d+"'"+(($KU.isBlackBerryNTH||($KU.isWindowsPhone&&$KU.isIE9))?" onclick='$KW.touch.nextPage(this)'":"")+"><img type='HImg' src='"+c+"' onload='$KW.touch.setHeight(this)' ></div></div>";return g},fadeVImages:function(b){var c="display:none;";var a=$KU.getImageURL(b.toparrowimage);var g=$KU.getImageURL(b.bottomarrowimage);var d=b.pf+"_"+b.id;var f="<div id='"+d+"_scrollFades_V' class='scroll_view' style='height:inherit;' wType='"+b.wType+"'><div id='"+d+"_topimg' class='scroll_fades topfade' style='"+c+"'"+(($KU.isBlackBerryNTH||($KU.isWindowsPhone&&$KU.isIE9))?" onclick='$KW.touch.previousPage(this)'":"")+"><img type='VImg' src='"+a+"' onload='$KW.touch.setHeight(this)' ></div><div id='"+d+"_bottomimg' class='scroll_fades bottomfade' style='"+c+"'"+(($KU.isBlackBerryNTH||($KU.isWindowsPhone&&$KU.isIE9))?" onclick='$KW.touch.nextPage(this)'":"")+"><img type='VImg' src='"+g+"' onload='$KW.touch.setHeight(this)' ></div></div>";return f},setHeight:function(c){var b=c.parentNode;c.naturalHeight=c.naturalHeight||c.height;c.naturalWidth=c.naturalWidth||c.width;b.style.height=c.naturalHeight+"px";b.style.width=c.naturalWidth+"px";var a=c.getAttribute("type");if(a=="HImg"){b.style.top=Math.floor((b.parentNode.offsetHeight-c.naturalHeight)/2)+"px"}else{b.style.left=Math.floor((b.parentNode.offsetWidth-c.naturalWidth)/2)+"px"}},orientationHandler:function(t,a,d){var s=document.querySelectorAll("#"+t+" div[name='touchcontainer_"+d+"']");var v=$KU.getPlatform().name;for(var p=0;p<s.length;p++){var g=s[p];var m=g.id;var l=$KU.getModelByNode(g);var h=l.swipeContext;if(!h){continue}var u=g.children[0];var q=u.children;var b=q.length;if(b>0){u.style.width=b*100+"%";var r=0;for(var o=0;o<q.length;o++){if(o!=(h.currentPage+1)){q[o].style.display="none"}}var f=screen.height*h.widthRatio+"px";var c=screen.width*h.widthRatio+"px";for(var n=0;n<q.length;n++){if(v=="android"||v=="blackberry"){if(a==="landscape"){q[n].style.width=c}else{if(a==="portrait"){q[n].style.width=c}}}else{if(a==="landscape"){q[n].style.width=f}else{if(a==="portrait"){q[n].style.width=c}}}}r=q[0].parentNode.clientWidth/b;h.imageWidth=r;g.setAttribute("imageWidth",r);if(h.currentPage===(b-1)){$KW.touch.previousImage(g,h,true);$KW.touch.nextImage(g,h,true)}else{$KW.touch.nextImage(g,h,true);$KW.touch.previousImage(g,h,true)}for(var o=0;o<q.length;o++){q[o].style.display="inline"}}}},previousImage:function(b,d,a){var c=b.children[0];d.currentPage=Math.max(d.currentPage-1,0);$KW.touch.scrollImages(c,d.imageWidth*d.currentPage,$KU.swipeDuration,a)},nextImage:function(c,f,a){var d=c.children[0];var b=d.children.length;f.currentPage=Math.min(f.currentPage+1,b-1);$KW.touch.scrollImages(d,f.imageWidth*f.currentPage,$KU.swipeDuration,a)},scrollImages:function(c,g,f,a,b){if(!a){c.style[vendor+"Transition"]="-"+vendor+"-transform "+(f/1000).toFixed(1)+"s "}else{c.style[vendor+"Transition"]="-"+vendor+"-transform 0 0"}var d=(g<0?"":"-")+Math.abs(g).toString();c.style[vendor+"Transform"]=translateOpen+d+"px,0"+translateClose},navigationDotsHandler:function(h){var a=parseInt(h.getAttribute("index"),10);var g=h.parentNode.parentNode.parentNode.previousSibling;if(g){var b=$KU.getModelByNode(g);if(b){var f=b.swipeContext;var d=g.children[0];f.currentPage=parseInt(a)-IndexJL;$KW.touch.scrollImages(d,f.imageWidth*f.currentPage,$KU.swipeDuration,false);$KW.touch.updatePageIndicator(g,f,b);b.selectedRows=(IndexJL)?[null,[null,IndexJL,a]]:[[IndexJL,a]];$KW.Segment.setSelectedItemsAndIndices(b)}else{var c=h.parentNode.parentNode.parentNode.parentNode;var i=$KU.getModelByNode(c);var f=i.swipeContext;var d=c.children[1].children[0];f.currentPage=parseInt(a)-IndexJL;i.activetab=f.currentPage;i.activetabs[IndexJL]=i.activetab;$KW.touch.scrollImages(d,f.imageWidth*f.currentPage,$KU.swipeDuration,false);$KW.touch.updatePageIndicator(c,f,i)}}},TouchContext:function(){},preventDefault:function(a){kony.events.preventDefault(a)}};$KW.touch.TouchContext.UP="UP";$KW.touch.TouchContext.DOWN="DOWN";$KW.touch.TouchContext.LEFT="LEFT";$KW.touch.TouchContext.RIGHT="RIGHT";$KW.touch.pageviewScroller=function(b,a){this.element=b;if($KU.isTouchSupported){kony.events.addEventListener(b,"touchstart",this,false)}else{if($KU.isPointerSupported){if("onpointerdown" in window){kony.events.addEventListener(b,"pointerdown",this,false)}else{kony.events.addEventListener(b,"MSPointerDown",this,false)}}else{kony.events.addEventListener(b,"mousedown",this,false)}}this.widgetModel=a.widgetModel};$KW.touch.pageviewScroller.prototype={handleEvent:function(a){switch(a.type){case"touchstart":case"mousedown":case"MSPointerDown":case"pointerdown":this.onTouchStart(a);break;case"touchmove":case"mousemove":case"MSPointerMove":case"pointermove":this.onTouchMove(a);break;case"touchend":case"touchcancel":case"mouseup":case"MSPointerUp":case"MSPointerCancel":case"pointerup":case"pointercancel":this.onTouchEnd(a);break;case"mouseout":this.onMouseOut(a);break}},onTouchStart:function(b){var c=b.touches&&b.touches[0]||b;if($KU.isTouchSupported){kony.events.addEventListener(this.element,"touchmove",this,false);kony.events.addEventListener(this.element,"touchend",this,false);kony.events.addEventListener(this.element,"touchcancel",this,false)}else{if($KU.isPointerSupported){if("onpointerdown" in window){kony.events.addEventListener(this.element,"pointermove",this,false);kony.events.addEventListener(this.element,"pointerup",this,false);kony.events.addEventListener(this.element,"pointercancel",this,false)}else{kony.events.addEventListener(this.element,"MSPointerMove",this,false);kony.events.addEventListener(this.element,"MSPointerUp",this,false);kony.events.addEventListener(this.element,"MSPointerCancel",this,false)}}else{kony.events.addEventListener(this.element,"mousemove",this,false);kony.events.addEventListener(this.element,"mouseup",this,false);kony.events.addEventListener(this.element,"mouseout",this,false)}}this.x=this.lastx=this.startX=c.pageX;this.y=this.lasty=this.startY=c.pageY;var a=this.widgetModel.swipeContext;if(!a){a=new Object();a.imageWidth=this.element.getAttribute("imageWidth");a.widthRatio=this.element.getAttribute("ratio");a.currentPage=0}},onTouchMove:function(c){var h=c.touches&&c.touches[0]||c;var a=h.pageX;var k=h.pageY;var g=a-this.startX;var f=k-this.startY;this.lastx,this.lasty=this.x,this.y;this.x=a;this.y=k;var i=$KU.getSwipeDirection(g,f);var b=$KU.getDistanceMoved(g,f);var d=this.element.children[0];var j=this.widgetModel.swipeContext;if($KG.relativeScroll){if(Math.abs(g)>=Math.abs(f)){kony.events.preventDefault(c)}else{return}}else{kony.events.preventDefault(c)}if(i==$KW.touch.TouchContext.LEFT){$KW.touch.scrollImages(d,(j.imageWidth*j.currentPage)+b,0)}else{if(i==$KW.touch.TouchContext.RIGHT){$KW.touch.scrollImages(d,(j.imageWidth*j.currentPage)-b,0)}}$KW.touch.updateFocusedIndex(this.widgetModel)},onTouchEnd:function(f){this.detachEvents();var i=f.changedTouches&&f.changedTouches[0]||f;var h=i.pageX;var g=i.pageY;var b=h-this.lastx;var a=g-this.lasty;var d=this.widgetModel.swipeContext;var c;if(b<=-7){$KW.touch.nextImage(this.element,d,false);c="next";this.widgetModel.onswipe&&this.widgetModel.onswipe(this.widgetModel)}else{if(b>=7){$KW.touch.previousImage(this.element,d,false);c="previous";this.widgetModel.onswipe&&this.widgetModel.onswipe(this.widgetModel)}}$KW.touch.updatePageIndicator(this.element,d,this.widgetModel);$KW.touch.updateFocusedIndex(this.widgetModel,c)},detachEvents:function(){if($KU.isTouchSupported){kony.events.removeEventListener(this.element,"touchmove",this,false);kony.events.removeEventListener(this.element,"touchend",this,false);kony.events.removeEventListener(this.element,"touchcancel",this,false)}else{if($KU.isPointerSupported){if("onpointerdown" in window){kony.events.removeEventListener(this.element,"pointermove",this,false);kony.events.removeEventListener(this.element,"pointerup",this,false);kony.events.removeEventListener(this.element,"pointercancel",this,false)}else{kony.events.removeEventListener(this.element,"MSPointerMove",this,false);kony.events.removeEventListener(this.element,"MSPointerUp",this,false);kony.events.removeEventListener(this.element,"MSPointerCancel",this,false)}}else{kony.events.removeEventListener(this.element,"mousemove",this,false);kony.events.removeEventListener(this.element,"mouseup",this,false);kony.events.removeEventListener(this.element,"mouseout",this,false)}}},onMouseOut:function(a){this.onTouchEnd(a)},destroy:function(){if(this.element){if($KU.isTouchSupported){kony.events.removeEventListener(this.element,"touchstart",this,false);kony.events.removeEventListener(this.element,"touchcancel",this,false)}else{if($KU.isPointerSupported){if("onpointerdown" in window){kony.events.removeEventListener(this.element,"pointerdown",this,false);kony.events.removeEventListener(this.element,"pointercancel",this,false)}else{kony.events.removeEventListener(this.element,"MSPointerDown",this,false);kony.events.removeEventListener(this.element,"MSPointerCancel",this,false)}}else{kony.events.removeEventListener(this.element,"mousedown",this,false);kony.events.removeEventListener(this.element,"mouseout",this,false)}}}}};$KW.touch.konyScroller=function(d,b){var f=this;f.wrapper=document.getElementById(d);f.scroller=f.wrapper.children[0];f.options={hScroll:false,vScroll:false,hScrollbar:false,vScrollbar:false,bounce:true,fixedScrollbar:!$KU.isIDevice,hideScrollbar:true,fadeScrollbar:$KU.isIDevice&&$KU.has3d,scrollbarClass:"",checkDOMChanges:false,useTransform:true,x:0,y:0,topOffset:0,bottomOffset:0,onBeforeScrollStart:function(g){},onRefresh:null,onScrollStart:null,onScrollMove:null,onScrollEnd:null};for(var c in b){f.options[c]=b[c]}f.x=f.options.x;f.y=f.options.y;f.pullDownOffset=f.options.topOffset||0;f.pullUpOffset=f.options.bottomOffset||0;f.options.vScrollbar=f.options.vScroll&&f.options.vScrollbar;f.options.hScrollbar=f.options.hScroll&&f.options.hScrollbar;f.options.useTransform=$KU.hasTransform?f.options.useTransform:false;f.scroller.style[vendor+"TransitionProperty"]=f.options.useTransform?("-"+vendor+"-transform"):"top left";f.scroller.style[vendor+"TransitionDuration"]="0";f.scroller.style[vendor+"TransformOrigin"]="0 0";if(f.options.useTransform){f.scroller.style[vendor+"Transform"]=translateOpen+(f.x-(f.options.hScroll?f.pullDownOffset:0))+"px,"+(f.y-(f.options.vScroll?f.pullDownOffset:0))+"px"+translateClose;if(!f.options.scrollbox){f.scroller.style.position="absolute"}}else{f.scroller.style.cssText+=";position:absolute;top:"+(f.y-(f.options.vScroll?f.pullDownOffset:0))+"px;left:"+(f.x-(f.options.hScroll?f.pullDownOffset:0))+"px"}f.refresh();if(f.options.showImages){if(f.options.hScroll){f.toggleFadeImgs()}}var a=f.wrapper.getAttribute("kformname");if(!a&&!f.options.scrollbox){kony.events.addEventListener(document,"touchmove",$KW.touch.preventDefault)}if(!f.options.disableUserScroll){if($KU.isTouchSupported){kony.events.addEventListener(f.scroller,"touchstart",f,false)}else{if($KU.isPointerSupported){if("onpointerdown" in window){kony.events.addEventListener(f.scroller,"pointerdown",f,false)}else{kony.events.addEventListener(f.scroller,"MSPointerDown",f,false)}}else{kony.events.addEventListener(f.scroller,"mousedown",f);kony.events.addEventListener(f.scroller,"mouseout",f)}}}if($KU.isOrientationSupported&&!$KU.isAndroid){kony.events.addEventListener(window,"orientationchange",f,false)}else{kony.events.addEventListener(window,"resize",f)}if(f.options.checkDOMChanges){f.checkDOMTime=setInterval(function(){f._checkDOMChanges()},1000)}};$KW.touch.konyScroller.prototype={x:0,y:0,steps:[],aniTime:null,_checkDOMChanges:function(){var a=document.getElementById(this.scroller.id);if(a===null){return}if(this.moved||this.animating||(this.scrollerW==a.offsetWidth*1&&this.scrollerH==a.offsetHeight*1)){return}if(this.options.hScroll==true){a.style.width=(a.scrollWidth/a.parentNode.offsetWidth)*100+"%"}this.refresh()},refresh:function(){var a=this;if(this.refreshDisabled){return}a.wrapperW=a.wrapper.clientWidth||1;a.wrapperH=a.wrapper.clientHeight||1;a.minScrollY=a.options.vScroll?-a.pullDownOffset:0;a.maxBiasY=a.options.vScroll?-a.pullUpOffset:0;a.minScrollX=a.options.hScroll?-a.pullDownOffset:0;a.maxBiasX=a.options.hScroll?-a.pullUpOffset:0;a.scrollerW=Math.round(a.minScrollX+a.scroller.offsetWidth+a.maxBiasX);a.scrollerH=Math.round(a.minScrollY+a.scroller.offsetHeight+ +a.maxBiasY);a.maxScrollX=(a.wrapperW-a.scrollerW)+a.minScrollX;a.maxScrollY=(a.wrapperH-a.scrollerH)+a.minScrollY;a.dirX=0;a.dirY=0;if(a.options.onRefresh){a.options.onRefresh.call(a)}a.hScroll=a.options.hScroll&&a.maxScrollX<0;a.vScroll=a.options.vScroll&&(!a.hScroll||a.scrollerH>a.wrapperH);a.hScrollbar=a.hScroll&&a.options.hScrollbar;a.vScrollbar=a.vScroll&&a.options.vScrollbar&&a.scrollerH>a.wrapperH;var b=a._offset(a.wrapper);a.wrapperOffsetLeft=-b.left;a.wrapperOffsetTop=-b.top;a.scroller.style[$KU.vendor+"TransitionDuration"]="0";a._scrollbar("h");a._scrollbar("v");a._resetPos(200);if(a.options.showImages){if(a.options.vScroll){a.toggleVFadeImgs()}if(a.options.hScroll){a.toggleFadeImgs()}}},handleEvent:function(b){var a=this;if($KG.__idletimeout&&$KG.__idletimeout.enabled){$KI.appevents.resettimer()}if($KG.activeInput&&$KG.appbehaviors.disableScrollOnInputFocus==true&&b.type!="resize"){return}if(b.type!="orientationchange"&&b.type!="resize"){if(b&&b.target&&b.target.getAttribute&&(b.target.getAttribute("kwidgettype")=="Khstrip"||b.target.getAttribute("kwidgettype")=="ScrollBox")){this.angularDirection=true}}else{this.angularDirection=false}switch(b.type){case"touchstart":case"mousedown":case"MSPointerDown":case"pointerdown":a.onTouchStart(b);break;case"touchmove":case"mousemove":case"MSPointerMove":case"pointermove":a.onTouchMove(b);break;case"touchend":case"touchcancel":case"mouseup":case"MSPointerUp":case"MSPointerCancel":case"pointerup":case"pointercancel":a.onTouchEnd(b);break;case"mouseout":a.onMouseOut(b);break;case"orientationchange":case"resize":a.resize(b);break}},resize:function(){var b=this;if(!b.options.scrollbox){$KW.Scroller.setHeight(b.options.formid);if(!$KG.relativeScroll&&$KU.isIOS7){window.scrollTo(0,0);if($KG.__currentForm){$KU.getElementById($KG.__currentForm.id+"_container").style.height="100%"}var a=window[b.options.formid];a&&$KW.Scroller.setSLWHeight(a,b.wrapper,true)}}setTimeout(function(){b.refresh()},$KU.isAndroid?200:0);if($KU.isAndroid&&!$KU.isTablet&&!b.options.scrollbox){window.clearTimeout(b.resizeTimeoutId);b.resizeTimeoutId=setTimeout(function(){if(document.activeElement){var d=$KU.getModelByNode(document.activeElement);if(d&&(d.wType=="TextField"||d.wType=="TextArea")){var c=$KU.getWindowHeight();var f=$KU.getPlatformVersion("android").startsWith("2")?window.outerHeight:screen.height;if($KG.__orientation=="landscape"&&f-c<100){return}if($KG.__innerHeight>=c){setTimeout(function(){b.refresh();b.scrollToElement(document.activeElement,200)},100)}else{b.refresh()}}}},$KU.orientationDelay)}},onTouchStart:function(a){var b=a.touches&&a.touches[0]||a;$KG.disableViewPortScroll&&$KU.setPointerEvents(a.srcElement,"auto");if(this.options.scrollbox){kony.events.ontouchstartHandler(a);if(!this.options.HStrip){kony.events.stopPropagation(a)}}if(this.options.onBeforeScrollStart){this.options.onBeforeScrollStart.call(this,a)}this.extendTouchStart(b)},onTouchMove:function(a){var b=a.touches&&a.touches[0]||a;$KG.disableViewPortScroll&&$KU.setPointerEvents(a.srcElement,"none");if(this.options.scrollbox){kony.events.ontouchmoveHandler(a)}this.extendTouchMove(b)},onTouchEnd:function(a){var b=a.touches&&a.touches[0]||a;this.extendTouchEnd(b)},onMouseOut:function(b){var a=b.relatedTarget||b.srcElement;if(!a){this.onTouchEnd(b);return}while(a=a.parentNode){if(a==this.wrapper){return}}this.onTouchEnd(b)},extendTouchStart:function(d){this.moved=false;this.animating=false;this.distX=0;this.distY=0;this.absDistX=0;this.absDistY=0;var a,c;if(this.options.useTransform){var b=getComputedStyle(this.scroller,null)[vendor+"Transform"].replace(/[^0-9-.,]/g,"").split(",");a=b[4]*1;c=b[5]*1}else{a=getComputedStyle(this.scroller,null).left.replace(/[^0-9-]/g,"")*1;c=getComputedStyle(this.scroller,null).top.replace(/[^0-9-]/g,"")*1}this.startX=this.x;this.startY=this.y;this.pointX=d.pageX;this.pointY=d.pageY;this.startTime=new Date().valueOf();if(this.options.onScrollStart){this.options.onScrollStart.call(this,e)}if($KU.isTouchSupported){kony.events.addEventListener(this.scroller,"touchmove",this,false);kony.events.addEventListener(this.scroller,"touchend",this,false);kony.events.addEventListener(this.scroller,"touchcancel",this,false)}else{if($KU.isPointerSupported){if("onpointerdown" in window){kony.events.addEventListener(window,"pointermove",this,false);kony.events.addEventListener(window,"pointerup",this,false);kony.events.addEventListener(window,"pointercancel",this,false)}else{kony.events.addEventListener(window,"MSPointerMove",this,false);kony.events.addEventListener(window,"MSPointerUp",this,false);kony.events.addEventListener(window,"MSPointerCancel",this,false)}}else{kony.events.addEventListener(this.scroller,"mousemove",this,false);kony.events.addEventListener(this.scroller,"mouseup",this,false)}}this.direction=""},extendTouchMove:function(f){var d=f.pageX-this.pointX,b=f.pageY-this.pointY,a=this.x+d,j=this.y+b,g,c,h=new Date().valueOf();var i=$KU.getSwipeDirection(d,b);if(this.angularDirection){if((this.vScroll&&(i!=$KW.touch.TouchContext.UP&&i!=$KW.touch.TouchContext.DOWN))||(this.hScroll&&(i!=$KW.touch.TouchContext.LEFT&&i!=$KW.touch.TouchContext.RIGHT))){return}}if($KG.relativeScroll){if(Math.abs(d)>=Math.abs(b)){kony.events.preventDefault(f)}else{return}}else{kony.events.preventDefault(f)}this.direction=i;this.pointX=f.pageX;this.pointY=f.pageY;if(a>this.minScrollX||a<this.maxScrollX){a=this.options.bounce?this.x+(d/2):a>=this.minScrollX||this.maxScrollX>=0?this.minScrollX:this.maxScrollX}if(j>this.minScrollY||j<this.maxScrollY){j=this.options.bounce?this.y+(b/2):j>=this.minScrollY||this.maxScrollY>=0?this.minScrollY:this.maxScrollY}if(this.absDistX<$KU.minTouchMoveDisplacement&&this.absDistY<$KU.minTouchMoveDisplacement){this.distX+=d;this.distY+=b;this.absDistX=Math.abs(this.distX);this.absDistY=Math.abs(this.distY);return}if(this.absDistX>this.absDistY+5){j=this.y;b=0}else{if(this.absDistY>this.absDistX+5){a=this.x;d=0}}this.moved=true;this.animateTo(a,j);if(h-this.startTime>300){this.startTime=h;this.startX=this.x;this.startY=this.y}if(this.options.onScrollMove){this.options.onScrollMove.call(this,event)}},extendTouchEnd:function(i){if($KU.isTouchSupported){kony.events.removeEventListener(this.scroller,"touchmove",this,false);kony.events.removeEventListener(this.scroller,"touchend",this,false);kony.events.removeEventListener(this.scroller,"touchcancel",this,false)}else{if($KU.isPointerSupported){if("onpointerdown" in window){kony.events.removeEventListener(window,"pointermove",this,false);kony.events.removeEventListener(window,"pointerdown",this,false);kony.events.removeEventListener(window,"pointercancel",this,false)}else{kony.events.removeEventListener(window,"MSPointerMove",this,false);kony.events.removeEventListener(window,"MSPointerDown",this,false);kony.events.removeEventListener(window,"MSPointerCancel",this,false)}}else{kony.events.removeEventListener(this.scroller,"mousemove",this,false);kony.events.removeEventListener(this.scroller,"mouseup",this,false)}}var h={dist:0,time:0},g={dist:0,time:0},f=(new Date().valueOf())-this.startTime,d=this.x,b=this.y,a;var c=$KU.getSwipeDirection(d-this.startX,b-this.startY);if(this.angularDirection){if((this.vScroll&&(c!=$KW.touch.TouchContext.UP&&c!=$KW.touch.TouchContext.DOWN))||(this.hScroll&&(c!=$KW.touch.TouchContext.LEFT&&c!=$KW.touch.TouchContext.RIGHT))){return}}this.direction=c;if(f<300){h=d?this._momentum(d-this.startX,f,-this.x,(this.maxScrollX<0?this.scrollerW-this.wrapperW+this.x-this.minScrollX:0),this.options.bounce?this.wrapperW:0):h;g=b?this._momentum(b-this.startY,f,-this.y,(this.maxScrollY<0?this.scrollerH-this.wrapperH+this.y-this.minScrollY:0),this.options.bounce?this.wrapperH:0):g;d=this.x+h.dist;b=this.y+g.dist;if((this.x>this.minScrollX&&d>this.minScrollX)||(this.x<this.maxScrollX&&d<this.maxScrollX)){h={dist:0,time:0}}if((this.y>this.minScrollY&&b>this.minScrollY)||(this.y<this.maxScrollY&&b<this.maxScrollY)){g={dist:0,time:0}}}if(h.dist||g.dist){a=Math.max(Math.max(h.time,g.time),10);this.scrollTo(Math.round(d),Math.round(b),a);return}this._resetPos(200)},animateTo:function(b,d){var a=this.options.hScroll&&!isNaN(b)?b:0;var c=this.options.vScroll&&!isNaN(d)?d:0;if(this.options.useTransform){this.scroller.style[vendor+"Transform"]=translateOpen+a+"px,"+c+"px"+translateClose}else{a=Math.round(a);c=Math.round(c);this.scroller.style.left=a+"px";this.scroller.style.top=c+"px"}this.x=a;this.y=c;if(this.options.showImages){if(this.options.vScroll){this.toggleVFadeImgs()}if(this.options.hScroll){this.toggleFadeImgs()}}this._scrollbarPos("h");this._scrollbarPos("v")},toggleFadeImgs:function(){var b=this.options.widgetID;var i=this.options.formid;var g=i+"_"+b;var c=$KU.getElementById(g+"_scrollee");if(!c){return}var h=c.scrollWidth+c.offsetLeft+(c.offsetWidth-c.clientWidth);var j=Math.min(0,$KU.getElementById(g+"_scroller").clientWidth-h);var a=$KU.getElementById(g+"_leftimg");var f=$KU.getElementById(g+"_rightimg");a&&$KW.touch.setHeight(a.childNodes[0]);f&&$KW.touch.setHeight(f.childNodes[0]);var d=-this.x;if(d>c.offsetLeft){a&&$KU.applyFade(a,"fadeIn",500)}else{a&&$KU.applyFade(a,"fadeOut",1000)}if(d<-j){f&&$KU.applyFade(f,"fadeIn",500)}else{f&&$KU.applyFade(f,"fadeOut",1000)}},toggleVFadeImgs:function(){var b=this.options.widgetID;var k=this.options.formid;var j=k+"_"+b;var d=$KU.getElementById(j+"_scrollee");var g=d.scrollHeight+d.offsetTop+(d.offsetHeight-d.clientHeight);var a=Math.min(0,$KU.getElementById(j+"_scroller").clientHeight-g);var c=$KU.getElementById(j+"_topimg");var i=$KU.getElementById(j+"_bottomimg");var f=-this.y;if(f>d.offsetTop){c&&$KU.applyFade(c,"fadeIn",500)}else{c&&$KU.applyFade(c,"fadeOut",1000)}if(f<-a){i&&$KU.applyFade(i,"fadeIn",500)}else{i&&$KU.applyFade(i,"fadeOut",1000)}},_scrollbarPos:function(a,d){var c=this,f=a=="h"?c.x:c.y,b;if(!c[a+"Scrollbar"]||((this.direction=="LEFT"||this.direction=="RIGHT")&&!this.options.scrollbox)){return}f=c[a+"ScrollbarProp"]*f;if(f<0){if(!c.options.fixedScrollbar){b=c[a+"ScrollbarIndicatorSize"]+Math.round(f*3);if(b<8){b=8}c[a+"ScrollbarIndicator"].style[a=="h"?"width":"height"]=b+"px"}f=0}else{if(f>c[a+"ScrollbarMaxScroll"]){if(!c.options.fixedScrollbar){b=c[a+"ScrollbarIndicatorSize"]-Math.round((f-c[a+"ScrollbarMaxScroll"])*3);if(b<8){b=8}c[a+"ScrollbarIndicator"].style[a=="h"?"width":"height"]=b+"px";f=c[a+"ScrollbarMaxScroll"]+(c[a+"ScrollbarIndicatorSize"]-b)}else{f=c[a+"ScrollbarMaxScroll"]}}}c[a+"ScrollbarWrapper"].style[vendor+"TransitionDelay"]="0";c[a+"ScrollbarWrapper"].style.opacity=d&&c.options.hideScrollbar?"0":"1";if(c.options.useTransform){c[a+"ScrollbarIndicator"].style[vendor+"Transform"]=translateOpen+(a=="h"?f+"px,0":"0,"+f+"px")+translateClose}else{if(a=="h"){c[a+"ScrollbarIndicator"].style.left=f+"px";c[a+"ScrollbarIndicator"].style.top=0}else{c[a+"ScrollbarIndicator"].style.left=0;c[a+"ScrollbarIndicator"].style.top=f+"px"}}},_scrollbar:function(a){var c=this,d=document,b;if(!c[a+"Scrollbar"]){if(c[a+"ScrollbarWrapper"]){if($KU.hasTransform){c[a+"ScrollbarIndicator"].style[vendor+"Transform"]=""}c[a+"ScrollbarWrapper"].parentNode.removeChild(c[a+"ScrollbarWrapper"]);c[a+"ScrollbarWrapper"]=null;c[a+"ScrollbarIndicator"]=null}return}if(!c[a+"ScrollbarWrapper"]){b=d.createElement("div");if(c.options.scrollbarClass){b.className=c.options.scrollbarClass+a.toUpperCase()}else{b.style.cssText="position:absolute;z-index:100;"+(a=="h"?"height:7px;bottom:1px;left:2px;right:"+(c.vScrollbar?"7":"2")+"px":"width:7px;bottom:"+(c.hScrollbar?"7":"2")+"px;top:2px;right:1px")}b.style.cssText+=";pointer-events:none;-"+vendor+"-transition-property:opacity;-"+vendor+"-transition-duration:"+(c.options.fadeScrollbar?"350ms":"0")+";overflow:hidden; opacity:"+(c.options.hideScrollbar?"0":"1");c.wrapper.appendChild(b);c[a+"ScrollbarWrapper"]=b;b=d.createElement("div");if(!c.options.scrollbarClass){b.style.cssText="position:absolute;z-index:100;background:rgba(0,0,0,0.5);border:1px solid rgba(255,255,255,0.9); -"+vendor+"-background-clip:padding-box;-"+vendor+"-box-sizing:border-box; "+(a=="h"?"height:100%":"width:100%")+"; -"+vendor+"-border-radius:3px;border-radius:3px"}if(c.options.useTransform){b.style.cssText+=";pointer-events:none;-"+vendor+"-transition-property:-"+vendor+"-transform; -"+vendor+"-transition-timing-function:cubic-bezier(0.33,0.66,0.66,1);-"+vendor+"-transition-duration:0;-"+vendor+"-transform:"+translateOpen+"0,0"+translateClose}c[a+"ScrollbarWrapper"].appendChild(b);c[a+"ScrollbarIndicator"]=b}if(a=="h"){c.hScrollbarSize=c.hScrollbarWrapper.clientWidth;c.hScrollbarIndicatorSize=Math.max(Math.round(c.hScrollbarSize*c.hScrollbarSize/c.scrollerW),8);c.hScrollbarIndicator.style.width=c.hScrollbarIndicatorSize+"px";c.hScrollbarMaxScroll=c.hScrollbarSize-c.hScrollbarIndicatorSize;c.hScrollbarProp=c.hScrollbarMaxScroll/c.maxScrollX}else{c.vScrollbarSize=c.vScrollbarWrapper.clientHeight;c.vScrollbarIndicatorSize=Math.max(Math.round(c.vScrollbarSize*c.vScrollbarSize/c.scrollerH),8);c.vScrollbarIndicator.style.height=c.vScrollbarIndicatorSize+"px";c.vScrollbarMaxScroll=c.vScrollbarSize-c.vScrollbarIndicatorSize;c.vScrollbarProp=c.vScrollbarMaxScroll/c.maxScrollY}c._scrollbarPos(a,true)},_resetPos:function(c){var a=this,d=a.x>=a.minScrollX?a.minScrollX:a.x<a.maxScrollX?a.maxScrollX:a.x,b=a.y>=a.minScrollY||a.maxScrollY>0?a.minScrollY:a.y<a.maxScrollY?a.maxScrollY:a.y;if(d==a.x&&b==a.y){if(a.moved){a.moved=false;if(a.options.onScrollEnd){a.options.onScrollEnd.call(a)}}if(a.hScrollbar&&a.options.hideScrollbar){a.hScrollbarWrapper.style[vendor+"TransitionDelay"]="100ms";a.hScrollbarWrapper.style.opacity="0"}if(a.vScrollbar&&a.options.hideScrollbar){a.vScrollbarWrapper.style[vendor+"TransitionDelay"]="100ms";a.vScrollbarWrapper.style.opacity="0"}return}a.scrollTo(d,b,c||0)},scrollTo:function(a,j,h,g){var f=this,d=a,c,b;f.stop();if(!d.length){d=[{x:a,y:j,time:h,relative:g}]}for(c=0,b=d.length;c<b;c++){if(d[c].relative){d[c].x=f.x-d[c].x;d[c].y=f.y-d[c].y}f.steps.push({x:d[c].x,y:d[c].y,time:d[c].time||0})}f._startAni()},scrollToElement:function(a,f,d){if(!a){return}if(!f){f=1000}var b=this;pos=b._offset(a);pos.left+=b.wrapperOffsetLeft;pos.top+=b.wrapperOffsetTop;pos.left=pos.left>=b.minScrollX?b.minScrollX:pos.left<=b.maxScrollX?b.maxScrollX:pos.left;pos.top=pos.top>=b.minScrollY?b.minScrollY:pos.top<=b.maxScrollY?b.maxScrollY:pos.top;f=f===undefined?Math.max(Math.abs(pos.left)*2,Math.abs(pos.top)*2):f;if(this.scrollerH>this.wrapperH){if(((Math.abs(this.y)+this.wrapperH)<(a.offsetTop+a.offsetHeight))||(a.offsetTop<Math.abs(this.y))||$KU.isWindowsPhone){if($KU.isAndroid&&d&&pos.top!=b.maxScrollY){pos.top=b.y-d}b.scrollTo(0,pos.top,f)}setTimeout(function(){try{a.focus()}catch(g){}},f)}else{if($KU.isWindowsTablet){setTimeout(function(){try{a.focus()}catch(g){}},0)}else{try{a.focus()}catch(c){}}}},stop:function(){cancelFrame(this.aniTime);this.steps=[];this.moved=false;this.animating=false},_startAni:function(){var h=this,b=h.x,a=h.y,f=new Date().valueOf(),g,d;if(h.animating){return}if(!h.steps.length){h._resetPos(400);return}g=h.steps.shift();if(g.x==b&&g.y==a){g.time=0}h.animating=true;h.moved=true;(function c(){var i=new Date().valueOf(),k,j;if(i>=f+g.time){h.animateTo(g.x,g.y);h.animating=false;h._startAni();return}i=(i-f)/g.time-1;d=Math.sqrt(1-i*i);k=(g.x-b)*d+b;j=(g.y-a)*d+a;h.animateTo(k,j);if(h.animating){h.aniTime=nextFrame(c)}})()},_momentum:function(i,c,g,a,l){var j=($KU.isWindowsTouch?4:1);var h=0.0006,d=Math.abs(i)/c*j,b=(d*d)/(2*h),k=0,f=0;if(i>0&&b>g){f=l/(6/(b/d*h));g=g+f;d=d*g/b;b=g}else{if(i<0&&b>a){f=l/(6/(b/d*h));a=a+f;d=d*a/b;b=a}}b=b*(i<0?-1:1);k=d/h;return{dist:b,time:Math.round(k)}},_offset:function(a){var d=-a.offsetLeft,c=-a.offsetTop;try{while(a=a.offsetParent){d-=a.offsetLeft;c-=a.offsetTop}}catch(b){}return{left:d,top:c}},destroy:function(){this.hScrollbar=false;this.vScrollbar=false;this._scrollbar("h");this._scrollbar("v");if(this.scroller){if($KU.isTouchSupported){kony.events.removeEventListener(this.scroller,"touchstart",this,false);kony.events.removeEventListener(this.scroller,"touchcancel",this,false)}else{if($KU.isPointerSupported){if("onpointerdown" in window){kony.events.removeEventListener(this.scroller,"pointerdown",this,false);kony.events.removeEventListener(this.scroller,"pointercancel",this,false)}else{kony.events.removeEventListener(this.scroller,"MSPointerDown",this,false);kony.events.removeEventListener(this.scroller,"MSPointerCancel",this,false)}}else{kony.events.removeEventListener(this.scroller,"mousedown",this);kony.events.removeEventListener(this.scroller,"mouseout",this)}}}if($KU.isOrientationSupported){kony.events.removeEventListener(window,"orientationchange",this,false)}else{kony.events.removeEventListener(window,"resize",this)}if(this.options.checkDOMChanges){clearInterval(this.checkDOMTime)}var a=this.wrapper.getAttribute("kformname");if(!a&&!this.options.scrollbox){kony.events.removeEventListener(document,"touchmove",$KW.touch.preventDefault)}}};$KW.touch.StickyScroller=function(){var f=this;var a=document.forms;var c=a[0];if(a.length==2){c=a[1]}var g=c.id;var b=$KG.__currentForm.header;var d=$KG.__currentForm.footer;var h="konyappmenudiv";this.wrapper=document.getElementById(g);this.header=document.getElementById(b);this.footer=document.getElementById(d);this.appmenu=document.getElementById(h);if(this.appmenu&&this.footer){this.footer.style.bottom=this.appmenu.clientHeight+"px"}setTimeout(function(){f.follow()},0);kony.events.addEventListener(window,"scroll",this,false)};$KW.touch.StickyScroller.prototype={handleEvent:function(a){switch(a.type){case"scroll":this.follow(a);break}},follow:function(){var d=window.scrollX||document.documentElement.scrollLeft;var c=window.scrollY||document.documentElement.scrollTop;this.headerH=this.header?this.header.clientHeight:0;this.footerH=this.footer?this.footer.clientHeight:0;this.appmenuH=this.appmenu?this.appmenu.clientHeight:0;this.wrapper.style.top=-(this.footerH+this.appmenuH)+"px";if(this.header){var b=c;this.header.style[vendor+"Transform"]=translateOpen+d+"px,"+b+"px"+translateClose}if(this.footer){var f=(window.innerHeight||document.body.clientHeight)+c-(this.footerH)-(this.headerH);this.footer.style.bottom=this.y1+this.appmenuH+"px";this.footer.style[vendor+"Transform"]=translateOpen+d+"px,"+f+"px"+translateClose}if(this.appmenu){var a=(window.innerHeight||document.body.clientHeight)+c-(this.footerH)-(this.headerH)-(this.appmenuH);this.appmenu.style[vendor+"Transform"]=translateOpen+d+"px,"+a+"px"+translateClose}},destroy:function(){kony.events.removeEventListener(window,"scroll",this,false)}};$KW.touch.gesture=function(b,d,f,g){var c=(b?document.querySelectorAll("#"+b.pf+"_"+b.id):document);if(["Form","Form2"].contains(b.wType)){c=document.querySelector('div[id="'+b.id+'_scroller"]')}if(!b){b=$KG}if(!$KG.gestures){$KG.gestures={}}this.gestureIdentifier=(Math.round(new Date().valueOf()*Math.random()))+"";$KG.gestures[this.gestureIdentifier]={widgetModel:b,gestureType:d};this.widgetModel=b;this.gestureType=d;switch(this.gestureType){case 1:case 10:case 11:this.TAP=true;break;case 2:this.SWIPE=true;break;case 3:this.LONGPRESS=true;break}this.gestureObj=f;this.callback=g;this.fingers=f.fingers||1;this.taps=f.taps||1;this.longTapDelay=parseInt(f.pressDuration,10)*1000||1000;this.swipedistance=(f.swipedistance||50)*$KU.dpi;if(d==1){if(f.taps==1){b.gestures["10"]["instance"]=this}else{b.gestures["11"]["instance"]=this}}else{b.gestures[d]["instance"]=this}if(!c||(typeof c.length=="number"&&c.length==0)){return this.gestureIdentifier}if(typeof c.length!="number"){this.widget=[c]}else{this.widget=c}for(var a=0;a<this.widget.length;a++){if($KU.isPointerSupported){kony.events.addEventListener(this.widget[a],"MSPointerDown",this,false)}else{kony.events.addEventListener(this.widget[a],"touchstart",this,false)}}return this.gestureIdentifier};$KW.touch.gesture.prototype={removeGesture:function(c,d){clearTimeout(this.touchTimer);clearTimeout(this.longPressTimer);if(d!=false){this.widgetModel.gestures[c]=""}var b=this.widget;for(var a=0;b&&a<b.length;a++){if($KU.isPointerSupported){if("onpointerdown" in window){kony.events.removeEventListener(b[a],"pointerdown",this,false);kony.events.removeEventListener(b[a],"pointermove",this,false);kony.events.removeEventListener(b[a],"pointerup",this,false)}else{kony.events.removeEventListener(b[a],"MSPointerDown",this,false);kony.events.removeEventListener(b[a],"MSPointerMove",this,false);kony.events.removeEventListener(b[a],"MSPointerUp",this,false)}}else{kony.events.removeEventListener(b[a],"touchstart",this,false);kony.events.removeEventListener(b[a],"touchmove",this,false);kony.events.removeEventListener(b[a],"touchend",this,false)}}},handleEvent:function(a){switch(a.type){case"touchstart":case"MSPointerDown":case"pointerdown":this.onTouchStart(a);break;case"touchmove":case"MSPointerMove":case"pointermove":this.onTouchMove(a);break;case"touchend":case"MSPointerUp":case"pointerup":this.onTouchEnd(a);break;case"touchcancel":case"MSPointerCancel":case"pointercancel":this.onTouchCancel(a);break}},onTouchStart:function(c){var f=c.touches&&c.touches[0]||c;this.currentTouch=c;if($KU.isPointerSupported){if("onpointerdown" in window){kony.events.addEventListener(c.currentTarget,"pointermove",this,false);kony.events.addEventListener(c.currentTarget,"pointerup",this,false);kony.events.addEventListener(c.currentTarget,"pointercancel",this,false)}else{kony.events.addEventListener(c.currentTarget,"MSPointerMove",this,false);kony.events.addEventListener(c.currentTarget,"MSPointerUp",this,false);kony.events.addEventListener(c.currentTarget,"MSPointerCancel",this,false)}}else{kony.events.addEventListener(c.currentTarget,"touchmove",this,false);kony.events.addEventListener(c.currentTarget,"touchend",this,false);kony.events.addEventListener(c.currentTarget,"touchcancel",this,false)}this.x1=f.pageX;this.y1=f.pageY;var a=new Date().valueOf();var d=a-(this.doubleTimer||a);this.last=this.doubleTimer=a;if(d>0&&d<=250){this.isDoubleTap=true}else{this.isDoubleTap=false}this.touchTimer&&clearTimeout(this.touchTimer);this.curTarget=c.currentTarget;var b=this;this.LONGPRESS&&(this.longPressTimer=setTimeout(function(){b.onLongTap(b.curTarget)},this.longTapDelay))},onTouchMove:function(a){var b=a.touches&&a.touches[0]||a;this.x2=b.pageX;this.y2=b.pageY},onTouchEnd:function(h){var i=h.touches&&h.touches[0]||h;var g=this;this.currentTouch=h;if($KU.isPointerSupported){if("onpointerdown" in window){kony.events.removeEventListener(h.currentTarget,"pointermove",this,false);kony.events.removeEventListener(h.currentTarget,"pointerup",this,false);kony.events.removeEventListener(h.currentTarget,"pointercancel",this,false)}else{kony.events.removeEventListener(h.currentTarget,"MSPointerMove",this,false);kony.events.removeEventListener(h.currentTarget,"MSPointerUp",this,false);kony.events.removeEventListener(h.currentTarget,"MSPointerCancel",this,false)}}else{kony.events.removeEventListener(h.currentTarget,"touchmove",this,false);kony.events.removeEventListener(h.currentTarget,"touchend",this,false);kony.events.removeEventListener(h.currentTarget,"touchcancel",this,false)}if(this.isDoubleTap&&this.TAP&&this.taps==2){kony.print("DOUBLE TAP");this.executeCallback(h.currentTarget);delete this.doubleTimer}if(this.x2>0||this.y2>0){if(this.SWIPE){var d=this.x2-this.x1;var b=this.y2-this.y1;var c=Math.abs(d);var a=Math.abs(b);if(c>this.swipedistance||a>this.swipedistance){var f=$KU.getSwipeDirection(d,b);kony.print("SWIPE: "+f);this.executeCallback(h.currentTarget,f)}}this.x1=this.x2=this.y1=this.y2=0}else{if(this.last){if(this.TAP&&this.taps==1){this.touchTimer=setTimeout(function(){if($KG.gestures[g.gestureIdentifier]){kony.print("TAP");g.executeCallback(h.currentTarget)}},250)}}}this.last=0},onTouchCancel:function(){},onLongTap:function(a){if(this.last&&this.LONGPRESS){var b=new Date().valueOf()-this.last;if(b>=this.longTapDelay){if($KG.gestures[this.gestureIdentifier]){kony.print("LONGPRESS: "+this.longTapDelay+"ms");this.executeCallback(a)}}}},executeCallback:function(f,b){if(this.callback){var j={};var o=$KU.cloneObj(this.gestureObj);j.gestureType=this.gestureType;j.gesturesetUpParams=o;var k=$KW.Utils.getOffset(this.widget);var h=(this.currentTouch.touches&&this.currentTouch.touches[0])||this.currentTouch;j.gesturePosition=$KU.getgesturePosition(h.pageX,h.pageY,this.widget.clientWidth,this.widget.clientHeight,k.left,k.top);if(j.gestureType==2){j.swipeDirection=$KU.getIntegerDirection(b)}j.gestureX=this.x2||this.x1;j.gestureY=this.y2||this.y1;j.widgetWidth=this.widget.clientWidth;j.widgetHeight=this.widget.clientHeight;var g=this.widgetModel;if(f&&(f!==document)){var p=f.getAttribute("kcontainerid");var n="";if(p){n=f;while(n&&!(n.id.split("_")[1]===p)){n=n.parentNode}}var a={};if(n&&n.getAttribute("kwidgettype")==="Segment"){var i=$KU.getParentByTagName(f,"li");var d=$KU.getModelByNode(n);var c;a.widgetInfo=d;if(d.hasSections){var l=i.getAttribute("secindex").split(",");a.rowIndex=+l[1];a.sectionIndex=+l[0];rowdata=d.data[a.sectionIndex][IndexJL+1][a.rowIndex]}else{a.rowIndex=+i.getAttribute("index");a.sectionIndex=0;rowdata=d.data[a.rowIndex]}var m=rowdata&&rowdata[d.widgetdatamap[this.widgetModel.id]];g=$KU.extend({},this.widgetModel);if(m){g=$KU.extend(g,m)}}}var q=this.widgetModel.__currentForm;if(q){this.callback(q,j)}else{if(f){this.callback(g,j,a)}else{this.callback(this.widgetModel,j)}}}}};$KW.touch.events={};(function(){if("ontouchstart" in window){$KW.touch.events.touchstart="touchstart";$KW.touch.events.touchmove="touchmove";$KW.touch.events.touchend="touchend";$KW.touch.events.touchcancel="touchcancel"}else{$KW.touch.events.touchstart="mousedown";$KW.touch.events.touchmove="mousemove";$KW.touch.events.touchend="mouseup";$KW.touch.events.touchcancel="mouseout"}if(document.addEventListener){$KW.touch.events.eventListener="addEventListener"}else{$KW.touch.events.eventListener="attachEvent";$KW.touch.events.touchstart="mousedown";$KW.touch.events.touchmove="mousemove";$KW.touch.events.touchend="mouseup";$KW.touch.events.touchcancel="mouseout"}if(document.removeEventListener){$KW.touch.events.removeEventListener="removeEventListener"}else{$KW.touch.events.removeEventListener="detachEvent"}})();$KW.touch.Drag=function(c,f,d,b,a){this.widget=c;this.dragEvent=b;this.dragableElement=f;this.containerElement=d||document;this.moveElement=a||f;if(f){kony.events.addEventListener(f,$KW.touch.events.touchstart,this.handleEvent.bind(this))}};$KW.touch.Drag.prototype={addDrag:function(){if(this.dragableElement){kony.events.addEventListener(this.dragableElement,$KW.touch.events.touchstart,this.handleEvent.bind(this))}},removeDrag:function(){this.dragableElement[kony.widgets.touch.events.removeEventListener]($KW.touch.events.touchstart,this,false)},handleEvent:function(a){switch(a.type){case $KW.touch.events.touchstart:return this.onTouchStart(a);break;case $KW.touch.events.touchmove:return this.onTouchMove(a);break;case $KW.touch.events.touchend:return this.onTouchEnd(a);break;case $KW.touch.events.touchcancel:return this.onTouchCancel(a);break}},onTouchStart:function(a){var b=a.touches&&a.touches[0]||a;if(a.button==1&&window.event!=null||a.button==0){this.x1=b.pageX||b.clientX;this.y1=b.pageY||b.clientY;if(this.dragableElement.className=="resizearea"){this.offsetX=this.moveElement.offsetWidth;this.offsetY=this.moveElement.childNodes[0].children[1].clientHeight}else{this.dragableElement.style.cursor="move";this.offsetX=$KU.getInt(this.moveElement.offsetLeft);this.offsetY=$KU.getInt(this.moveElement.offsetTop)}this.handleEventListener=this.handleEvent.bind(this);kony.events.addEventListener(this.containerElement,$KW.touch.events.touchmove,this.handleEventListener);kony.events.addEventListener(this.containerElement,$KW.touch.events.touchend,this.handleEventListener);this.dragEvent(this,$KW.touch.events.touchstart);document.onselectstart=function(){return false};this.dragableElement.ondragstart=function(){return false}}return false},onTouchMove:function(d){var g=d.touches&&d.touches[0]||d;this.x2=g.pageX||g.clientX;this.y2=g.pageY||g.clientY;var b=this.offsetX+this.x2-this.x1;var c=this.offsetY+this.y2-this.y1;var a=(document.documentElement.clientHeight||window.innerHeight||document.body.clientHeight)-this.widget.clientHeight;var f=(document.documentElement.clientWidth||window.innerWidth||document.body.clientWidth)-this.widget.clientWidth;if(this.dragableElement.className=="resizearea"){this.moveElement.style.width=Math.max(b,150)+"px";this.moveElement.childNodes[0].children[1].style.height=Math.max(c,100)+"px"}else{if(b<0){this.moveElement.style.left="0px"}else{if(b>f){this.moveElement.style.left=f+"px"}else{this.moveElement.style.left=(this.offsetX+this.x2-this.x1)+"px"}}if(c<0){this.moveElement.style.top="0px"}else{if(c>a){this.moveElement.style.top=a+"px"}else{this.moveElement.style.top=(this.offsetY+this.y2-this.y1)+"px"}}}this.dragEvent(this,$KW.touch.events.touchmove)},onTouchEnd:function(a){var b=a.touches&&a.touches[0]||a;this.dragEvent(this,$KW.touch.events.touchend);document.onselectstart=null;this.dragableElement.ondragstart=null;this.removeEvents()},onTouchCancel:function(){this.dragEvent(this,$KW.touch.events.touchend);this.removeEvents()},removeEvents:function(){this.dragableElement.style.cursor="auto";kony.events.removeEventListener(this.containerElement,kony.widgets.touch.events.touchmove,this.handleEventListener);kony.events.removeEventListener(this.containerElement,kony.widgets.touch.events.touchend,this.handleEventListener)}};
constants={ALERT_TYPE_CONFIRMATION:"confirmation",ALERT_TYPE_ERROR:"error",ALERT_TYPE_INFO:"info",APPLICATION_MODE_NATIVE:1,APPLICATION_MODE_HYBRID:2,APPLICATION_MODE_WRAPPER:3,BOX_LAYOUT_HORIZONTAL:1,BOX_LAYOUT_VERTICAL:2,BOX_LAYOUT_ALIGN_FROM_LEFT:3,BOX_LAYOUT_ALIGN_FROM_CENTER:4,BOX_LAYOUT_ALIGN_FROM_RIGHT:5,BOX_POSITION_AS_HEADER:1,BOX_POSTION_AS_FOOTER:2,BOX_POSITION_AS_NORMAL:3,BOX_POSITION_AS_SCREENLEVEL_SEG_HEADER:4,BOX_POSITION_AS_SCREENLEVEL_SEG_FOOTER:5,CHECKBOX_ITEM_ORIENTATION_VERTICAL:"vertical",CHECKBOX_ITEM_ORIENTATION_HORIZONTAL:2,CHECKBOX_VIEW_TYPE_DEFAULTTVIEW:"defaultview",CHECKBOX_VIEW_TYPE_CUSTOMVIEW:"customview",CHECKBOX_VIEW_TYPE_LISTVIEW:0,CHECKBOX_VIEW_TYPE_TABLEVIEW:"tableview",CHECKBOX_VIEW_TYPE_TOGGLEVIEW:"toggleview",CHECKBOX_VIEW_TYPE_ONSCREENWHEEL:3,COMBOBOX_VIEW_TYPE_LISTVIEW:0,COMBOBOX_VIEW_TYPE_TABLEVIEW:"tableview",COMBOBOX_VIEW_TYPE_TOGGLEVIEW:"toggleview",COMBOBOX_VIEW_TYPE_ONSCREENWHEEL:3,CALENDAR_VIEW_TYPE_DEFAULT:"default",CALENDAR_VIEW_TYPE_GRID_POPUP:"popup",CALENDAR_VIEW_TYPE_GRID_ONSCREEN:"onscreen",CALENDAR_DATE_FORMAT_DEFAULT:"dd/MM/yyyy",DEVICE_ORIENTATION_PORTRAIT:1,DEVICE_ORIENTATION_LANDSCAPE:2,FORM_TYPE_STATIC:1,FORM_TYPE_DYNAMIC:2,FORM_TYPE_NATIVE:3,FORM_DISPLAY_ORIENTATION_PORTRAIT:1,FORM_DISPLAY_ORIENTATION_LANDSCAPE:2,FORM_DISPLAY_ORIENTATION_BOTH:3,FORM_DEVICE_ORIENTATION_PORTRAIT:1,FORM_DEVICE_ORIENTATION_LANDSCAPE:2,FORM_ADJUST_RESIZE:1,FORM_ADJUST_PAN:2,FORM_FORWARD_NAVIGATION:1,IMAGE_SCALE_MODE_FIT_TO_DIMENSIONS:0,IMAGE_SCALE_MODE_MAINTAIN_ASPECT_RATIO:"maintainaspectratio",IMAGE_SCALE_MODE_CROP:2,IMAGE_GLOSSY_EFFECT_DEFAULT:0,IMAGE_GLOSSY_EFFECT_RADIAL:1,IMAGE_GLOSSY_EFFECT_LINEAR:2,LOADING_SCREEN_POSITION_FULL_SCREEN:"fullscreen",LOADING_SCREEN_POSITION_ONLY_CENTER:"center",LISTBOX_VIEW_TYPE_LISTVIEW:0,LISTBOX_VIEW_TYPE_TABLEVIEW:1,LISTBOX_VIEW_TYPE_TOGGLEVIEW:2,LISTBOX_VIEW_TYPE_ONSCREENWHEEL:3,LISTBOX_VIEW_TYPE_SPINNER:4,MAP_PROVIDER_GOOGLE:"google",MAP_SOURCE_NON_NATIVE:"non-native",MAP_SOURCE_NATIVE:"native",MAP_SOURCE_STATIC:"static",MAP_VIEW_MODE_NORMAL:1,MAP_VIEW_MODE_SATELLITE:2,MAP_VIEW_MODE_HYBRID:3,MAP_VIEW_MODE_TERRAIN:7,MAP_VIEW_MODE_POLYGON:5,MAP_HEIGHT_BY_FORM_REFERENCE:1,MAP_HEIGHT_BY_PARENT_WIDTH:2,NETWORK_TYPE_ANY:"ANY",NETWORK_TYPE_ETHERNET:"ETHERNET",NETWORK_TYPE_WIFI:"WIFI",NETWORK_TYPE_3G:"3G",POPUP_TYPE_NATIVE:1,POPUP_TYPE_SPA:2,POPUP_TYPE_TC:3,RADIOGROUP_ITEM_ORIENTATION_VERTICAL:"vertical",RADIOGROUP_ITEM_ORIENTATION_HORIZONTAL:2,RADIOBUTTON_VIEW_TYPE_DEFAULTTVIEW:"defaultview",RADIOBUTTON_VIEW_TYPE_CUSTOMVIEW:"customview",SCROLLBOX_HEIGHT_BY_FORM_REFERENCE:1,SCROLLBOX_HEIGHT_BY_PARENT_WIDTH:2,SCROLLBOX_SCROLL_HORIZONTAL:1,SCROLLBOX_SCROLL_VERTICAL:2,SCROLLBOX_SCROLL_BOTH:3,SCROLLBOX_SCROLL_NONE:4,SEGUI_VIEW_TYPE_TABLEVIEW:"tableview",SEGUI_VIEW_TYPE_PAGEVIEW:"pageview",SEGUI_DEFAULT_BEHAVIOR:0,SEGUI_SINGLE_SELECT_BEHAVIOR:1,SEGUI_MULTI_SELECT_BEHAVIOR:2,TEXTBOX_INPUT_MODE_ANY:"A",TEXTBOX_INPUT_MODE_NUMERIC:"N",TEXTBOX_INPUT_MODE_PASSWORD:"P",TEXTBOX_KEY_BOARD_STYLE_DEFAULT:"A",TEXTBOX_KEY_BOARD_STYLE_EMAIL:"emailpad",TEXTBOX_KEY_BOARD_STYLE_URL:"urlpad",TEXTBOX_KEY_BOARD_STYLE_CHAT:"chatpad",TEXTBOX_KEY_BOARD_STYLE_DECIMAL:"number",TEXTBOX_KEY_BOARD_STYLE_NUMBER_PAD:"digitpad",TEXTBOX_KEY_BOARD_STYLE_PHONE_PAD:"telpad",TEXTBOX_VIEW_TYPE_DEFAULT:"default",TEXTBOX_VIEW_TYPE_SEARCH_VIEW:"search",TEXTBOX_AUTO_CAPITALIZE_NONE:"none",TEXTBOX_AUTO_CAPITALIZE_WORDS:"words",TEXTBOX_AUTO_CAPITALIZE_SENTENCES:"sentences",TEXTBOX_AUTO_CAPITALIZE_ALL:"characters",TEXBOX_DEFAULT_PLATFORM_HEIGHT:1,TEXTBOX_FONT_METRICS_DRIVEN_HEIGHT:2,TEXTBOX_CUSTOM_HEIGHT:3,CONTAINER_HEIGHT_BY_FORM_REFERENCE:1,CONTAINER_HEIGHT_BY_PARENT_WIDTH:2,TEXTAREA_INPUT_MODE_ANY:"A",TEXTAREA_INPUT_MODE_NUMERIC:"N",TEXTAREA_KEY_BOARD_STYLE_DEFAULT:"A",TEXTAREA_KEY_BOARD_STYLE_EMAIL:"emailpad",TEXTAREA_KEY_BOARD_STYLE_URL:"urlpad",TEXTAREA_KEY_BOARD_STYLE_CHAT:"chatpad",TEXTAREA_KEY_BOARD_STYLE_DECIMAL:"number",TEXTAREA_KEY_BOARD_STYLE_NUMBER_PAD:"number",TEXTAREA_KEY_BOARD_STYLE_PHONE_PAD:"telpad",TEXTAREA_AUTO_CAPITALIZE_NONE:"none",TEXTAREA_AUTO_CAPITALIZE_WORDS:"words",TEXTAREA_AUTO_CAPITALIZE_SENTENCES:"sentences",TEXTAREA_AUTO_CAPITALIZE_ALL:"characters",HORIZONTAL_IMAGESTRIP_VIEW_TYPE_STRIPVIEW:"stripview",HORIZONTAL_IMAGESTRIP_VIEW_TYPE_SLOTVIEW:"slotview",HORIZONTAL_IMAGESTRIP_VIEW_TYPE_PAGEVIEW:"pageview",WIDGET_ALIGN_TOP_LEFT:1,WIDGET_ALIGN_TOP_CENTER:2,WIDGET_ALIGN_TOP_RIGHT:3,WIDGET_ALIGN_MIDDLE_LEFT:4,WIDGET_ALIGN_CENTER:5,WIDGET_ALIGN_MIDDLE_RIGHT:6,WIDGET_ALIGN_BOTTOM_LEFT:7,WIDGET_ALIGN_BOTTOM_CENTER:8,WIDGET_ALIGN_BOTTOM_RIGHT:9,CONTENT_ALIGN_TOP_LEFT:1,CONTENT_ALIGN_TOP_CENTER:2,CONTENT_ALIGN_TOP_RIGHT:3,CONTENT_ALIGN_MIDDLE_LEFT:4,CONTENT_ALIGN_CENTER:5,CONTENT_ALIGN_MIDDLE_RIGHT:6,CONTENT_ALIGN_BOTTOM_LEFT:7,CONTENT_ALIGN_BOTTOM_CENTER:8,CONTENT_ALIGN_BOTTOM_RIGHT:9,BROWSER_REQUEST_METHOD_GET:"get",BROWSER_REQUEST_METHOD_POST:"post",TABPANE_VIEW_TYPE_TABVIEW:"tabview",TABPANE_VIEW_TYPE_COLLAPSIBLEVIEW:"collapsibleview",TABPANE_COLLAPSIBLE_IMAGE_POSITION_RIGHT:"right",TABPANE_COLLAPSIBLE_IMAGE_POSITION_LEFT:"left",TABPANE_COLLAPSIBLE_TABNAME_ALIGNMENT_RIGHT:"right",TABPANE_COLLAPSIBLE_TABNAME_ALIGNMENT_LEFT:"left",TABPANE_COLLAPSIBLE_TABNAME_ALIGNMENT_CENTER:"center",DATAGRID_COLUMN_TYPE_TEXT:"text",DATAGRID_COLUMN_TYPE_IMAGE:"image",DATAGRID_COLUMN_TYPE_TEMPLATE:"template",};
$KI.net={postdataparams:function(d){var b="",c;for(var a in d){if(d.hasOwnProperty(a)&&a!="httpheaders"){c=d[a];kony.print("postdataparams:key  = "+a+"  value  =  "+c);b+=a+"="+encodeURIComponent(c);b+="&"}}return b},HttpRequest:function(){var a=false,d=null,b=0,c=this,f=null,e=null;if(window.XMLHttpRequest){f=new XMLHttpRequest()}else{f=new ActiveXObject("Microsoft.XMLHTTP")}c.onReadyStateChange=null;c.readyState=undefined;c.response="";c.responseType="";c.status=null;c.statusText=null;c.timeout=0;f.onreadystatechange=function(){switch(f.readyState){case 0:!!c.onReadyStateChange&&c.onReadyStateChange();case 1:c.readyState=f.readyState;c.response="";!!c.onReadyStateChange&&c.onReadyStateChange();case 2:c.readyState=f.readyState;c.response="";!!c.onReadyStateChange&&c.onReadyStateChange();case 3:c.readyState=f.readyState;c.response="";!!c.onReadyStateChange&&c.onReadyStateChange();break;case 4:c.status=f.status;c.statusText="Request Completed";c.readyState=f.readyState;c.response=f.responseText;if(f.status===200){c.statusText+=": OK";clearTimeout(e)}if(f.status===400){c.statusText+=": Error";clearTimeout(e)}!!c.onReadyStateChange&&c.onReadyStateChange();break;default:throw new Error("Unknown Error : XMLHttpRequest Error")}};c.timeoutFunction=function(){c.abort();c.readyState=f.readyState;c.status=0;c.statusText="Request timed out";c.response="";!!c.onReadyStateChange&&c.onReadyStateChange()};c.open=function(j,h,i,k,g){if(!j&&j!=="GET"&&j!=="POST"){throw new Error("Syntax Error : Request Method is not defined");return}if(!h){throw new Error("Syntax Error : URL is not defined");return}i=((i===true)||(i===false))&&i||true;d=j;a=true;f.open(d,h,i,k,g)};c.send=function(g){if(a===false){throw new Error("InvalidStateError : 'send' called before 'open' ");return}if(b>1){throw new Error("InvalidStateError : 'send' called more than once ");return}b++;f.timeout=!!c.timeout&&c.timeout;e=setTimeout(c.timeoutFunction,c.timeout);f.send()};c.abort=function(){f.abort()};c.setRequestHeaders=function(h,g){if(a===false){throw new Error("InvalidStateError : 'setRequestHeaders' called before 'open' ");return}if(b>1){throw new Error("InvalidStateError : 'setRequestHeaders' called after 'send' ");return}f.setRequestHeader(h,g)};c.getResponseHeader=function(g){return !!f.getResponseHeader(g)&&f.getResponseHeader(g)||null};c.getAllResponseHeaders=function(){return !!f.getAllResponseHeaders()&&f.getAllResponseHeaders()||null}},sethttpheaders:function(c,f){var d=[],e,a=0;for(var b in f){if(f.hasOwnProperty(b)&&f[b]){e=f[b]?f[b]:"";d.push(b);kony.print("sethttpheaders: key: "+b+"value: "+e);c.setRequestHeader(b,e)}}return d},loadJSFile:function(d,c,g){var a=0;var f=30000;var b={type:"GET",url:d,timeout:f,paramstr:null,callback:g,info:""};kony.print("loadJSFile: options: "+b);return(function e(){function h(k){if(k){k()}}var j=false;var i=new XMLHttpRequest();i.open(b.type,b.url,c);i.onLoaded=function(){if(this.userCancelled){kony.print(" onLoaded: on Abort Mission");this.onAbort()}};i.onInteractive=function(){if(this.userCancelled){kony.print(" onInteractive: on Abort Mission");this.onAbort()}else{if(!this.firstByte){this.firstByte=true}}};i.onAbort=function(k){kony.print(" onInteractive: <- Abort Mission");if(this.userCancelled){this.userCancelled=false;this.ignoreCallback=true;rettable={opstatus:1,errcode:1022,errmsg:"Request cancelled by user"};kony.print(" onInteractive: Abort Mission Success")}kony.print(" onInteractive: -> Abort Mission")};i.onTimeout=function(){j=true;rettable={opstatus:1,errcode:1014,errmsg:"Request timed out"};kony.print("Request timed out.")};i.onreadystatechange=function(){switch(!this.ignoreCallback&&i.readyState){case 1:kony.print("onreadystatechange: ReadyState 1");i.onLoaded(i);break;case 2:kony.print("onreadystatechange: ReadyState 2");i.onInteractive(i);break;case 3:kony.print("onreadystatechange: ReadyState 3");i.onAbort(i);break;case 4:kony.print("onreadystatechange: ReadyState 4");if(!j){i.onComplete(i);i=null}break;default:kony.print("onreadystatechange: ReadyState Invalid: "+i.readyState)}};i.onComplete=function(l){window.clearTimeout(l.timeoutid);kony.print("status: "+l.status+"readystate: "+l.readyState+"res: "+l.response);this.firstByte=false;if(this.userCancelled){kony.print(" onComplete: on Abort Mission");this.onAbort();return}if(l.status==200){if(l.responseText&&l.responseText.length>0){rettable=l.responseText;var k=document.createElement("script");k.type="text/javascript";k.text=l.responseText;document.getElementsByTagName("head")[0].appendChild(k);if(b.callback){b.callback()}document.getElementsByTagName("head")[0].removeChild(k)}else{kony.print("errcode: 1013, No JS Code");rettable={opstatus:"1",errcode:"1013",errmsg:"Request returned no JS code"}}}else{if(l.status==0||(/5+/.test(l.status.toString())==true)){kony.print("errcode: 1012, Request Failed");rettable={opstatus:1,errcode:"1012",errmsg:"Request Failed"}}else{if(/4+/.test(l.status.toString())==true){kony.print("errcode: 1012, Request Failed");rettable={opstatus:1,errcode:"1015",errmsg:"Request Failed"}}else{if(l.responseText!=""){kony.print("Status != 200 but response exists");rettable=l.responseText}else{kony.print("Empty response received.")}}}}};i.timeoutid=setTimeout(i.onTimeout,b.timeout);i.setRequestHeader("Content-Type","application/x-www-form-urlencoded");if(typeof(headerobj)=="object"){b.httpheaders=$KI.net.sethttpheaders(i,headerobj)}i.send(b.paramstr);return i})()},invokeserviceasync:function(r,t,g,q,c,h){var n=0;var l=null;var s=h||60000;var u=window.location.protocol+"//"+window.location.host;var k="";var a="";var b=$KG.appmode;var f=$KI.props.getProperty(null,"appmiddlewarecontext")||((typeof appConfig!="undefined")&&appConfig&&appConfig.middlewareContext)||((typeof config!="undefined")&&config&&config.middlewarecontext)||"middleware";kony.print("invokeServiceAsync<- "+r);kony.print("middlewarecontext<- "+f);if(b==constants.APPLICATION_MODE_NATIVE){var p=r.indexOf(f);if(p!=-1){a=r.slice(0,p)}if($KG.skipproxy||($KI.net.checkOriginandPostOrigin(u,a)&&r)){k=u+"/"+f+"/MWServlet"}else{k=u+"/"+$KG.appid+"/spa";kony.print("using proxy: URL "+k);if(t){t._desturl=r}else{t={};t._desturl=r;kony.print("Without postdata "+r)}}t.rcid=$KG.rcid||""}var o=t&&t.httpheaders;var e=(t&&$KI.net.postdataparams(t))||"";kony.print("invokeServiceAsync: URL: "+r);kony.print("invokeServiceAsync: Args are: "+e);kony.print("middleware origin: "+a);kony.print("location origin: "+u);if(r.indexOf("/IST")!=-1||r.indexOf("/CMS")!=-1){k=r}if(b==constants.APPLICATION_MODE_HYBRID||b==constants.APPLICATION_MODE_WRAPPER){k=r;kony.print("!!!!!!!!!!appmode hybrid/wrapper: "+k)}var j=t&&t.httpconfig;if(j&&j.timeout&&!isNaN(j.timeout)){s=parseInt(j.timeout)*1000}var d={type:"POST",url:k,timeout:s,paramstr:e,callback:g,info:q||null};if(c&&typeof c!="undefined"&&"GET".toLowerCase()===c.toLowerCase()){d.type="GET";d.url=d.url+"?"+e}kony.print("invokeServiceAsync: options: "+d);kony.system.activity.increment();return(function m(){function i(B,y,z,A){if(y==300||y==400){kony.system.activity.decrement()}if(!kony.system.activity.hasActivity()){$KW.Utils.removeBlockUISkin();$KW.unLoadWidget()}if(B){B(y,z,A)}}var w=false;var v=new XMLHttpRequest();v.open(d.type,d.url,true);v.onLoaded=function(){if(this.userCancelled){kony.print(" onLoaded: on Abort Mission");this.onAbort()}else{i(d.callback,100,null)}};v.onInteractive=function(){if(this.userCancelled){kony.print(" onInteractive: on Abort Mission");this.onAbort()}else{if(!this.firstByte){this.firstByte=true;i(d.callback,200,null)}}};v.onAbort=function(y){kony.print(" onInteractive: <- Abort Mission");if(this.userCancelled){this.userCancelled=false;this.ignoreCallback=true;l={opstatus:1,errcode:1022,errmsg:"Request cancelled by user"};i(d.callback,300,l);kony.print(" onInteractive: Abort Mission Success")}kony.print(" onInteractive: -> Abort Mission")};v.onTimeout=function(){if(v.userCancelled){v.onAbort()}else{w=true;l={opstatus:1,errcode:1014,errmsg:"Request timed out"};i(d.callback,400,l)}};v.onreadystatechange=function(){switch(!this.ignoreCallback&&v.readyState){case 1:kony.print("onreadystatechange: ReadyState 1");v.onLoaded(v);break;case 2:kony.print("onreadystatechange: ReadyState 2");v.onInteractive(v);break;case 3:kony.print("onreadystatechange: ReadyState 3");v.onAbort(v);break;case 4:kony.print("onreadystatechange: ReadyState 4");if(!w){v.onComplete(v);v=null}break;default:kony.print("onreadystatechange: ReadyState Invalid: "+v.readyState)}};v.onComplete=function(y){window.clearTimeout(y.timeoutid);kony.print("status: "+y.status+"readystate: "+y.readyState+"res: "+y.response);this.firstByte=false;if(this.userCancelled){kony.print(" onComplete: on Abort Mission");this.onAbort();return}if(y.status==200){if(y.responseText&&y.responseText.length>0){l=y.responseText;if(IndexJL==1){l=$KU.convertjsontoluaobject(l)}else{l=JSON.parse(l)}}else{kony.print("errcode: 1013, Invalid JSON string");l={opstatus:"1",errcode:"1013",errmsg:"Middleware returned invalid JSON string"}}}else{if(y.status==0||y.status==12200||(/5+/.test(y.status.toString())==true)){kony.print("errcode: 1012, Request Failed");l={opstatus:1,errcode:"1012",errmsg:"Request Failed"}}else{if(/4+/.test(y.status.toString())==true){kony.print("errcode: 1012, Request Failed");l={opstatus:1,errcode:"1015",errmsg:"Request Failed"}}else{if(y.responseText!=""){kony.print("Status != 200 but response exists");l=y.responseText}else{kony.print("Empty response received.")}}}}i(d.callback,400,l,d.info)};v.timeoutid=setTimeout(v.onTimeout,d.timeout);if(typeof(o)=="object"){if(d.url.indexOf("/spa")>0){v.setRequestHeader("Content-Type","application/x-www-form-urlencoded");var x=o["Content-Type"];if(typeof x!="undefined"){delete o["Content-Type"]}}else{if(typeof o["Content-Type"]=="undefined"){o["Content-Type"]="application/x-www-form-urlencoded"}}d.httpheaders=$KI.net.sethttpheaders(v,o);if(d.httpheaders.length>0&&d.url.indexOf("/spa")>0){if(typeof x!="undefined"){d.httpheaders["Content-Type"]=x}d.paramstr=d.paramstr+"kCustomHeaders="+d.httpheaders}}if("POST".toLowerCase()===(d.type).toLowerCase()){v.send(d.paramstr)}else{v.send()}return v})();kony.print("invokeServiceAsync-> ")},invokeService:function(q,s,f,p,g){var l=0;var k=null;var r=g||60000;var u=window.location.protocol+"//"+window.location.host;var j="";var a="";var b=$KG.appmode;var e=$KI.props.getProperty(null,"appmiddlewarecontext")||((typeof appConfig!="undefined")&&appConfig&&appConfig.middlewareContext)||((typeof config!="undefined")&&config&&config.middlewarecontext)||"middleware";kony.print("invokeServiceAsync<- ");if(b==constants.APPLICATION_MODE_NATIVE){var n=q.indexOf(e);if(n!=-1){a=q.slice(0,n)}if($KG.skipproxy||($KI.net.checkOriginandPostOrigin(u,a)&&q)){j=u+"/"+e+"/MWServlet"}else{j=u+"/"+$KG.appid+"/spa";kony.print("using proxy: URL "+j);if(s){s._desturl=q}else{s={};s._desturl=q;kony.print("Without postdata "+q)}}s.rcid=$KG.rcid||""}var m=s&&s.httpheaders;var d=(s&&$KI.net.postdataparams(s))||"";if(q.indexOf("/IST")!=-1||q.indexOf("/CMS")!=-1){j=q}kony.print("invokeServiceAsync: URL: "+q);kony.print("invokeServiceAsync: Args are: "+d);kony.print("middleware origin: "+a);kony.print("location origin: "+u);if(b==constants.APPLICATION_MODE_HYBRID||b==constants.APPLICATION_MODE_WRAPPER){j=q;kony.print("!!!!!!!!!!appmode hybrid/wrapper: "+j)}var c={type:"POST",url:j,timeout:r,paramstr:d,callback:f,info:p||null};kony.system.activity.increment();var h=false;var t=new XMLHttpRequest();t.open(c.type,c.url,false);t.timeoutid=setTimeout(t.onTimeout,c.timeout);if(typeof(m)=="object"){if(c.url.indexOf("/spa")>0){t.setRequestHeader("Content-Type","application/x-www-form-urlencoded");var o=m["Content-Type"];if(typeof o!="undefined"){delete m["Content-Type"]}}else{if(typeof m["Content-Type"]=="undefined"){m["Content-Type"]="application/x-www-form-urlencoded"}}c.httpheaders=$KI.net.sethttpheaders(t,m);if(c.httpheaders.length>0&&c.url.indexOf("/spa")>0){if(typeof o!="undefined"){c.httpheaders["Content-Type"]=o}c.paramstr=c.paramstr+"kCustomHeaders="+c.httpheaders}}t.send(c.paramstr);window.clearTimeout(t.timeoutid);kony.print("status: "+t.status+"readystate: "+t.readyState+"res: "+t.response);if(t.status==200){if(t.responseText&&t.responseText.length>0){kony.print(" onComplete: JSON obj: "+t.responseText);k=t.responseText;if(IndexJL==1){k=$KU.convertjsontoluaobject(k)}else{k=JSON.parse(k)}kony.print(" onComplete: Lua obj: "+JSON.stringify(k))}else{kony.print("errcode: 1013, Invalid JSON string");k={opstatus:"1",errcode:"1013",errmsg:"Middleware returned invalid JSON string"}}}else{if(t.status==0||(/5+/.test(t.status.toString())==true)){kony.print("errcode: 1012, Request Failed");k={opstatus:1,errcode:"1012",errmsg:"Request Failed"}}else{if(/4+/.test(t.status.toString())==true){kony.print("errcode: 1012, Request Failed");k={opstatus:1,errcode:"1015",errmsg:"Request Failed"}}else{if(t.responseText!=""){kony.print("Status != 200 but response exists");k=t.responseText}else{kony.print("Empty response received.")}}}}$KW.Utils.removeBlockUISkin();$KW.unLoadWidget();return k},cancel:function(a){kony.print("networkcancel<- ");if(a){a.userCancelled=true;a.abort();kony.print("Request aborted on user request")}kony.print("networkcancel-> ")},checkOriginandPostOrigin:function(a,b){return a.replace(/([^=]*):(80|443){1}(.*)/,"$1$3")==b.replace(/([^=]*):(80|443){1}(.*)/,"$1$3")?true:false},isNetworkAvailable:function(a){if(!!a){if(a===constants.NETWORK_TYPE_ANY){if(typeof navigator.onLine!=="undefined"){return navigator.onLine}else{return false}}else{if(a===constants.NETWORK_TYPE_3G||a===constants.NETWORK_TYPE_WIFI||a===constants.NETWORK_TYPE_ETHERNET){return false}else{throw new Error("Invalid Network Type")}}}else{throw new Error("Invalid Network Type")}},setNetworkCallbacks:function(a){if(a&&a.statusChange){if(typeof window.ononline==="object"){window.addEventListener("online",function(){a.statusChange(navigator.onLine)},false)}if(typeof window.onoffline==="object"){window.addEventListener("offline",function(){a.statusChange(navigator.onLine)},false)}}else{throw new Error("Invalid Input : config is not of valid type")}},getActiveNetworkType:function(){if(typeof navigator.onLine==="undefined"){return constants.NETWORK_TYPE_ANY}else{if(navigator.onLine){return constants.NETWORK_TYPE_ANY}else{return null}}}};$KI.props={getProperty:function(b,a){if(typeof _konyAppProperties!="undefined"&&_konyAppProperties!=null&&a){return _konyAppProperties[a]||null}}};
$KI.db={changeversion:function(b,e,f,d,c,a){if(window.openDatabase){if(b){b.changeVersion(e,f,d,c,a)}}else{kony.print("Web Databases not supported")}},executesql:function(e,a,d,b,c){if(window.openDatabase){if(e){if(d&&d[0]===null){d=d.slice(1)}e.executeSql(a,d,b,c)}}else{kony.print("Web Databases not supported")}},opendatabase:function(d,b,h,f,a){var c=this.db||null;a=a||kony_dummyForDBCallback;try{if(window.openDatabase){if(!c){c=openDatabase(d,b,h,f,a);this.db=c}}else{kony.print("Web Databases not supported")}}catch(g){if(g==2){kony.print("opendatabase:Invalid database version.")}else{kony.print("opendatabase:Unknown error "+g+".")}return null}return c},readtransaction:function(b,d,c,a){if(window.openDatabase){if(b){b.readTransaction(d,c,a)}}else{kony.print("Web Databases not supported")}},sqlresultsetrowitem:function(c,a,b){if(window.openDatabase){if(b<a.rows.length){return a.rows.item(b)}else{return null}}else{kony.print("Web Databases not supported")}},transaction:function(b,d,c,a){if(window.openDatabase){if(b){b.transaction(d,c,a)}}else{kony.print("Web Databases not supported")}}};function kony_dummyForDBCallback(){};
if(typeof(localStorage)==="object"||kony.appinit.isIE7){$KI.ds={save:function(d,f,a){if(localStorage){try{localStorage.setItem(f,JSON.stringify(d))}catch(c){if(c.name=="QUOTA_EXCEEDED_ERR"){var b=0,g="";if(localStorage.length===0){b=707;g="Private Browsing is switched ON"}else{b=708;g="Data storage limit has exceeded"}return{errcode:b,errmsg:g}}}}else{kony.print("localStorage not supported")}},read:function(b){if(localStorage){var a=JSON.parse(localStorage.getItem(b)||"null");return a}else{kony.print("localStorage readitem failed");return null}},Delete:function(a){if(localStorage){localStorage.removeItem(a);return true}else{kony.print("localStorage delete failed");return false}}};$KI.localstorage={key:function(a){return(localStorage.key(a-IndexJL))},getitem:function(b){var a=JSON.parse(localStorage.getItem(b)||"null");return a},setitem:function(d,b){var a=d,f=b;if(typeof d=="object"){for(x in d){a=x}f=d[x]}try{localStorage.setItem(a,JSON.stringify(f))}catch(c){if(c.name=="QUOTA_EXCEEDED_ERR"){if(localStorage.length===0){console.warn("Private Browsing is switched ON")}else{console.warn("Data storage limit has exceeded")}}}},removeitem:function(a){localStorage.removeItem(a)},clear:function(){localStorage.clear()},length:function(){return localStorage.length}}}else{kony.print("localStorage not supported")};
$KW.Scroller={initializeFormScroller:function(b){var a=document.querySelectorAll("#"+b+"[kwidgettype='KFormScroller'] ,#"+b+" div[kwidgettype='KFormScroller']");a&&this.initialize(a,"Form")},initializeScrollBoxes:function(b){var a=document.querySelectorAll("#"+b+" div[kwidgettype='KScrollBox']");a&&this.initialize(a,"ScrollBox")},initialize:function(F,g){if($KG.stickyScroll){var l=new $KW.touch.StickyScroller();$KG[$KG.__currentForm+"_scroller"]=l;return}else{if($KG.nativeScroll&&g=="Form"){var j=document.forms;var e=j[0];if(j.length==2){e=j[1]}return}}for(var A=0;A<F.length;A++){var G=F[A].id;var c=G.substring(0,G.lastIndexOf("_"));var k=F[A];var y=document.getElementById(c);var o=k.getAttribute("widgetType");var h=k.getAttribute("swipeDirection");var E=y.getAttribute("kformname")||c;var D;E&&(D=$KG.allforms[E]);var f={};f.checkDOMChanges=true;if(h=="vertical"){f.vScroll=true;f.scrollbox=true}else{if(h=="horizontal"){f.hScroll=true;f.scrollbox=true}else{f.vScroll=true;f.hScroll=true;f.scrollbox=true}}if(o=="form"){$KW.Scroller.setHeight(c);f.vScrollbar=true;f.formid=c;f.scrollbox=false;f.bounce=D.scrollbounce!=undefined?D.scrollbounce:true}else{var q=$KU.getModelByNode(y);f.scrollbox=true;f.formid=q.pf;if(q.screenLevelWidget){var v=D.wType=="Popup"?D.enableScroll:true;var z=document.getElementById(f.formid+"_scroller");if(v&&z){k.style.height=z.offsetHeight+"px"}}f.bounce=q.scrollbounce!=undefined?q.scrollbounce:true;f.disableUserScroll=(q.scrolldirection==constants.SCROLLBOX_SCROLL_NONE);if(q.scrollbar=="arrows"){f.showImages=true;f.widgetID=q.id}else{if(q.scrollbar=="scrollbar"){if(q.autohidescrollbar===false){f.hideScrollbar=false}if(h=="horizontal"){f.hScrollbar=true}else{if(h=="vertical"){f.vScrollbar=true}else{if(h=="both"){f.hScrollbar=true;f.vScrollbar=true}}}}}var p=q.scrollingevents;if(p){var s,x,u,r;var t=0,d=0;var w="",m="",b="";var a="#"+q.pf+"_"+q.id+"_scroller ";s=document.querySelector(a+"#pullDown");s&&(t=s.offsetHeight);x=document.querySelector(a+"#pullUp");x&&(d=x.offsetHeight);!p.onpull&&(u=true);!p.onpush&&(r=true);w=function(){if(s&&s.className.match("loading")){s.className="";document.querySelector(a+".pullDownLabel").innerHTML="Pull down to refresh.."}else{if(x&&x.className.match("loading")){x.className="";document.querySelector(a+".pullUpLabel").innerHTML="Pull up to refresh.."}}};m=function(){if(s){if(((this.options.vScroll&&this.y>5)||(this.options.hScroll&&this.x>5))&&!s.className.match("flip")){s.className="flip";u=false;document.querySelector(a+".pullDownLabel").innerHTML="Release to refresh..";if(this.options.vScroll){this.minScrollY=0}else{this.minScrollX=0}}else{if(((this.options.vScroll&&this.y<5)||(this.options.hScroll&&this.x<5))&&s.className.match("flip")){s.className="";document.querySelector(a+".pullDownLabel").innerHTML="Pull down to refresh..";if(this.options.vScroll){this.minScrollY=-this.pullDownOffset}else{this.minScrollX=-this.pullDownOffset}}}}if(x){if(((this.options.vScroll&&this.y<(this.maxScrollY-5-this.pullUpOffset))||(this.options.hScroll&&this.x<(this.maxScrollX-5-this.pullUpOffset)))&&!x.className.match("flip")){x.className="flip";r=false;document.querySelector(a+".pullUpLabel").innerHTML="Release to refresh..";if(this.options.vScroll){this.maxScrollY-=this.pullUpOffset}else{this.maxScrollX-=this.pullUpOffset}}else{if(((this.options.vScroll&&this.y>(this.maxScrollY+5))||(this.options.hScroll&&this.x>(this.maxScrollX+5)))&&x.className.match("flip")){x.className="";document.querySelector(a+".pullUpLabel").innerHTML="Pull up to refresh..";this.maxScrollY=this.maxScrollY}}}};b=function(){if(((this.options.vScroll&&this.y>=this.minScrollY)||(this.options.hScroll&&this.x>=this.minScrollX))&&u){var i=$KU.getModelByScroller(this.wrapper.id);if(typeof i==="undefined"){return}console.log("On Reach beginning");var H=$KU.returnEventReference(i.scrollingevents.onreachingbeginning);H&&H.call(i,i)}if(s&&s.className.match("flip")){s.className="loading";document.querySelector(a+".pullDownLabel").innerHTML="Loading..";$KW.Scroller.pullAction.call(this,"DOWN")}if(((this.options.vScroll&&this.y<=this.maxScrollY)||(this.options.hScroll&&this.x<=this.maxScrollX))&&r){var i=$KU.getModelByScroller(this.wrapper.id);if(typeof i==="undefined"){return}console.log("On Reach end");var H=$KU.returnEventReference(i.scrollingevents.onreachingend);H&&H.call(i,i)}if(x&&x.className.match("flip")){x.className="loading";document.querySelector(a+".pullUpLabel").innerHTML="Loading..";$KW.Scroller.pullAction.call(this,"UP")}if(!u){u=true}if(!r){r=true}};$KU.extend(f,{topOffset:t,bottomOffset:d,onRefresh:w,onScrollMove:m,onScrollEnd:b})}}if(o=="vbox"){f.onBeforeScrollStart=$KW.Scroller.onBeforeScrollStartHandler()}if(D&&typeof(D.useTransform)=="boolean"){f.useTransform=D.useTransform}var C=document.querySelectorAll("#"+$KG.__currentForm.id+" select");if(C.length>0&&o=="form"){f.useTransform=false}var l=new $KW.touch.konyScroller(c+"_scroller",f);if(o=="form"){var B=$KG.allforms[c].header;var n=$KG.allforms[c].footer;$KG.allforms[c].scrollerTimer=setInterval(function(i){return function(){$KW.Scroller.checkDOMChanges(i+"_scroller",B,n)}}(c),1000)}if(h=="horizontal"||h=="both"){if(k.children[0].scrollWidth!=0){k.children[0].style.width=k.children[0].scrollWidth+"px";l.refresh()}}$KG[c+"_scroller"]=l}},destroyFormScroller:function(e){if($KG.stickyScroll){var d=$KG[e+"_scroller"];d&&d.destroy();$KG[e+"_scroller"]=""}var b=document.querySelectorAll("#"+e+"[kwidgettype='KFormScroller'] ,#"+e+" div[kwidgettype='KFormScroller']");for(var c=0;c<b.length;c++){var a=b[c].id;var d=$KG[a];d&&d.destroy();$KG[a]=""}},destroyScrollBoxes:function(e){var b=document.querySelectorAll("#"+e+" div[kwidgettype='KScrollBox']");for(var c=0;c<b.length;c++){var a=b[c].id;var d=$KG[a];d&&d.destroy()}},destroyImageStripStripViews:function(e){var a=document.querySelectorAll("#"+e+" div[name='ImageStrip_StripView']");for(var b=0;b<a.length;b++){var c=$KU.getModelByNode(a[b]);var d=c.scrollInstance;if(d){d.destroy();c.scrollInstance=null}}},initializePageViews:function(g){if($KG.disableTransition){return}var f=document.querySelectorAll("#"+g+" div[name='touchcontainer_HStrip'], #"+g+" div[name='touchcontainer_Segment']");for(var c=0;c<f.length;c++){var e=f[c];var d=$KU.getModelByNode(e);var a={};a.widgetModel=d;var b=new $KW.touch.pageviewScroller(e,a);$KG[e.id]=b}},destroyPageViews:function(e){var b=document.querySelectorAll("#"+e+" div[name='touchcontainer_HStrip'], #"+e+" div[name='touchcontainer_Segment']");for(var c=0;c<b.length;c++){var a=b[c].id;var d=$KG[a];d&&d.destroy()}},checkDOMChanges:function(f,n,j){var m=document.getElementById(n);var h=document.getElementById(j);var i=document.getElementById("konyappmenudiv");var k=$KG.allforms[f.split("_")[0]];if(m&&(this.headerH!=m.offsetHeight)&&k.dockableheader){var a=document.getElementById(f);var d=$KG[f];if(a&&d){this.headerH=m.offsetHeight;a.style.top=m.offsetHeight+"px";d.refresh();$KW.Scroller.setSLWHeight(k,a)}}if(h&&(this.footerH!=h.offsetHeight)&&k.dockablefooter){var a=document.getElementById(f);var d=$KG[f];if(a&&d){this.footerH=h.offsetHeight;a.style.bottom=h.offsetHeight+"px";d.refresh();$KW.Scroller.setSLWHeight(k,a)}}if(k.wType!="Popup"&&i&&(this.appmenuH!=i.offsetHeight)&&k.dockableappmenu){var a=document.getElementById(f);var d=$KG[f];if(a&&d){this.appmenuH=i.offsetHeight;a.style.bottom=i.offsetHeight+"px";d.refresh();$KW.Scroller.setSLWHeight(k,a)}}if(!$KG.relativeScroll&&$KU.isIOS7){if(!$KG.activeInput&&window.pageYOffset>0){window.scrollTo(0,0)}if($KG.__currentForm&&$KG.__orientation=="landscape"&&!$KG.activeInput){var e=$KU.getElementById($KG.__currentForm.id+"_container");if(e&&e.offsetHeight>window.innerHeight){e.style.height=window.innerHeight+"px";var d=$KG[f];d.refresh();$KW.ScrollBox.adjustBoxDimensions(f);var b=document.querySelector("div[class~='popupmain']");if(b){var c=b.id;b=b.children[1];var g=window[c.substr(0,c.indexOf("_"))];if(g&&g.wType=="Popup"){var l=window[d.options.formid];if(l){d=(l.wType=="Form")?$KG[g.id+"_scroller"]:$KG[$KG.__currentForm.id+"_scroller"];d&&d.refresh()}$KW.Popup.adjustPopupDimensions(g,b)}}var a=document.getElementById(f);if(a){$KW.Scroller.setSLWHeight(k,a,true)}}}}},setSLWHeight:function(c,f,d){var b=$KU.getScreenLevelWidgetModel(c);if(b){var a=$KU.getNodeByModel(b);if(a){if(b.wType=="Segment"){a=a.parentNode.parentNode}a.style.height=f.offsetHeight+"px";if(!$KG.relativeScroll&&$KU.isIOS7&&d){var e=$KG[a.id];e&&e.refresh()}}}},setHeight:function(d,c){var h;if(c){h=document.getElementById(d)}else{h=document.getElementById(d+"_scroller")}if(!h){return}this.headerH=0;this.footerH=0;this.appmenuH=0;var a=$KG.allforms[d];var b=a.header;var e=a.footer;var g="konyappmenudiv";if($KG.transitAll){header=$KU.getElementById(d+"_header");footer=$KU.getElementById(d+"_footer")}else{header=$KU.getElementById("header_container");footer=$KU.getElementById("footer_container")}var f=document.getElementById(g);if(header&&a.dockableheader){this.headerH=header.offsetHeight}if(a.wType!="Popup"&&f&&a.dockableappmenu){this.appmenuH=f.offsetHeight}if(footer&&a.dockablefooter){this.footerH=footer.offsetHeight;footer.style.bottom=this.appmenuH+"px"}h.style.top=this.headerH+"px";h.style.bottom=this.footerH+this.appmenuH+"px";$KW.Scroller.setSLWHeight(a,h);c&&(h.style.paddingBottom=this.footerH+this.appmenuH+"px")},onBeforeScrollStartHandler:function(){return function(a){kony.events.stopPropagation(a)}},pullAction:function(a){var b=this;b.refreshDisabled=true;setTimeout(function(){var c=$KU.getModelByScroller(b.wrapper.id);if(typeof c==="undefined"){return}if(c.scrollingevents){var d;if(a=="UP"){console.log("On Push");d=$KU.returnEventReference(c.scrollingevents.onpush)}else{d=$KU.returnEventReference(c.scrollingevents.onpull);console.log("On Pull")}d&&d.call(c,c);b.refreshDisabled=false}b.refresh()},500)}};
$KI.themes={relativePath:true,setcurrenttheme:function(o,g,p){if(!($KU.inArray($KG.themes,o,true))){p();return}if(o==$KI.themes.getcurrenttheme()){g();return}try{var d=window.document.styleSheets;var c=$KW.Utils.getKonyStyleSheetIndex(d);var l="";var a="";if(c==-1&&$KG[$KG.theme+"remoteurl"]&&$KG.lastStyleSheet){l=$KG.lastStyleSheet.lastIndexOf("/");if($KG.theme&&$KG.theme!="default"){var q=$KG.lastStyleSheet.substring(0,l);if(q.indexOf($KG.theme)){l=q.lastIndexOf("/")}}a=$KG.lastStyleSheet}else{l=d[c].href.lastIndexOf("/");a=d[c].href}var b="";if(this.relativePath||this.relativePath===undefined){this.relativePath=false;var k=a.substring(0,l+1);$KG.relativepath=k;b=a.substring(a.lastIndexOf("/"),a.length);$KG.themerelcssfile=b}b=$KG.themerelcssfile;var n=document.createElement("link");n.type="text/css";n.rel="stylesheet";var r=document.getElementsByTagName("head");var m=new XMLHttpRequest();if($KG.relativepath){k=$KG.relativepath}var f=$KG.imagecat;var j=k+(o=="default"?"":o)+b;var h=$KG.theme;if($KG[h+"remoteurl"]){b=$KG[h+"remoteurl"]}$KG[o+"remoteurl"]&&(j=$KG[o+"remoteurl"]);m.open("GET",j,true);m.timeout=60000;m.onreadystatechange=function(){if(this.readyState==4){if(this.status==200){for(var s=0;s<r[0].childNodes.length;s++){if(r[0].childNodes[s].nodeName=="LINK"){if(r[0].childNodes[s].getAttribute("href").indexOf(b)!=-1){$KG.lastStyleSheet=r[0].childNodes[s].href;var t=r[0].childNodes[s].getAttribute("media")||"screen";var e=document.createElement("link");e.rel="stylesheet";e.type="text/css";e.href=j;e.media=t;r[0].replaceChild(e,r[0].childNodes[s]);break}}}$KG.theme=o;g();m=null}else{p()}}};m.ontimeout=function(){p()};m.send(null)}catch(i){p()}},deletetheme:function(f,j,b){var a=$KG.themes;var h=a.length;var g=a.length;try{for(var c=0;c<a.length;c++){if(a[c]==f){a.splice(c,1)}}$KG.themes=a;if($KG.theme==f){$KI.themes.setcurrenttheme("default",j,b);return}g=a.length;if(h-1==g){j()}else{b()}}catch(d){b()}},isthemepresent:function(a){return $KU.inArray($KG.themes,a,true)},createtheme:function(d,h,g,c){if(($KU.inArray($KG.themes,h,true))){g();return}try{var f=new XMLHttpRequest();var b=d;f.open("GET",b,true);f.timeout=60000;var a=document.getElementsByTagName("head");$KG[h+"remoteurl"]=d;f.onreadystatechange=function(){if(this.readyState==4){if(this.status==200){$KG.themes.push(h);g();f=null}else{c()}}};f.ontimeout=function(){c()};f.send(null)}catch(i){c()}},allthemes:function(){return $KG.themes},getcurrentthemedata:function(){return true},getcurrenttheme:function(){return $KG.theme},packagedthemes:function(c){var a=[];if(IndexJL==1){a.push(null)}for(var b=IndexJL;b<(c.length);b++){a.push(c[b])}$KG.themes=a;$KG.theme="default"}};
$KI.crypto={stringify:function(a){var b={ct:a.ciphertext.toString(CryptoJS.enc.Base64)};if(a.iv){b.iv=a.iv.toString()}if(a.salt){b.s=a.salt.toString()}return JSON.stringify(b)},parse:function(a){var c=JSON.parse(a);var b=CryptoJS.lib.CipherParams.create({ciphertext:CryptoJS.enc.Base64.parse(c.ct)});if(c.iv){b.iv=CryptoJS.enc.Hex.parse(c.iv)}if(c.s){b.salt=CryptoJS.enc.Hex.parse(c.s)}return b},createhash:function(a,b){var e;var d;if(typeof(b)!="string"){return{errcode:100,errmessage:"invalid input parameters"}}try{switch(a.toLowerCase()){case"md5":e=CryptoJS.MD5(b);break;case"sha256":e=CryptoJS.SHA256(b);break;case"sha1":e=CryptoJS.SHA1(b);break;case"sha512":e=CryptoJS.SHA512(b);break;default:e={errcode:101,errmessage:"unsupported algorithm"};break}return e}catch(c){return{errcode:102,errmessage:"unknown  error"}}},encrypt:function(g,f,a,c){if(typeof(g)!="string"&&a&&f){return{errcode:100,errmessage:"invalid input parameters"}}var e=CryptoJS.mode.CBC;var d=CryptoJS.pad.Pkcs7;try{if(c){if(c.mode){switch(c.mode.toLowerCase()){case"cfb":e=CryptoJS.mode.CFB;break;case"ctr":e=CryptoJS.mode.CTR;break;case"ofb":e=CryptoJS.mode.OFB;break;case"ecb":e=CryptoJS.mode.ECB;break}}if(c.padding){switch(c.padding.toLowerCase()){case"iso97971":d=CryptoJS.pad.Iso97971;break;case"iso10126":d=CryptoJS.pad.Iso10126;break;case"zeropadding":d=CryptoJS.pad.ZeroPadding;break;case"nopadding":d=CryptoJS.pad.NoPadding;break}}}if(g.toLowerCase()=="aes"){var h=CryptoJS.AES.encrypt(a,f,{mode:e,padding:d});return $KI.crypto.stringify(h)}else{if(g.toLowerCase()=="tripledes"){var h=CryptoJS.TripleDES.encrypt(a,f,{mode:e,padding:d,format:$KI.crypto.JsonFormatter});return $KI.crypto.stringify(h)}else{return{errcode:101,errmessage:"unsupported algorithm"}}}}catch(b){return{errcode:102,errmessage:"unknown  error"}}},decrypt:function(h,g,a,c){if(typeof(h)!="string"&&a&&g){return{errcode:100,errmessage:"invalid input parameters"}}var f=CryptoJS.mode.CBC;var e=CryptoJS.pad.Pkcs7;try{if(c){if(c.mode){switch(c.mode.toLowerCase()){case"cfb":f=CryptoJS.mode.CFB;break;case"ctr":f=CryptoJS.mode.CTR;break;case"ofb":f=CryptoJS.mode.OFB;break;case"ecb":f=CryptoJS.mode.ECB;break}}if(c.padding){switch(c.padding.toLowerCase()){case"iso97971":e=CryptoJS.pad.Iso97971;break;case"iso10126":e=CryptoJS.pad.Iso10126;break;case"zeropadding":e=CryptoJS.pad.ZeroPadding;break;case"nopadding":e=CryptoJS.pad.NoPadding;break}}}a=$KI.crypto.parse(a);if(h.toLowerCase()=="aes"){var d=CryptoJS.AES.decrypt(a,g,{mode:f,padding:e});return d.toString(CryptoJS.enc.Utf8)}else{if(h.toLowerCase()=="tripledes"){var d=CryptoJS.TripleDES.decrypt(a,g,{mode:f,padding:e});return d.toString(CryptoJS.enc.Utf8)}else{return{errcode:101,errmessage:"unsupported algorithm"}}}}catch(b){return{errcode:102,errmessage:"unknown  error"}}},retrievepublickey:function(){return},newkey:function(d,c,b){try{if(d!="passphrase"){return{errcode:100,errmessage:"invalid input parameters"}}else{if(!b.subalgo){return{errcode:105,errmessage:"subalgo parameter is missing"}}}if(b.subalgo.toLowerCase()=="aes"||b.subalgo.toLowerCase()=="tripledes"){return b.passphrasetext[IndexJL]}else{return{errcode:101,errmessage:"unsupported algorithm"}}}catch(a){return{errcode:102,errmessage:"unknown error"}}},savekey:function(a,b,c){if(a==undefined||b==undefined){return{errcode:100,errmsg:"Invalid input parameters"}}if(localStorage){try{localStorage.setItem(a,JSON.stringify(b));return a}catch(f){if(f.name=="QUOTA_EXCEEDED_ERR"){var d=0,g="";if(localStorage.length===0){d=102;g="Private Browsing is switched ON"}else{d=101;g="unable to save the key with the specified name"}return{errcode:d,errmsg:g}}}}else{return{errcode:102,errmsg:"unknown error, storage not supported"}}},readkey:function(b){if(b==undefined){return{errcode:100,errmsg:"Invalid input parameters"}}if(localStorage){var a=JSON.parse(localStorage.getItem(b)||"null");if(a==null){return{errcode:101,errmsg:"unable to find the key with the specified unique ID"}}else{return a}}else{kony.print("crypto readkey failed");return{errcode:102,errmsg:"unknown error, storage not supported"}}},deletekey:function(a){if(localStorage){localStorage.removeItem(a)}else{kony.print("crypto delete failed")}}};
var CryptoJS=CryptoJS||function(l,r){var s={},g=s.lib={},m=g.Base=function(){function a(){}return{extend:function(c){a.prototype=this;var b=new a;c&&b.mixIn(c);b.$super=this;return b},create:function(){var b=this.extend();b.init.apply(b,arguments);return b},init:function(){},mixIn:function(c){for(var b in c){c.hasOwnProperty(b)&&(this[b]=c[b])}c.hasOwnProperty("toString")&&(this.toString=c.toString)},clone:function(){return this.$super.extend(this)}}}(),k=g.WordArray=m.extend({init:function(b,a){b=this.words=b||[];this.sigBytes=a!=r?a:4*b.length},toString:function(a){return(a||n).stringify(this)},concat:function(d){var c=this.words,a=d.words,e=this.sigBytes,d=d.sigBytes;this.clamp();if(e%4){for(var b=0;b<d;b++){c[e+b>>>2]|=(a[b>>>2]>>>24-8*(b%4)&255)<<24-8*((e+b)%4)}}else{if(65535<a.length){for(b=0;b<d;b+=4){c[e+b>>>2]=a[b>>>2]}}else{c.push.apply(c,a)}}this.sigBytes+=d;return this},clamp:function(){var b=this.words,a=this.sigBytes;b[a>>>2]&=4294967295<<32-8*(a%4);b.length=l.ceil(a/4)},clone:function(){var a=m.clone.call(this);a.words=this.words.slice(0);return a},random:function(c){for(var b=[],a=0;a<c;a+=4){b.push(4294967296*l.random()|0)}return k.create(b,c)}}),h=s.enc={},n=h.Hex={stringify:function(d){for(var c=d.words,d=d.sigBytes,a=[],e=0;e<d;e++){var b=c[e>>>2]>>>24-8*(e%4)&255;a.push((b>>>4).toString(16));a.push((b&15).toString(16))}return a.join("")},parse:function(c){for(var b=c.length,a=[],d=0;d<b;d+=2){a[d>>>3]|=parseInt(c.substr(d,2),16)<<24-4*(d%8)}return k.create(a,b/2)}},i=h.Latin1={stringify:function(c){for(var b=c.words,c=c.sigBytes,a=[],d=0;d<c;d++){a.push(String.fromCharCode(b[d>>>2]>>>24-8*(d%4)&255))}return a.join("")},parse:function(c){for(var b=c.length,a=[],d=0;d<b;d++){a[d>>>2]|=(c.charCodeAt(d)&255)<<24-8*(d%4)}return k.create(a,b)}},f=h.Utf8={stringify:function(b){try{return decodeURIComponent(escape(i.stringify(b)))}catch(a){throw Error("Malformed UTF-8 data")}},parse:function(a){return i.parse(unescape(encodeURIComponent(a)))}},o=g.BufferedBlockAlgorithm=m.extend({reset:function(){this._data=k.create();this._nDataBytes=0},_append:function(a){"string"==typeof a&&(a=f.parse(a));this._data.concat(a);this._nDataBytes+=a.sigBytes},_process:function(j){var c=this._data,a=c.words,q=c.sigBytes,b=this.blockSize,d=q/(4*b),d=j?l.ceil(d):l.max((d|0)-this._minBufferSize,0),j=d*b,q=l.min(4*j,q);if(j){for(var e=0;e<j;e+=b){this._doProcessBlock(a,e)}e=a.splice(0,j);c.sigBytes-=q}return k.create(e,q)},clone:function(){var a=m.clone.call(this);a._data=this._data.clone();return a},_minBufferSize:0});g.Hasher=o.extend({init:function(){this.reset()},reset:function(){o.reset.call(this);this._doReset()},update:function(a){this._append(a);this._process();return this},finalize:function(a){a&&this._append(a);this._doFinalize();return this._hash},clone:function(){var a=o.clone.call(this);a._hash=this._hash.clone();return a},blockSize:16,_createHelper:function(a){return function(c,b){return a.create(b).finalize(c)}},_createHmacHelper:function(a){return function(c,b){return p.HMAC.create(a,b).finalize(c)}}});var p=s.algo={};return s}(Math);(function(){var c=CryptoJS,d=c.lib.WordArray;c.enc.Base64={stringify:function(l){var m=l.words,h=l.sigBytes,b=this._map;l.clamp();for(var l=[],n=0;n<h;n+=3){for(var i=(m[n>>>2]>>>24-8*(n%4)&255)<<16|(m[n+1>>>2]>>>24-8*((n+1)%4)&255)<<8|m[n+2>>>2]>>>24-8*((n+2)%4)&255,a=0;4>a&&n+0.75*a<h;a++){l.push(b.charAt(i>>>6*(3-a)&63))}}if(m=b.charAt(64)){for(;l.length%4;){l.push(m)}}return l.join("")},parse:function(k){var k=k.replace(/\s/g,""),n=k.length,b=this._map,a=b.charAt(64);a&&(a=k.indexOf(a),-1!=a&&(n=a));for(var a=[],o=0,i=0;i<n;i++){if(i%4){var m=b.indexOf(k.charAt(i-1))<<2*(i%4),l=b.indexOf(k.charAt(i))>>>6-2*(i%4);a[o>>>2]|=(m|l)<<24-8*(o%4);o++}}return d.create(a,o)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}})();(function(p){function h(b,c,d,a,f,e,g){b=b+(c&d|~c&a)+f+g;return(b<<e|b>>>32-e)+c}function i(b,c,d,a,f,e,g){b=b+(c&a|d&~a)+f+g;return(b<<e|b>>>32-e)+c}function l(b,c,d,a,f,e,g){b=b+(c^d^a)+f+g;return(b<<e|b>>>32-e)+c}function r(b,c,d,a,f,e,g){b=b+(d^(c|~a))+f+g;return(b<<e|b>>>32-e)+c}var o=CryptoJS,m=o.lib,s=m.WordArray,m=m.Hasher,n=o.algo,k=[];(function(){for(var a=0;64>a;a++){k[a]=4294967296*p.abs(p.sin(a+1))|0}})();n=n.MD5=m.extend({_doReset:function(){this._hash=s.create([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(a,c){for(var d=0;16>d;d++){var j=c+d,f=a[j];a[j]=(f<<8|f>>>24)&16711935|(f<<24|f>>>8)&4278255360}for(var j=this._hash.words,f=j[0],e=j[1],g=j[2],b=j[3],d=0;64>d;d+=4){16>d?(f=h(f,e,g,b,a[c+d],7,k[d]),b=h(b,f,e,g,a[c+d+1],12,k[d+1]),g=h(g,b,f,e,a[c+d+2],17,k[d+2]),e=h(e,g,b,f,a[c+d+3],22,k[d+3])):32>d?(f=i(f,e,g,b,a[c+(d+1)%16],5,k[d]),b=i(b,f,e,g,a[c+(d+6)%16],9,k[d+1]),g=i(g,b,f,e,a[c+(d+11)%16],14,k[d+2]),e=i(e,g,b,f,a[c+d%16],20,k[d+3])):48>d?(f=l(f,e,g,b,a[c+(3*d+5)%16],4,k[d]),b=l(b,f,e,g,a[c+(3*d+8)%16],11,k[d+1]),g=l(g,b,f,e,a[c+(3*d+11)%16],16,k[d+2]),e=l(e,g,b,f,a[c+(3*d+14)%16],23,k[d+3])):(f=r(f,e,g,b,a[c+3*d%16],6,k[d]),b=r(b,f,e,g,a[c+(3*d+7)%16],10,k[d+1]),g=r(g,b,f,e,a[c+(3*d+14)%16],15,k[d+2]),e=r(e,g,b,f,a[c+(3*d+5)%16],21,k[d+3]))}j[0]=j[0]+f|0;j[1]=j[1]+e|0;j[2]=j[2]+g|0;j[3]=j[3]+b|0},_doFinalize:function(){var b=this._data,c=b.words,d=8*this._nDataBytes,a=8*b.sigBytes;c[a>>>5]|=128<<24-a%32;c[(a+64>>>9<<4)+14]=(d<<8|d>>>24)&16711935|(d<<24|d>>>8)&4278255360;b.sigBytes=4*(c.length+1);this._process();b=this._hash.words;for(c=0;4>c;c++){d=b[c],b[c]=(d<<8|d>>>24)&16711935|(d<<24|d>>>8)&4278255360}}});o.MD5=m._createHelper(n);o.HmacMD5=m._createHmacHelper(n)})(Math);(function(){var h=CryptoJS,j=h.lib,f=j.Base,g=j.WordArray,j=h.algo,i=j.EvpKDF=f.extend({cfg:f.extend({keySize:4,hasher:j.MD5,iterations:1}),init:function(a){this.cfg=this.cfg.extend(a)},compute:function(c,e){for(var b=this.cfg,k=b.hasher.create(),d=g.create(),v=d.words,a=b.keySize,b=b.iterations;v.length<a;){m&&k.update(m);var m=k.update(c).finalize(e);k.reset();for(var n=1;n<b;n++){m=k.finalize(m),k.reset()}d.concat(m)}d.sigBytes=4*a;return d}});h.EvpKDF=function(b,c,a){return i.create(a).compute(b,c)}})();CryptoJS.lib.Cipher||function(i){var n=CryptoJS,o=n.lib,r=o.Base,m=o.WordArray,h=o.BufferedBlockAlgorithm,s=n.enc.Base64,a=n.algo.EvpKDF,e=o.Cipher=h.extend({cfg:r.extend(),createEncryptor:function(b,d){return this.create(this._ENC_XFORM_MODE,b,d)},createDecryptor:function(b,d){return this.create(this._DEC_XFORM_MODE,b,d)},init:function(j,b,d){this.cfg=this.cfg.extend(d);this._xformMode=j;this._key=b;this.reset()},reset:function(){h.reset.call(this);this._doReset()},process:function(b){this._append(b);return this._process()},finalize:function(b){b&&this._append(b);return this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){return function(b){return{encrypt:function(q,d,j){return("string"==typeof d?f:g).encrypt(b,q,d,j)},decrypt:function(q,d,j){return("string"==typeof d?f:g).decrypt(b,q,d,j)}}}}()});o.StreamCipher=e.extend({_doFinalize:function(){return this._process(!0)},blockSize:1});var p=n.mode={},k=o.BlockCipherMode=r.extend({createEncryptor:function(d,b){return this.Encryptor.create(d,b)},createDecryptor:function(d,b){return this.Decryptor.create(d,b)},init:function(d,b){this._cipher=d;this._iv=b}}),p=p.CBC=function(){function d(v,u,q){var j=this._iv;j?this._iv=i:j=this._prevBlock;for(var t=0;t<q;t++){v[u+t]^=j[t]}}var b=k.extend();b.Encryptor=b.extend({processBlock:function(u,q){var j=this._cipher,t=j.blockSize;d.call(this,u,q,t);j.encryptBlock(u,q);this._prevBlock=u.slice(q,q+t)}});b.Decryptor=b.extend({processBlock:function(v,q){var j=this._cipher,t=j.blockSize,u=v.slice(q,q+t);j.decryptBlock(v,q);d.call(this,v,q,t);this._prevBlock=u}});return b}(),l=(n.pad={}).Pkcs7={pad:function(t,q){for(var u=4*q,u=u-t.sigBytes%u,b=u<<24|u<<16|u<<8|u,d=[],j=0;j<u;j+=4){d.push(b)}u=m.create(d,u);t.concat(u)},unpad:function(b){b.sigBytes-=b.words[b.sigBytes-1>>>2]&255}};o.BlockCipher=e.extend({cfg:e.cfg.extend({mode:p,padding:l}),reset:function(){e.reset.call(this);var j=this.cfg,d=j.iv,j=j.mode;if(this._xformMode==this._ENC_XFORM_MODE){var b=j.createEncryptor}else{b=j.createDecryptor,this._minBufferSize=1}this._mode=b.call(j,this,d&&d.words)},_doProcessBlock:function(d,b){this._mode.processBlock(d,b)},_doFinalize:function(){var d=this.cfg.padding;if(this._xformMode==this._ENC_XFORM_MODE){d.pad(this._data,this.blockSize);var b=this._process(!0)}else{b=this._process(!0),d.unpad(b)}return b},blockSize:4});var c=o.CipherParams=r.extend({init:function(b){this.mixIn(b)},toString:function(b){return(b||this.formatter).stringify(this)}}),p=(n.format={}).OpenSSL={stringify:function(d){var b=d.ciphertext,d=d.salt,b=(d?m.create([1398893684,1701076831]).concat(d).concat(b):b).toString(s);return b=b.replace(/(.{64})/g,"$1\n")},parse:function(b){var b=s.parse(b),j=b.words;if(1398893684==j[0]&&1701076831==j[1]){var d=m.create(j.slice(2,4));j.splice(0,4);b.sigBytes-=16}return c.create({ciphertext:b,salt:d})}},g=o.SerializableCipher=r.extend({cfg:r.extend({format:p}),encrypt:function(b,j,d,q){var q=this.cfg.extend(q),t=b.createEncryptor(d,q),j=t.finalize(j),t=t.cfg;return c.create({ciphertext:j,key:d,iv:t.iv,algorithm:b,mode:t.mode,padding:t.padding,blockSize:b.blockSize,formatter:q.format})},decrypt:function(q,b,d,j){j=this.cfg.extend(j);b=this._parse(b,j.format);return q.createDecryptor(d,j).finalize(b.ciphertext)},_parse:function(d,b){return"string"==typeof d?b.parse(d):d}}),n=(n.kdf={}).OpenSSL={compute:function(b,d,j,q){q||(q=m.random(8));b=a.create({keySize:d+j}).compute(b,q);j=m.create(b.words.slice(d),4*j);b.sigBytes=4*d;return c.create({key:b,iv:j,salt:q})}},f=o.PasswordBasedCipher=g.extend({cfg:g.cfg.extend({kdf:n}),encrypt:function(q,b,d,j){j=this.cfg.extend(j);d=j.kdf.compute(d,q.keySize,q.ivSize);j.iv=d.iv;q=g.encrypt.call(this,q,b,d.key,j);q.mixIn(d);return q},decrypt:function(q,b,d,j){j=this.cfg.extend(j);b=this._parse(b,j.format);d=j.kdf.compute(d,q.keySize,q.ivSize,b.salt);j.iv=d.iv;return g.decrypt.call(this,q,b,d.key,j)}})}();(function(){var k=CryptoJS,o=k.lib.BlockCipher,p=k.algo,s=[],m=[],h=[],a=[],e=[],g=[],r=[],l=[],n=[],f=[];(function(){for(var d=[],c=0;256>c;c++){d[c]=128>c?c<<1:c<<1^283}for(var j=0,q=0,c=0;256>c;c++){var v=q^q<<1^q<<2^q<<3^q<<4,v=v>>>8^v&255^99;s[j]=v;m[v]=j;var u=d[j],t=d[u],w=d[t],b=257*d[v]^16843008*v;h[j]=b<<24|b>>>8;a[j]=b<<16|b>>>16;e[j]=b<<8|b>>>24;g[j]=b;b=16843009*w^65537*t^257*u^16843008*j;r[v]=b<<24|b>>>8;l[v]=b<<16|b>>>16;n[v]=b<<8|b>>>24;f[v]=b;j?(j=u^d[d[d[w^u]]],q^=d[d[q]]):j=q=1}})();var i=[0,1,2,4,8,16,32,64,128,27,54],p=p.AES=o.extend({_doReset:function(){for(var c=this._key,b=c.words,d=c.sigBytes/4,c=4*((this._nRounds=d+6)+1),q=this._keySchedule=[],t=0;t<c;t++){if(t<d){q[t]=b[t]}else{var j=q[t-1];t%d?6<d&&4==t%d&&(j=s[j>>>24]<<24|s[j>>>16&255]<<16|s[j>>>8&255]<<8|s[j&255]):(j=j<<8|j>>>24,j=s[j>>>24]<<24|s[j>>>16&255]<<16|s[j>>>8&255]<<8|s[j&255],j^=i[t/d|0]<<24);q[t]=q[t-d]^j}}b=this._invKeySchedule=[];for(d=0;d<c;d++){t=c-d,j=d%4?q[t]:q[t-4],b[d]=4>d||4>=t?j:r[s[j>>>24]]^l[s[j>>>16&255]]^n[s[j>>>8&255]]^f[s[j&255]]}},encryptBlock:function(b,c){this._doCryptBlock(b,c,this._keySchedule,h,a,e,g,s)},decryptBlock:function(c,b){var d=c[b+1];c[b+1]=c[b+3];c[b+3]=d;this._doCryptBlock(c,b,this._invKeySchedule,r,l,n,f,m);d=c[b+1];c[b+1]=c[b+3];c[b+3]=d},_doCryptBlock:function(b,c,d,j,q,u,v,t){for(var x=this._nRounds,w=b[c]^d[0],y=b[c+1]^d[1],A=b[c+2]^d[2],z=b[c+3]^d[3],B=4,U=1;U<x;U++){var V=j[w>>>24]^q[y>>>16&255]^u[A>>>8&255]^v[z&255]^d[B++],W=j[y>>>24]^q[A>>>16&255]^u[z>>>8&255]^v[w&255]^d[B++],X=j[A>>>24]^q[z>>>16&255]^u[w>>>8&255]^v[y&255]^d[B++],z=j[z>>>24]^q[w>>>16&255]^u[y>>>8&255]^v[A&255]^d[B++],w=V,y=W,A=X}V=(t[w>>>24]<<24|t[y>>>16&255]<<16|t[A>>>8&255]<<8|t[z&255])^d[B++];W=(t[y>>>24]<<24|t[A>>>16&255]<<16|t[z>>>8&255]<<8|t[w&255])^d[B++];X=(t[A>>>24]<<24|t[z>>>16&255]<<16|t[w>>>8&255]<<8|t[y&255])^d[B++];z=(t[z>>>24]<<24|t[w>>>16&255]<<16|t[y>>>8&255]<<8|t[A&255])^d[B++];b[c]=V;b[c+1]=W;b[c+2]=X;b[c+3]=z},keySize:8});k.AES=o._createHelper(p)})();(function(){var B=CryptoJS;var A=B.lib;var u=A.WordArray;var p=A.BlockCipher;var t=B.algo;var o=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4];var q=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32];var r=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28];var s=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}];var w=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679];var z=t.DES=p.extend({_doReset:function(){var f=this._key;var b=f.words;var g=[];for(var h=0;h<56;h++){var j=o[h]-1;g[h]=(b[j>>>5]>>>(31-j%32))&1}var d=this._subKeys=[];for(var a=0;a<16;a++){var i=d[a]=[];var e=r[a];for(var h=0;h<24;h++){i[(h/6)|0]|=g[((q[h]-1)+e)%28]<<(31-h%6);i[4+((h/6)|0)]|=g[28+(((q[h+24]-1)+e)%28)]<<(31-h%6)}i[0]=(i[0]<<1)|(i[0]>>>31);for(var h=1;h<7;h++){i[h]=i[h]>>>((h-1)*4+3)}i[7]=(i[7]<<5)|(i[7]>>>27)}var c=this._invSubKeys=[];for(var h=0;h<16;h++){c[h]=d[15-h]}},encryptBlock:function(a,b){this._doCryptBlock(a,b,this._subKeys)},decryptBlock:function(a,b){this._doCryptBlock(a,b,this._invSubKeys)},_doCryptBlock:function(g,a,c){this._lBlock=g[a];this._rBlock=g[a+1];y.call(this,4,252645135);y.call(this,16,65535);x.call(this,2,858993459);x.call(this,8,16711935);y.call(this,1,1431655765);for(var e=0;e<16;e++){var i=c[e];var b=this._lBlock;var d=this._rBlock;var h=0;for(var j=0;j<8;j++){h|=s[j][((d^i[j])&w[j])>>>0]}this._lBlock=d;this._rBlock=b^h}var f=this._lBlock;this._lBlock=this._rBlock;this._rBlock=f;y.call(this,1,1431655765);x.call(this,8,16711935);x.call(this,2,858993459);y.call(this,16,65535);y.call(this,4,252645135);g[a]=this._lBlock;g[a+1]=this._rBlock},keySize:64/32,ivSize:64/32,blockSize:64/32});function y(a,c){var b=((this._lBlock>>>a)^this._rBlock)&c;this._rBlock^=b;this._lBlock^=b<<a}function x(a,c){var b=((this._rBlock>>>a)^this._lBlock)&c;this._lBlock^=b;this._rBlock^=b<<a}B.DES=p._createHelper(z);var v=t.TripleDES=p.extend({_doReset:function(){var b=this._key;var a=b.words;this._des1=z.createEncryptor(u.create(a.slice(0,2)));this._des2=z.createEncryptor(u.create(a.slice(2,4)));this._des3=z.createEncryptor(u.create(a.slice(4,6)))},encryptBlock:function(a,b){this._des1.encryptBlock(a,b);this._des2.decryptBlock(a,b);this._des3.encryptBlock(a,b)},decryptBlock:function(a,b){this._des3.decryptBlock(a,b);this._des2.encryptBlock(a,b);this._des1.decryptBlock(a,b)},keySize:192/32,ivSize:64/32,blockSize:64/32});B.TripleDES=p._createHelper(v)}());(function(v){var x=CryptoJS;var w=x.lib;var p=w.WordArray;var t=w.Hasher;var o=x.algo;var s=[];(function(){for(var a=0;a<64;a++){s[a]=(v.abs(v.sin(a+1))*4294967296)|0}}());var n=o.MD5=t.extend({_doReset:function(){this._hash=p.create([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(c,f){for(var e=0;e<16;e++){var g=f+e;var b=c[g];c[g]=((((b<<8)|(b>>>24))&16711935)|(((b<<24)|(b>>>8))&4278255360))}var h=this._hash.words;var i=h[0];var j=h[1];var a=h[2];var d=h[3];for(var e=0;e<64;e+=4){if(e<16){i=q(i,j,a,d,c[f+e],7,s[e]);d=q(d,i,j,a,c[f+e+1],12,s[e+1]);a=q(a,d,i,j,c[f+e+2],17,s[e+2]);j=q(j,a,d,i,c[f+e+3],22,s[e+3])}else{if(e<32){i=u(i,j,a,d,c[f+((e+1)%16)],5,s[e]);d=u(d,i,j,a,c[f+((e+6)%16)],9,s[e+1]);a=u(a,d,i,j,c[f+((e+11)%16)],14,s[e+2]);j=u(j,a,d,i,c[f+(e%16)],20,s[e+3])}else{if(e<48){i=m(i,j,a,d,c[f+((e*3+5)%16)],4,s[e]);d=m(d,i,j,a,c[f+((e*3+8)%16)],11,s[e+1]);a=m(a,d,i,j,c[f+((e*3+11)%16)],16,s[e+2]);j=m(j,a,d,i,c[f+((e*3+14)%16)],23,s[e+3])}else{i=r(i,j,a,d,c[f+((e*3)%16)],6,s[e]);d=r(d,i,j,a,c[f+((e*3+7)%16)],10,s[e+1]);a=r(a,d,i,j,c[f+((e*3+14)%16)],15,s[e+2]);j=r(j,a,d,i,c[f+((e*3+5)%16)],21,s[e+3])}}}}h[0]=(h[0]+i)|0;h[1]=(h[1]+j)|0;h[2]=(h[2]+a)|0;h[3]=(h[3]+d)|0},_doFinalize:function(){var c=this._data;var b=c.words;var a=this._nDataBytes*8;var d=c.sigBytes*8;b[d>>>5]|=128<<(24-d%32);b[(((d+64)>>>9)<<4)+14]=((((a<<8)|(a>>>24))&16711935)|(((a<<24)|(a>>>8))&4278255360));c.sigBytes=(b.length+1)*4;this._process();var f=this._hash.words;for(var g=0;g<4;g++){var e=f[g];f[g]=(((e<<8)|(e>>>24))&16711935)|(((e<<24)|(e>>>8))&4278255360)}}});function q(g,h,b,d,a,e,f){var c=g+((h&b)|(~h&d))+a+f;return((c<<e)|(c>>>(32-e)))+h}function u(g,h,b,d,a,e,f){var c=g+((h&d)|(b&~d))+a+f;return((c<<e)|(c>>>(32-e)))+h}function m(g,h,b,d,a,e,f){var c=g+(h^b^d)+a+f;return((c<<e)|(c>>>(32-e)))+h}function r(g,h,b,d,a,e,f){var c=g+(b^(h|~d))+a+f;return((c<<e)|(c>>>(32-e)))+h}x.MD5=t._createHelper(n);x.HmacMD5=t._createHmacHelper(n)}(Math));(function(k){var l=CryptoJS;var p=l.lib;var i=p.Base;var m=p.WordArray;var j=l.x64={};var o=j.Word=i.extend({init:function(a,b){this.high=a;this.low=b}});var n=j.WordArray=i.extend({init:function(a,b){a=this.words=a||[];if(b!=k){this.sigBytes=b}else{this.sigBytes=a.length*8}},toX32:function(){var b=this.words;var c=b.length;var e=[];for(var d=0;d<c;d++){var a=b[d];e.push(a.high);e.push(a.low)}return m.create(e,this.sigBytes)},clone:function(){var a=i.clone.call(this);var b=a.words=this.words.slice(0);var c=b.length;for(var d=0;d<c;d++){b[d]=b[d].clone()}return a}})}());(function(){var j=CryptoJS;var m=j.lib;var k=m.WordArray;var h=m.Hasher;var l=j.algo;var i=[];var n=l.SHA1=h.extend({_doReset:function(){this._hash=k.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(e,t){var x=this._hash.words;var a=x[0];var b=x[1];var c=x[2];var d=x[3];var f=x[4];for(var g=0;g<80;g++){if(g<16){i[g]=e[t+g]|0}else{var v=i[g-3]^i[g-8]^i[g-14]^i[g-16];i[g]=(v<<1)|(v>>>31)}var w=((a<<5)|(a>>>27))+f+i[g];if(g<20){w+=((b&c)|(~b&d))+1518500249}else{if(g<40){w+=(b^c^d)+1859775393}else{if(g<60){w+=((b&c)|(b&d)|(c&d))-1894007588}else{w+=(b^c^d)-899497514}}}f=d;d=c;c=(b<<30)|(b>>>2);b=a;a=w}x[0]=(x[0]+a)|0;x[1]=(x[1]+b)|0;x[2]=(x[2]+c)|0;x[3]=(x[3]+d)|0;x[4]=(x[4]+f)|0},_doFinalize:function(){var b=this._data;var a=b.words;var d=this._nDataBytes*8;var c=b.sigBytes*8;a[c>>>5]|=128<<(24-c%32);a[(((c+64)>>>9)<<4)+15]=d;b.sigBytes=a.length*4;this._process()}});j.SHA1=h._createHelper(n);j.HmacSHA1=h._createHmacHelper(n)}());(function(r){var t=CryptoJS;var s=t.lib;var n=s.WordArray;var p=s.Hasher;var m=t.algo;var k=[];var l=[];(function(){function a(e){var f=r.sqrt(e);for(var g=2;g<=f;g++){if(!(e%g)){return false}}return true}function b(e){return((e-(e|0))*4294967296)|0}var d=2;var c=0;while(c<64){if(a(d)){if(c<8){k[c]=b(r.pow(d,1/2))}l[c]=b(r.pow(d,1/3));c++}d++}}());var q=[];var o=m.SHA256=p.extend({_doReset:function(){this._hash=n.create(k.slice(0))},_doProcessBlock:function(O,P){var K=this._hash.words;var G=K[0];var H=K[1];var J=K[2];var M=K[3];var a=K[4];var b=K[5];var c=K[6];var d=K[7];for(var e=0;e<64;e++){if(e<16){q[e]=O[P+e]|0}else{var Q=q[e-15];var g=((Q<<25)|(Q>>>7))^((Q<<14)|(Q>>>18))^(Q>>>3);var I=q[e-2];var i=((I<<15)|(I>>>17))^((I<<13)|(I>>>19))^(I>>>10);q[e]=g+q[e-7]+i+q[e-16]}var j=(a&b)^(~a&c);var R=(G&H)^(G&J)^(H&J);var f=((G<<30)|(G>>>2))^((G<<19)|(G>>>13))^((G<<10)|(G>>>22));var h=((a<<26)|(a>>>6))^((a<<21)|(a>>>11))^((a<<7)|(a>>>25));var L=d+h+j+l[e]+q[e];var N=f+R;d=c;c=b;b=a;a=(M+L)|0;M=J;J=H;H=G;G=(L+N)|0}K[0]=(K[0]+G)|0;K[1]=(K[1]+H)|0;K[2]=(K[2]+J)|0;K[3]=(K[3]+M)|0;K[4]=(K[4]+a)|0;K[5]=(K[5]+b)|0;K[6]=(K[6]+c)|0;K[7]=(K[7]+d)|0},_doFinalize:function(){var a=this._data;var d=a.words;var c=this._nDataBytes*8;var b=a.sigBytes*8;d[b>>>5]|=128<<(24-b%32);d[(((b+64)>>>9)<<4)+15]=c;a.sigBytes=d.length*4;this._process()}});t.SHA256=p._createHelper(o);t.HmacSHA256=p._createHmacHelper(o)}(Math));(function(){var v=CryptoJS;var u=v.lib;var r=u.Hasher;var q=v.x64;var s=q.Word;var m=q.WordArray;var n=v.algo;function p(){return s.create.apply(s,arguments)}var l=[p(1116352408,3609767458),p(1899447441,602891725),p(3049323471,3964484399),p(3921009573,2173295548),p(961987163,4081628472),p(1508970993,3053834265),p(2453635748,2937671579),p(2870763221,3664609560),p(3624381080,2734883394),p(310598401,1164996542),p(607225278,1323610764),p(1426881987,3590304994),p(1925078388,4068182383),p(2162078206,991336113),p(2614888103,633803317),p(3248222580,3479774868),p(3835390401,2666613458),p(4022224774,944711139),p(264347078,2341262773),p(604807628,2007800933),p(770255983,1495990901),p(1249150122,1856431235),p(1555081692,3175218132),p(1996064986,2198950837),p(2554220882,3999719339),p(2821834349,766784016),p(2952996808,2566594879),p(3210313671,3203337956),p(3336571891,1034457026),p(3584528711,2466948901),p(113926993,3758326383),p(338241895,168717936),p(666307205,1188179964),p(773529912,1546045734),p(1294757372,1522805485),p(1396182291,2643833823),p(1695183700,2343527390),p(1986661051,1014477480),p(2177026350,1206759142),p(2456956037,344077627),p(2730485921,1290863460),p(2820302411,3158454273),p(3259730800,3505952657),p(3345764771,106217008),p(3516065817,3606008344),p(3600352804,1432725776),p(4094571909,1467031594),p(275423344,851169720),p(430227734,3100823752),p(506948616,1363258195),p(659060556,3750685593),p(883997877,3785050280),p(958139571,3318307427),p(1322822218,3812723403),p(1537002063,2003034995),p(1747873779,3602036899),p(1955562222,1575990012),p(2024104815,1125592928),p(2227730452,2716904306),p(2361852424,442776044),p(2428436474,593698344),p(2756734187,3733110249),p(3204031479,2999351573),p(3329325298,3815920427),p(3391569614,3928383900),p(3515267271,566280711),p(3940187606,3454069534),p(4118630271,4000239992),p(116418474,1914138554),p(174292421,2731055270),p(289380356,3203993006),p(460393269,320620315),p(685471733,587496836),p(852142971,1086792851),p(1017036298,365543100),p(1126000580,2618297676),p(1288033470,3409855158),p(1501505948,4234509866),p(1607167915,987167468),p(1816402316,1246189591)];var t=[];(function(){for(var a=0;a<80;a++){t[a]=p()}}());var o=n.SHA512=r.extend({_doReset:function(){this._hash=m.create([p(1779033703,4089235720),p(3144134277,2227873595),p(1013904242,4271175723),p(2773480762,1595750129),p(1359893119,2917565137),p(2600822924,725511199),p(528734635,4215389547),p(1541459225,327033209)])},_doProcessBlock:function(bo,bi){var bn=this._hash.words;var b=bn[0];var e=bn[1];var g=bn[2];var h=bn[3];var j=bn[4];var H=bn[5];var ah=bn[6];var al=bn[7];var aW=b.high;var aY=b.low;var a4=e.high;var a6=e.low;var bk=g.high;var c=g.low;var bE=h.high;var bG=h.low;var bM=j.high;var bP=j.low;var bp=H.high;var br=H.low;var aU=ah.high;var aV=ah.low;var a2=al.high;var a3=al.low;var a8=aW;var be=aY;var bu=a4;var bw=a6;var aX=bk;var aZ=c;var a5=bE;var a9=bG;var a=bM;var i=bP;var bF=bp;var bH=br;var bO=aU;var a7=aV;var bq=a2;var bt=a3;for(var aS=0;aS<80;aS++){var a0=t[aS];if(aS<16){var bg=a0.high=bo[bi+aS*2]|0;var bl=a0.low=bo[bi+aS*2+1]|0}else{var bm=t[aS-15];var bc=bm.high;var bd=bm.low;var bQ=((bd<<31)|(bc>>>1))^((bd<<24)|(bc>>>8))^(bc>>>7);var ba=((bc<<31)|(bd>>>1))^((bc<<24)|(bd>>>8))^((bc<<25)|(bd>>>7));var bA=t[aS-2];var bf=bA.high;var bj=bA.low;var bs=((bj<<13)|(bf>>>19))^((bf<<3)|(bj>>>29))^(bf>>>6);var bv=((bf<<13)|(bj>>>19))^((bj<<3)|(bf>>>29))^((bf<<26)|(bj>>>6));var bD=t[aS-7];var bx=bD.high;var bz=bD.low;var bN=t[aS-16];var by=bN.high;var aQ=bN.low;var bl=ba+bz;var bg=bQ+bx+((bl>>>0)<(ba>>>0)?1:0);var bl=bl+bv;var bg=bg+bs+((bl>>>0)<(bv>>>0)?1:0);var bl=bl+aQ;var bg=bg+by+((bl>>>0)<(aQ>>>0)?1:0);a0.high=bg;a0.low=bl}var aR=(a&bF)^(~a&bO);var aT=(i&bH)^(~i&a7);var d=(a8&bu)^(a8&aX)^(bu&aX);var k=(be&bw)^(be&aZ)^(bw&aZ);var bB=((be<<4)|(a8>>>28))^((a8<<30)|(be>>>2))^((a8<<25)|(be>>>7));var bC=((a8<<4)|(be>>>28))^((be<<30)|(a8>>>2))^((be<<25)|(a8>>>7));var bK=((i<<18)|(a>>>14))^((i<<14)|(a>>>18))^((a<<23)|(i>>>9));var bL=((a<<18)|(i>>>14))^((a<<14)|(i>>>18))^((i<<23)|(a>>>9));var a1=l[aS];var f=a1.high;var M=a1.low;var bJ=bt+bL;var bI=bq+bK+((bJ>>>0)<(bt>>>0)?1:0);var bJ=bJ+aT;var bI=bI+aR+((bJ>>>0)<(aT>>>0)?1:0);var bJ=bJ+M;var bI=bI+f+((bJ>>>0)<(M>>>0)?1:0);var bJ=bJ+bl;var bI=bI+bg+((bJ>>>0)<(bl>>>0)?1:0);var bh=bC+k;var bb=bB+d+((bh>>>0)<(bC>>>0)?1:0);bq=bO;bt=a7;bO=bF;a7=bH;bF=a;bH=i;i=(a9+bJ)|0;a=(a5+bI+((i>>>0)<(a9>>>0)?1:0))|0;a5=aX;a9=aZ;aX=bu;aZ=bw;bu=a8;bw=be;be=(bJ+bh)|0;a8=(bI+bb+((be>>>0)<(bJ>>>0)?1:0))|0}aY=b.low=(aY+be)|0;b.high=(aW+a8+((aY>>>0)<(be>>>0)?1:0))|0;a6=e.low=(a6+bw)|0;e.high=(a4+bu+((a6>>>0)<(bw>>>0)?1:0))|0;c=g.low=(c+aZ)|0;g.high=(bk+aX+((c>>>0)<(aZ>>>0)?1:0))|0;bG=h.low=(bG+a9)|0;h.high=(bE+a5+((bG>>>0)<(a9>>>0)?1:0))|0;bP=j.low=(bP+i)|0;j.high=(bM+a+((bP>>>0)<(i>>>0)?1:0))|0;br=H.low=(br+bH)|0;H.high=(bp+bF+((br>>>0)<(bH>>>0)?1:0))|0;aV=ah.low=(aV+a7)|0;ah.high=(aU+bO+((aV>>>0)<(a7>>>0)?1:0))|0;a3=al.low=(a3+bt)|0;al.high=(a2+bq+((a3>>>0)<(bt>>>0)?1:0))|0},_doFinalize:function(){var d=this._data;var c=d.words;var b=this._nDataBytes*8;var a=d.sigBytes*8;c[a>>>5]|=128<<(24-a%32);c[(((a+128)>>>10)<<5)+31]=b;d.sigBytes=c.length*4;this._process();this._hash=this._hash.toX32()},blockSize:1024/32});v.SHA512=r._createHelper(o);v.HmacSHA512=r._createHmacHelper(o)}());CryptoJS.mode.CFB=(function(){var c=CryptoJS.lib.BlockCipherMode.extend();c.Encryptor=c.extend({processBlock:function(a,b){var h=this._cipher;var g=h.blockSize;d.call(this,a,b,g,h);this._prevBlock=a.slice(b,b+g)}});c.Decryptor=c.extend({processBlock:function(a,b){var j=this._cipher;var h=j.blockSize;var i=a.slice(b,b+h);d.call(this,a,b,h,j);this._prevBlock=i}});function d(a,b,k,n){var m=this._iv;if(m){var i=m.slice(0);this._iv=undefined}else{var i=this._prevBlock}n.encryptBlock(i,0);for(var l=0;l<k;l++){a[b+l]^=i[l]}}return c}());CryptoJS.mode.ECB=(function(){var b=CryptoJS.lib.BlockCipherMode.extend();b.Encryptor=b.extend({processBlock:function(d,a){this._cipher.encryptBlock(d,a)}});b.Decryptor=b.extend({processBlock:function(d,a){this._cipher.decryptBlock(d,a)}});return b}());CryptoJS.mode.OFB=(function(){var c=CryptoJS.lib.BlockCipherMode.extend();var d=c.Encryptor=c.extend({processBlock:function(a,b){var n=this._cipher;var k=n.blockSize;var m=this._iv;var i=this._keystream;if(m){i=this._keystream=m.slice(0);this._iv=undefined}n.encryptBlock(i,0);for(var l=0;l<k;l++){a[b+l]^=i[l]}}});c.Decryptor=d;return c}());CryptoJS.mode.CTR=(function(){var c=CryptoJS.lib.BlockCipherMode.extend();var d=c.Encryptor=c.extend({processBlock:function(a,b){var p=this._cipher;var l=p.blockSize;var n=this._iv;var o=this._counter;if(n){o=this._counter=n.slice(0);this._iv=undefined}var i=o.slice(0);p.encryptBlock(i,0);o[l-1]=(o[l-1]+1)|0;for(var m=0;m<l;m++){a[b+m]^=i[m]}}});c.Decryptor=d;return c}());CryptoJS.pad.ZeroPadding={pad:function(f,e){var d=e*4;f.clamp();f.sigBytes+=d-((f.sigBytes%d)||d)},unpad:function(d){var f=d.words;var e=d.sigBytes-1;while(!((f[e>>>2]>>>(24-(e%4)*8))&255)){e--}d.sigBytes=e+1}};CryptoJS.pad.NoPadding={pad:function(){},unpad:function(){}};CryptoJS.pad.Iso97971={pad:function(c,d){c.concat(CryptoJS.lib.WordArray.create([2147483648],1));CryptoJS.pad.ZeroPadding.pad(c,d)},unpad:function(b){CryptoJS.pad.ZeroPadding.unpad(b);b.sigBytes--}};CryptoJS.pad.Iso10126={pad:function(h,f){var e=f*4;var g=e-h.sigBytes%e;h.concat(CryptoJS.lib.WordArray.random(g-1)).concat(CryptoJS.lib.WordArray.create([g<<24],1))},unpad:function(d){var c=d.words[(d.sigBytes-1)>>>2]&255;d.sigBytes-=c}};
$KI.db={changeversion:function(g,j,i,k,l,h){if(window.openDatabase){if(g){g.changeVersion(j,i,k,l,h)}}else{kony.print("Web Databases not supported")}},executesql:function(h,g,i,f,j){if(window.openDatabase){if(h){if(i&&i[0]===null){i=i.slice(1)}h.executeSql(g,i,f,j)}}else{kony.print("Web Databases not supported")}},opendatabase:function(m,e,j,l,i){var n=this.db||null;i=i||kony_dummyForDBCallback;try{if(window.openDatabase){if(!n){n=openDatabase(m,e,j,l,i);this.db=n}}else{kony.print("Web Databases not supported")}}catch(k){if(k==2){kony.print("opendatabase:Invalid database version.")}else{kony.print("opendatabase:Unknown error "+k+".")}return null}return n},readtransaction:function(e,g,h,f){if(window.openDatabase){if(e){e.readTransaction(g,h,f)}}else{kony.print("Web Databases not supported")}},sqlresultsetrowitem:function(f,e,d){if(window.openDatabase){if(d<e.rows.length){return e.rows.item(d)}else{return null}}else{kony.print("Web Databases not supported")}},transaction:function(e,g,h,f){if(window.openDatabase){if(e){e.transaction(g,h,f)}}else{kony.print("Web Databases not supported")}}};function kony_dummyForDBCallback(){}if(typeof(localStorage)==="object"||kony.appinit.isIE7){$KI.ds={save:function(k,j,h){if(localStorage){try{localStorage.setItem(j,JSON.stringify(k))}catch(l){if(l.name=="QUOTA_EXCEEDED_ERR"){var e=0,i="";if(localStorage.length===0){e=707;i="Private Browsing is switched ON"}else{e=708;i="Data storage limit has exceeded"}return{errcode:e,errmsg:i}}}}else{kony.print("localStorage not supported")}},read:function(c){if(localStorage){var d=JSON.parse(localStorage.getItem(c)||"null");return d}else{kony.print("localStorage readitem failed");return null}},Delete:function(b){if(localStorage){localStorage.removeItem(b);return true}else{kony.print("localStorage delete failed");return false}}};$KI.localstorage={key:function(b){return(localStorage.key(b-IndexJL))},getitem:function(c){var d=JSON.parse(localStorage.getItem(c)||"null");return d},setitem:function(i,e){var g=i,h=e;if(typeof i=="object"){for(x in i){g=x}h=i[x]}try{localStorage.setItem(g,JSON.stringify(h))}catch(j){if(j.name=="QUOTA_EXCEEDED_ERR"){if(localStorage.length===0){console.warn("Private Browsing is switched ON")}else{console.warn("Data storage limit has exceeded")}}}},removeitem:function(b){localStorage.removeItem(b)},clear:function(){localStorage.clear()},length:function(){return localStorage.length}}}else{kony.print("localStorage not supported")}kony.application={createAppMenu:$KW.Appmenu&&$KW.Appmenu.createappmenu,setCurrentAppMenu:$KW.Appmenu&&$KW.Appmenu.setcurrentappmenu,getCurrentAppMenu:$KW.Appmenu&&$KW.Appmenu.getcurrentappmenu,setAppMenuFocusByID:$KW.Appmenu&&$KW.Appmenu.setappmenufocusbyid,addAppMenuItemAt:$KW.Appmenu&&$KW.Appmenu.addappmenuitemat,removeAppMenuItemAt:$KW.Appmenu&&$KW.Appmenu.removeappmenuitemat,setAppMenu:$KW.Appmenu&&$KW.Appmenu.setappmenu,setAppMenuFocusIndex:$KW.Appmenu&&$KW.Appmenu.setappmenufocusindex,showAppMenuItems:$KW.Appmenu&&$KW.Appmenu.showappmenuitems,hideAppMenuItems:$KW.Appmenu&&$KW.Appmenu.hideappmenuitems,setBMState:kony.bm.setBMState,resetBMState:kony.bm.resetBMState,getBMState:kony.bm.getBMState,getFormId:kony.bm.getFormId,addBMState:kony.bm.addBMState,removeBMState:kony.bm.removeBMState,exit:$KI.exit,getPreviousForm:$KW.Form&&$KW.Form.getPreviousForm,getCurrentForm:$KW.Form&&$KW.Form.getCurrentForm,removeGestureRecognizerForAllForms:$KW.Widget&&$KW.Widget.removegesturerecognizerforallforms,setGestureRecognizerForAllForms:$KW.Widget&&$KW.Widget.addgesturerecognizerforallforms,getApplicationMode:$KI.os&&$KI.os.getapplicationmode,setApplicationMode:$KI.os&&$KI.os.setapplicationmode,setApplicationInitializationEvents:$KI.setappevents,registerForIdleTimeout:$KI.appevents&&$KI.appevents.registerforidletimeout,unregisterForIdleTimeout:$KI.appevents&&$KI.appevents.unregisterforidletimeout,setApplicationBadgeValue:tobeimplemented,getApplicationBadgeValue:tobeimplemented,setAppMenuBadgeValue:tobeimplemented,getAppMenuBadgeValue:tobeimplemented,appReset:$KI.appreset,setAppHeaders:$KI.setappheaders,setAppFooters:$KI.setappfooters,setApplicationCallbacks:$KI.setapplicationcallbacks,setApplicationBehaviors:$KI.setapplicationbehaviors,showLoadingScreen:$KI.window&&$KI.window.showLoadingScreen,dismissLoadingScreen:$KI.window&&$KI.window.dismissLoadingScreen,openURL:$KI.window.openURL};kony.cloud={};kony.cloud.appevents=(function(){var a={id:null,value:0,cb:null,enabled:false,expired:false,lastInteraction:0};return{timercb:function(){var b=$KW.Form.getCurrentForm();a.cb&&a.cb(b)},registerforidletimeout:function(c,b){if(!a.enabled){a.value=c*60*1000;a.id=setTimeout(kony.cloud.appevents.timercb,a.value);a.lastInteraction=new Date().getTime();a.enabled=true;a.expired=false;a.cb=b;$KG.__cloudidletimeout=a}},unregisterforidletimeout:function(){clearTimeout(a.id);a.enabled=false;$KG.__cloudidletimeout=""},resettimer:function(){var b=new Date().getTime();if((b-a.lastInteraction)>=a.value){$KI.appevents.timercb();return}else{clearTimeout(a.id);a.id=setTimeout(kony.cloud.appevents.timercb,a.value);a.lastInteraction=b}}}})();kony.setUserID=function(b){var a=new Array;a.push(b);kony.ds.save(a,"konyUserID")};kony.license={};kony.metric={};Object.defineProperty(kony.license,"startLicenseService",{enumerable:false,configurable:false,writable:false,value:function(){kony.setUserID=function(b){var a=new Array;a.push(b);kony.ds.save(a,"konyUserID")};Object.defineProperty(kony.metric,"reportCallback",{enumerable:false,configurable:false,writable:false,value:function(b,a){kony.print("Status : "+b);kony.print("Result : "+a);if(b===400){if(a.opstatus===0){kony.ds.remove("konyCustomReportData")}}}});Object.defineProperty(kony.metric,"report",{enumerable:false,configurable:false,writable:false,value:function(h,e){if(h===undefined||e===undefined){kony.print("Invalid parameters to kony.metric.report");return}if(typeof e!=="object"){kony.print("Invalid parameters to kony.metric.report");return}if(typeof h!=="string"){if(typeof h==="object"){if(h.id===undefined||h.id===null||typeof h.id!=="string"){kony.print("Invalid parameters to kony.metric.report");return}h=h.id.toString()}else{kony.print("Invalid parameters to kony.metric.report");return}}var a={};var b=kony.ds.read("konyCustomReportData");if(b===undefined||b===null){b=new Array()}var d={};var c=kony.ds.read("konyUUID");if(c!==undefined&&c!==null&&c.length>0){d.rsid=c[0]}else{d.rsid=new Date().getTime().toString()}d.fid=h;if(!h){var f=document.getElementsByTagName("form")[0];if(f!=null&&(f.id!=undefined||f.id!=null)){d.fid=f.id}}d.metrics=e;d.ts=kony.license.getCurrentDateTime();b.push(d);kony.ds.save(b,"konyCustomReportData");var g="";if(appConfig.url!==undefined&&appConfig.url!==null){g=appConfig.url.slice(0,-9)+"CMS"}a.httpconfig={};$KI.net.invokeserviceasync(g,a,kony.metric.reportCallback,null,"metric")}});Object.defineProperty(kony.license,"generateUUID",{enumerable:false,configurable:false,writable:false,value:function(){var a=function(){return(((1+Math.random())*65536)|0).toString(16).substring(1)};return(new Date().getTime()+"-"+a()+"-"+a()+"-"+a())}});Object.defineProperty(kony.license,"isCloud",{enumerable:false,configurable:false,writable:false,value:function(){if((typeof appConfig!="undefined")&&appConfig&&appConfig.url!==undefined&&appConfig.url!==null){if(appConfig.url.indexOf("konycloud.com")!==-1){return true}}kony.print("NOT CLOUD");return false}});Object.defineProperty(kony.license,"getCurrentDateTime",{enumerable:false,configurable:false,writable:false,value:function(){var a,c,b;a=new Date();c=new Date().getUTCMonth()+1;b=(("00"+a.getUTCFullYear()).slice(-4))+"-"+(("00"+c).slice(-2))+"-"+(("00"+a.getUTCDate()).slice(-2))+" "+(("00"+a.getUTCHours()).slice(-2))+":"+(("00"+a.getUTCMinutes()).slice(-2))+":"+(("00"+a.getUTCSeconds()).slice(-2));return b}});Object.defineProperty(kony.license,"appendLicenseTrackingKeys",{enumerable:false,configurable:false,writable:false,value:function(g){var e={};if(kony.license.isCloud()===true){e.plat=kony.os.deviceInfo().name;e.aid=appConfig.appId;e.aver=appConfig.appVersion;e.aname=appConfig.appName;e.did="";e.os=kony.os.deviceInfo().version;e.stype="b2c";e.dm=kony.os.deviceInfo().model;e.ua=kony.os.userAgent();e.chnl=getChannel();e.plat=getPlatform();e.atype="spa";var i=document.getElementsByTagName("form")[0];if(i!=null&&(i.id!=undefined||i.id!=null)){e.fid=i.id}var f=$KI.ds.read("konyUserID");if(f!==undefined&&f!==null&&f.length>0){e.kuid=f[0]}else{e.kuid=""}if(g==="session"){var b=new Array();b.push(kony.license.generateUUID().toString());kony.ds.save(b,"konyUUID");var d=kony.ds.read("konyOfflineAccessData");if(d===undefined||d===null){d=new Array()}var a=new Array();a.push(b[0]);a.push(kony.license.getCurrentDateTime());d.push(a);kony.ds.save(d,"konyOfflineAccessData");if(d===undefined||d===null){e.launchDates=a}else{e.launchDates=d}var h=new Array();e.metrics=h;e.svcid="RegisterKonySession";kony.print("---------->LaunchDates : "+e.launchDates)}else{if(g==="metric"){var c=kony.ds.read("konyCustomReportData");if(c===undefined||c===null){c=new Array()}e.reportData=c;e.svcid="CaptureKonyCustomMetrics"}else{var b=kony.ds.read("konyUUID");if(b!==undefined&&b!==null&&b.length>0){e.rsid=b[0]}else{e.rsid=kony.license.generateUUID().toString()}var h=new Array();e.metrics=h}}}return e}});Object.defineProperty(kony.license,"licenseUsageServiceCallback",{enumerable:false,configurable:false,writable:false,value:function(c,a){kony.print("Status : "+c);kony.print("Result : "+a);if(c===400){if(a.opstatus===0){kony.ds.remove("konyOfflineAccessData");kony.ds.remove("konyOfflineSessionsCount")}else{var d,b;b=kony.ds.read("konyOfflineSessionsCount");if(b===undefined||b===null||b.length<1){b=new Array();b.push(1)}else{d=b[0]+1;b[0]=d;kony.ds.save(b,"konyOfflineSessionsCount")}if(d>=50){alert("Maximum Offline Sessions Exceeded")}}}}});Object.defineProperty(kony.license,"captureKonyLicenseUsage",{enumerable:false,configurable:false,writable:false,value:function(g){var d,e,f,a;var c=true;if(g===undefined||g===null){g=false}else{if(g!==true){g=false}}if(kony.license.isCloud()===false){kony.print("Not Cloud");c=false}if(kony.ds.read("konyLastAccessTime")!==undefined&&kony.ds.read("konyLastAccessTime")!==null){d=new Date();e=new Date(kony.ds.read("konyLastAccessTime")[0]);f=d.getTime()-e.getTime();if(f<1800000&&g===false){c=false}else{kony.ds.remove("konyLastAccessTime")}}if(c===true){a="";if(appConfig.url!==undefined&&appConfig.url!==null){a=appConfig.url.slice(0,-9)+"IST"}if(window.location.protocol==="http:"){a=a.replace("https:","http:")}var b={};b.httpconfig={};$KI.net.invokeserviceasync(a,b,kony.license.licenseUsageServiceCallback,null,"session")}}});Object.defineProperty(kony.license,"backgroundTimeCapture",{enumerable:false,configurable:false,writable:false,value:function(){if(kony.license.isCloud()===true){var a=new Array();a.push(new Date().toString());kony.ds.save(a,"konyLastAccessTime")}}});Object.defineProperty(kony.license,"clearLastAccess",{enumerable:false,configurable:false,writable:false,value:function(){if(kony.license.isCloud()===true){kony.ds.remove("konyLastAccessTime")}}});Object.defineProperty(kony.license,"setAppCallbacksOverride",{enumerable:false,configurable:false,writable:false,value:function(){var b=kony.application.setApplicationCallbacks;function a(c){if(kony.license.isCloud()===true){if(c!==undefined&&c!==null){if(c.onforeground!==undefined&&c.onforeground!==null){var f=c.onforeground;var h=function(){kony.license.captureKonyLicenseUsage(false);f()};c.onforeground=h}if(c.onbackground!==undefined&&c.onbackground!==null){var i=c.onbackground;var g=function(){kony.license.backgroundTimeCapture();i()};c.onbackground=g}if(c.onappterminate!==undefined&&c.onappterminate!==null){var e=c.onappterminate;var d=function(){kony.license.clearLastAccess();e()};c.onappterminate=d}}}return b(c)}kony.application.setApplicationCallbacks=a}});Object.defineProperty(kony.license,"invokeServiceAsyncOverride",{enumerable:false,configurable:false,writable:false,value:function(){var b=$KI.net.invokeserviceasync;function a(f,d,g,e,c){if(kony.license.isCloud()===true){if(d===undefined||d===null){d={}}if(d!==undefined&&d!==null){if(c!==undefined&&c!==null){d.konyreportingparams=JSON.stringify(kony.license.appendLicenseTrackingKeys(c))}else{d.konyreportingparams=JSON.stringify(kony.license.appendLicenseTrackingKeys(null))}}}return b(f,d,g,e)}$KI.net.invokeserviceasync=a}});Object.defineProperty(kony.license,"invokeServiceSyncOverride",{enumerable:false,configurable:false,writable:false,value:function(){var b=$KI.net.invokeservicesync;function a(d,c,e){if(kony.license.isCloud()===true){if(c===undefined||c===null){c={}}if(c!==undefined&&c!==null){c.konyreportingparams=JSON.stringify(kony.license.appendLicenseTrackingKeys(null))}}return b(d,c,e)}$KI.net.invokeservicesync=a}});Object.defineProperty(kony.license,"setAppInitializationEventsOverride",{enumerable:false,configurable:false,writable:false,value:function(){var b=$KI.setappevents;function a(c){if(kony.license.isCloud()===true){if(c!==undefined&&c!==null){kony.print("Registering session time out");kony.cloud.appevents.registerforidletimeout(30,cloudSessionCallback);if(c.postappinit!==undefined&&c.postappinit!==null){var d=c.postappinit;var e=function(){kony.license.captureKonyLicenseUsage(true);var f=d();if(f!==undefined||f!==null){return f}};c.postappinit=e}else{var e=function(){kony.license.captureKonyLicenseUsage(true)};c.postappinit=e}}}return b(c)}$KI.setappevents=a}});Object.defineProperty(kony.license,"apiOverride",{enumerable:false,configurable:false,writable:false,value:function(){var a={onforeground:kony.license.captureKonyLicenseUsage,onbackground:kony.license.backgroundTimeCapture,onappterminate:kony.license.clearLastAccess};kony.license.invokeServiceAsyncOverride();kony.license.invokeServiceSyncOverride();kony.license.setAppInitializationEventsOverride()}});kony.license.apiOverride()}});kony.license.startLicenseService();function cloudSessionCallback(){kony.print("Cloud session timed out.");kony.ds.remove("konyLastAccessTime");kony.ds.remove("konyUUID");kony.ds.remove("konyCustomReportData");kony.ds.remove("konyOfflineAccessData");kony.license.captureKonyLicenseUsage();kony.cloud.appevents.unregisterforidletimeout();kony.cloud.appevents.registerforidletimeout(30,cloudSessionCallback)}function getPlatform(){if((/android/gi).test(navigator.userAgent)){return"android"}else{if((/iphone|ipad|ipod/gi).test(navigator.userAgent)){return"ios"}else{if((/bb10/gi).test(navigator.userAgent)||(/blackberry/gi).test(navigator.userAgent)){return"blackberry"}else{if((/Windows/gi).test(navigator.userAgent)){return"windows"}else{if((/j2me/gi).test(navigator.userAgent)){return"j2me"}else{return""}}}}}}function getChannel(){if((/hp-tablet|ipad|playbook/gi).test(navigator.userAgent)||((/android/gi).test(navigator.userAgent)&&!(/mobile/gi).test(navigator.userAgent))){return"tablet"}else{if((/mobile/gi).test(navigator.userAgent)){return"mobile"}else{return"desktop"}}};
$KW.Form={initialize:function(){kony.events.addEvent("onorientationchange","Form",this.orientationHandler)},initializeView:function(d,c){var a=[$KW.Calendar,$KW.HStrip,$KW.Segment,$KW.ScrollBox,$KW.TabPane,$KW.Line,$KW.Switch,$KW.TextField,$KW.DataGrid,$KW.Media,$KW.MenuContainer,$KW.ComboBox,$KW.Slider,$KW.Map];for(var b=0;b<a.length;b++){if(a[b]){a[b].initializeView&&a[b].initializeView(d)}}if(c){$KW.Form.resizeForm(d)}},updateView:function(d,c,b,a){switch(c){case"title":document.title=b||$KG.apptitle||$KG.appid;d.i18n_title="";break;case"padding":var e=document.getElementById(d.id);if(!$KG.needScroller){e&&(e.style[c]=$KU.joinArray(b,"% ")+"%")}break}},orientationHandler:function(d,b){var a=$KG.allforms[d];if(a){var c=$KU.returnEventReference(a.onorientationchange);c&&c.call(a,a,b)}},generateAppmenu:function(a){var b=document.getElementById("appmenumore_container");if(b){b.parentNode.removeChild(b)}if($KG.__appmenu&&a.needappmenu){return $KW.Appmenu&&$KW.Appmenu.render($KG.__appmenu)}else{return""}},initializeTouchWidgets:function(b,a){$KW.Scroller.initializeScrollBoxes(b);$KW.Scroller.initializePageViews(b);this.initializeView(b,a)},destroyTouchWidgets:function(a,b){if(!b){$KW.Scroller.destroyFormScroller(a)}$KW.Scroller.destroyScrollBoxes(a);$KW.Scroller.destroyImageStripStripViews(a);$KW.Scroller.destroyPageViews(a)},formRendered:function(a){kony.events.browserback.updateURLWithLocation(a);$KW.Form.enlistSystemTimerActions();if($KU.isWindowsPhone&&$KU.isIE9){window.scrollTo(0,0)}else{if($KG.relativeScroll){window.scrollTo(0,1)}}},resizeForm:function(i,c){var h=$KG.allforms[i];if($KG.nativeScroll||$KG.relativeScroll){var d=($KU.isWindowsPhone&&$KU.getPlatform().version=="7.5")?($KW.Utils.getViewPortHeight()+10):$KW.Utils.getViewPortHeight();document.body.style.minHeight=d+"px"}if(kony.appinit.isTablet&&kony.appinit.isAndroid&&(kony.constants.APPLICATION_MODE_HYBRID||kony.constants.APPLICATION_MODE_WRAPPER)){document.body.style.minHeight=(screen.height/window.devicePixelRatio-window.screenTop)+"px"}if($KG.relativeScroll||$KG.nativeScroll){var a=window.innerHeight||document.body.clientHeight;var b=document.getElementById(i);var g,f;var g=__MainContainer.clientHeight;var f=b.clientHeight;if(!c){g=__MainContainer.__clientHeight=__MainContainer.clientHeight;f=b.__clientHeight=b.clientHeight}else{g=__MainContainer.__clientHeight;f=b.__clientHeight}if(g<a){var e=a-g;f=f+e;b.style.minHeight=f+"px";if($KU.isWindowsPhone&&$KU.isIE9){setTimeout(function(){window.scrollTo(0,0)},10)}else{setTimeout(function(){window.scrollTo(0,1)},10)}}}},enlistSystemTimerActions:function(){if($KU.hashChange){kony.events.addEventListener(window,"hashchange",kony.events.browserback.handleBrowserBackEvent)}else{var a=new kony.system.timers.TimerAction(kony.events.browserback.handleBrowserBackEvent,300);kony.system.timers.registerTimerAction(a)}},delistSystemTimerActions:function(){kony.system.timers.clearTimerAction()},addChild:function(b,g,d){if(($KG.__currentForm&&b.id==$KG.__currentForm.id)||b.wType=="Popup"){var e=$KU.getElementById(b.id);if(!e){return}var f="";var a=$KU.getScreenLevelWidgetModel(b);for(var c=0;c<g.length;c++){if(a){f=$KW.Form.generateWidget(b,a);break}if(b[g[c].id]){f+=$KW.Form.generateWidget(b,b[g[c].id])}}var h=document.createElement("div");h.innerHTML=f;if(a){e.innerHTML=f}else{if(d){e.innerHTML=f}else{while(h.children.length>0){e.appendChild(h.children[0])}}}$KW.Utils.initializeNewWidgets(g)}},addChildAt:function(b,g,c){if(($KG.__currentForm&&b.id==$KG.__currentForm.id)||b.wType=="Popup"){var f=$KU.getElementById(b.id);if(!f){return}var a=$KU.getScreenLevelWidgetModel(b);var e=$KU.getNodeByModel(a);if(e){return}var h=$KW.Form.generateWidget(b,b[g.id]);var d=document.createElement("div");d.innerHTML=h;if(a){f.innerHTML=h;$KW.Scroller.destroyFormScroller(f.id);$KW.Utils.initializeNewWidgets([g]);return}if((kony.appinit.isIE||($KU.isWindowsPhone&&$KU.isIE9))&&!f.children[c]){f.appendChild(d.childNodes[0]);return}f.insertBefore(d.childNodes[0],f.children[c]);$KW.Utils.initializeNewWidgets([g])}},DOMremove:function(a,b){if($KG.__currentForm&&(a.id==$KG.__currentForm.id||a.wType=="Popup")&&b){var c=document.getElementById(a.id+"_"+b.id);if(c){c=$KU.returnParentChildBloatAdjustedNode(a,b,c);c.parentNode.removeChild(c)}}},DOMremoveAt:function(a,b){$KW.Form.DOMremove(a,a.ownchildrenref[b])},add:function(){var a=arguments[0];if("add" in a){var b=[].slice.call(arguments,1);a.add(b)}},addAt:function(a,c,b){if(c==null){return}a.addAt&&a.addAt(c,b)},remove:function(a,b){a.remove&&a.remove(b)},removeAt:function(a,b){if(a.removeAt){return a.removeAt(b)}},widgets:function(a){return a.widgets&&a.widgets()},scrollToBeginning:function(a){var c=$KG[$KG.__currentForm.id+"_scroller"];var b=($KU.isWindowsPhone&&$KU.isIE9)?0:1;c?c.scrollTo(0,c.minScrollY,500):$KW.Utils.scrollToElement(null,500,null,b)},scrollToEnd:function(a){var b=$KG[$KG.__currentForm.id+"_scroller"];b?b.scrollTo(0,b.maxScrollY,500):$KW.Utils.scrollToElement(null,500,null,document.body.scrollHeight-(!($KU.isWindowsPhone&&$KU.isIE9)?(window.innerHeight||document.body.clientHeight):0))},scrollToWidget:function(a,b){$KW.Widget.setfocus(b)},destroy:function(a){if(a&&"destroy" in a){a.destroy()}},getCurrentForm:function(){return $KG.__currentForm},getPreviousForm:function(){return $KG.__previousForm},handleshow:function(a){if("show" in a){a.show()}},generateWidget:function(a,f){var c=new $KW.WidgetGenerationContext(a.id);var b=f.wType;var d="";if(b=="Line"||b=="HBox"||b=="ScrollBox"||b=="TabPane"){c.setTopLevelBox(true);d+=$KW[b]&&$KW[b].render(f,c)}else{d+="<div class = 'ktable kwt100' style='table-layout:fixed;'>";d+="<div class = 'krow kwt100' >";if(b=="Image"){f.containerweight=100}var e=$KW.skins.getWidgetAlignmentSkin(f);d+="<div class = 'kcell kwt100 "+e+"' "+(a.wType=="Popup"?style="'"+$KW.skins.getChildMarginAsPaddingSkin(f)+"'":"")+">";d+=$KW[b]&&$KW[b].render(f,c);d+="</div></div></div>"}return d},render:function(h){var l="";var o=h.id.trim();this.createFormSkeleton(h);var i=h.wType=="Form"?true:false;var e,c,g,n;if($KG.transitAll){e=$KU.getElementById(o+"_header");g=$KU.getElementById(o+"_footer")}else{e=$KU.getElementById("header_container");g=$KU.getElementById("footer_container")}c=$KU.getElementById(o);i&&(n=$KU.getElementById("appmenu_container"));var d=this.generateHeader(h,"header");if($KG.__previousForm){var k=$KG.__previousForm.id+"_hint";var m=document.getElementById(k);if(m){document.body.removeChild(m)}}var j=this.generateForm(h);c.innerHTML=j;var b=this.generateHeader(h,"footer");g.innerHTML=b;if(i){var a=this.generateAppmenu(h);n.innerHTML=a;var f=$KU.getElementById("konyappmenudiv");if(f&&!$KG.relativeScroll&&$KU.isIOS7){f.style.position="fixed"}}if($KW.Map&&$KW.Map.isMainContaineraVailable==false){$KW.Map.loadMapScripts()}e.innerHTML=d;(d&&h.header&&!$KG.transitAll)&&this.initializeTouchWidgets(h.header);(b&&h.footer&&!$KG.transitAll)&&this.initializeTouchWidgets(h.footer);if(i){document.title=($KI.i18n&&$KI.i18n.getI18nTitle(h))||$KG.apptitle||$KG.appid;if(!$KG.needScroller&&!$KU.isBlackBerryNTH){document.body.className=h.skin||""}if(($KU.isWindowsPhone||$KU.isWindowsTablet)&&!$KU.nativeScroll){document.documentElement.style.msTouchAction="none"}else{document.documentElement.style.msTouchAction="auto"}}},createFormSkeleton:function(i){var k="";var b="";var l=i.id;var c=document.getElementById("__MainContainer");var j;var j=i.wType=="Form"?true:false;var h;if($KU.isBlackBerryNTH){h=i.skin||""}else{h="absoluteContainer"}h+=" hidden "+(!j?"popupcontainer popupmain":"");if(!j){var m=parseInt(i.containerheight,10);var e=$KW.skins.getMarPadAdjustedContainerWeightSkin(i).substr(3);if(e!=100){var f=(window.innerWidth||document.body.clientWidth)*e/(2*100);b+="left:50%;margin-left:-"+f+"px;width:"+e+"% !important;"}if(m!=100){var d=(window.innerHeight||document.body.clientHeight)*m/(2*100);b+="top:50%;margin-top:-"+d+"px;height:"+m+"% !important"}}if($KG.transitAll){k+="<div id='"+i.id+"_container' class='"+h+"'"+(!j&&!i.ismodal?"style='"+b+"'":"")+">";if(!j){var g=1-(i.transparencybehindthepopup/100);var n=(i.ismodal==true&&i.popupbgcolor)?"background-color:"+i.popupbgcolor:"";k+="<div id='__popuplayer' style='opacity:"+g+";"+n+"'"+(i.ismodal==false&&!(i.ptran||i.ptranOut)&&i.context?"":" class='absoluteContainer popuplayer'")+"></div>";if(!i.ismodal){b="z-index:8"}k+="<div id='"+i.id+"_group' class='absoluteContainer' style='"+b+"'></div>"}k+="</div>";var a=document.createElement("div");a.innerHTML=k;c.appendChild(a.childNodes[0])}if(!i.dockableheader&&!$KG.relativeScroll){this.generateScroller(i)}this.generateHeaderWrapper(i,"header");if(i.dockableheader==true&&!$KG.relativeScroll){-this.generateScroller(i)}this.generateFormWrapper(i);this.generateHeaderWrapper(i,"footer");j&&this.generateAppmenuWrapper(i)},generateHeaderWrapper:function(e,g){var f=e.wType=="Form"?true:false;if($KG.relativeScroll||$KG.useMixedScroll){var b=$KU.getElementById(g+"_container");if(b){if(!$KG.useMixedScroll){return}else{b.parentNode.removeChild(b)}}}var i=e.id;var c=true;if((g=="header"&&!e.dockableheader)||(g=="footer"&&!e.dockablefooter)){c=false}var d=g+"_scroller";if($KG.stickyScroll||$KG.relativeScroll||!c||$KG.nativeScroll){d+=" relativePos"}else{d+=" absolutePos"}var a=document.createElement("div");a.setAttribute("id",$KG.transitAll?i+"_"+g:g+"_container");a.setAttribute("kformname",i);a.className=d;var h;if(!f){h=document.getElementById(i+"_group")}else{if(c){h=document.getElementById($KG.transitAll?i+"_container":"__MainContainer")}else{h=document.getElementById(i+"_scrollee")}}if($KG.relativeScroll){h=document.getElementById("__MainContainer")}h.appendChild(a)},generateScroller:function(a){var e=style="";var f=a.id;var d=a.skin||"";var b=a.wType=="Form"?true:false;if(!$KG.transitAll){d=($KG.needScroller)?(d+" hidden"):""}else{e+="<div  id='"+f+"_wrapper'>"}if($KU.isAndroid&&($KG.appmode==constants.APPLICATION_MODE_HYBRID||$KG.appmode==constants.APPLICATION_MODE_WRAPPER)){style="style='overflow:visible;'"}if($KG.needScroller){e+="<div  id='"+f+"_scroller' class='form_scroller "+d+"' kwidgettype='KFormScroller' name='touchcontainer_KScroller' widgetType='form' swipeDirection ='vertical'"+style+(!b?" kformname='"+f+"'":"")+"><div id='"+f+"_scrollee' class='form_scrollee' kwidgettype='KTouchscrollee'></div></div>"}if($KG.transitAll){e+="</div>"}var g=document.createElement("div");g.innerHTML=e;var c;if(!$KG.transitAll){if($KG.needScroller){c=document.getElementById(f+"_scrollee")}}if(!b){c=document.getElementById(f+"_group")}else{c=document.getElementById($KG.transitAll?f+"_container":"__MainContainer")}c.appendChild(g.childNodes[0])},generateFormWrapper:function(f){var h="";var i=f.id;var g=f.wType=="Form"?true:false;var c="style='border:none;"+$KW.skins.getPaddingSkin(f)+";'";var a="";if(!$KG.needScroller){a="absolutePos"}if($KG.nativeScroll||$KG.relativeScroll){a="form_nativeScroller"}var e="class='kwt100 "+a+"'";if(g){h+="<form id='"+i+"' action='javascript:;' "+e+" "+c+"></form>"}else{h+="<form id='"+i+"' action='javascript:;' class='kwt100' style='z-index:9;"+$KW.skins.getPaddingSkin(f)+((!f.context||!f.context.dockable)?"xmax-height:80%;xoverflow:auto;xposition: absolute;":"overflow-x:hidden;overflow-y:auto;xposition:relative;")+""+(!f.skin?"background-color:white":"")+"'>"}var b=document.createElement("div");b.innerHTML=h;if($KG.needScroller){formContainer=document.getElementById(i+"_scrollee")}else{formContainer=document.getElementById($KG.transitAll?i+"_wrapper":"__MainContainer")}var d=document.getElementsByTagName("form");if($KG.relativeScroll&&d[0]){formContainer=d[0];formContainer.insertAdjacentElement("afterEnd",b.childNodes[0])}else{formContainer.appendChild(b.childNodes[0])}},generateAppmenuWrapper:function(a){var e=document.getElementById("appmenu_container");if(e){e.parentNode.removeChild(e)}var b=document.getElementById("appmenumore_container");if(b){b.parentNode.removeChild(b)}var d=document.createElement("div");d.id="appmenu_container";var c;if(!a.dockableappmenu&&!$KG.relativeScroll){c=document.getElementById(a.id+"_scrollee")}else{c=document.getElementById("__MainContainer")}c.appendChild(d)},generateForm:function(b){var d="";if(b.children){var a=$KU.getScreenLevelWidgetModel(b);for(var c=0;c<b.children.length;c++){if(a){d=$KW.Form.generateWidget(b,a);break}if(b[b.children[c]]){d+=$KW.Form.generateWidget(b,b[b.children[c]])}}}return d},generateHeader:function(a,c){var d="";var b=a[c];if(b){return this.generateTemplate(b,c)}else{return""}},generateTemplate:function(b,e,d){var a=kony.model.getWidgetModel(b)||b;var f="",d=d||new $KW.WidgetGenerationContext(a.id),g;if(a.children){if(d&&d.template_generator&&typeof d.template_generator=="object"){return $KW[d.template_generator.wType].render(a,d)}for(var c=IndexJL;c<a.children.length;c++){g=a[a.children[c]];d.setTopLevelBox(true);f+=$KW[g.wType].render(g,d)}}return f},checkBackwardCompatibility:function(a){var b=a.wType;if((a.dockableheader==undefined&&a.header)||$KG.nativeScroll){a.dockableheader=true}if((a.dockablefooter==undefined&&a.footer)||$KG.nativeScroll){a.dockablefooter=true}if(b&&((a.dockableappmenu==undefined&&a.needappmenu)||$KG.nativeScroll)){a.dockableappmenu=true}if(($KG.useMixedScroll&&a.renderinnative==undefined)||$KG.nativeScroll){a.renderinnative=true}},show:function(a){if($KG.localization&&!$KG.i18nInitialized){$KI.i18n.setdefaultlocale($KG.defaultlocale,null,null,$KW.Form.extendShow(a))}else{$KW.Form.extendShow(a)()}},extendShow:function(a){return function(){function g(r){if($KG.appmode==constants.APPLICATION_MODE_HYBRID){if(internal&&(r.type==constants.FORM_TYPE_NATIVE)){kony.print("checkformmode: nativeformid : "+r.id);internal.shownativeform(r.id);return false}else{if(internal&&(r.type==constants.FORM_TYPE_DYNAMIC)){kony.print("checkformmode: dynamicformid : "+r.id);internal.showdynamicform(r.id);return false}else{if(r.type==constants.FORM_TYPE_STATIC){kony.print("------shell status: "+internal.isshellinbackground());if(internal&&internal.isshellinbackground&&internal.isshellinbackground()){kony.print("checkformmode: shellinbackground for form : "+r.id);r.callspaform=true;if(r.isfromBrowserBack){r.callspaform=false}}kony.print("checkformmode: shellinforeground for form : "+r.id);return true}}kony.print("checkformmode: Invalid Form Type");return false}}else{return true}}if(g(a)){$KW.Form.checkBackwardCompatibility(a);$KU.createa11yDynamicElement();if(a.enabledforidletimeout&&$KG.__idletimeout&&$KG.__idletimeout.expired&&$KG.__idletimeout.enabled){$KG.__idletimeout.cb&&$KG.__idletimeout.cb(a);$KG.__idletimeout.cb=null;$KG.__idletimeout.expired=false;$KG.__idletimeout.enabled=false;return}if($KG.__currentForm){$KW.Popup&&$KW.Popup.dismiss(null,true);$KW.unLoadWidget();var d=$KW.Calendar&&$KW.Calendar.Popupview.calObj;if(d){d.closeCalendar(null,true)}}if($KG.localization&&!a.initialized){}var b=$KG.__currentForm;if(b&&b.onhide&&b.id!=a.id){var n=$KU.returnEventReference(b.onhide);n&&n.call(a,a)}if(a.preshow){var f=$KU.returnEventReference(a.preshow);f&&f.call(a,a)}if($KG.__currentForm){$KG.__previousForm=$KG.__currentForm}var c=false;$KG.__currentForm=a;var q=$KG.__previousForm;if(q&&q.id==a.id){c=true}if(!c){if($KG.localization){$KI.i18n.translateFormModel(a);var j=a.header;if(j){$KI.i18n.translateFormModel(window[j])}var o=a.footer;if(o){$KI.i18n.translateFormModel(window[o])}}if(q){if(q.retainscrollposition){var m=$KG[q.id+"_scroller"];if(m){q.__y=m.y}else{q.__y=document.body.scrollTop||document.documentElement.scrollTop}}$KW.Form.destroyTouchWidgets($KG.transitAll?(q.id+"_container"):($KG.needScroller?q.id+"_scroller":q.id))}if($KG.useMixedScroll){if(a.renderinnative&&((!a.dockableheader&&!a.dockablefooter&&!(a.needappmenu&&a.dockableappmenu))||(!a.header&&!a.footer&&!($KG.__appmenu&&a.needappmenu)))){$KG.needScroller=false;$KG.relativeScroll=true;$KG.transitAll=false}else{$KG.needScroller=true;$KG.relativeScroll=false;$KG.transitAll=true}}var p=$KG.transitAll?(a.id+"_container"):($KG.needScroller?a.id+"_scroller":a.id);$KW.Form.render(a);$KW.Form.formRendered(a.id);$KW.Scroller.initializeFormScroller(p);$KW.Utils.initializeGestures(a);$KW.Utils.initializeTemplateGestures();$KW.Form.applyTransition($KG.__previousForm,a);if(!kony.system.activity.hasActivity()){$KW.Utils.removeBlockUISkin();$KW.unLoadWidget()}if(kony.constants.APPSTATE==0){kony.constants.APPSTATE=1;kony.events.registerDocumentEvents()}}else{var p=$KG.transitAll?(a.id+"_container"):($KG.needScroller?a.id+"_scroller":a.id);$KW.Scroller.destroyFormScroller(p);$KW.Scroller.initializeFormScroller(p);if($KU.isWindowsPhone&&$KU.isIE9){window.scrollTo(0,0)}else{if($KG.relativeScroll){window.scrollTo(0,1)}}if(a.postshow){var l=$KU.returnEventReference(a.postshow);l&&l.call(a,a)}}$KW.Form.accessibilityTitleCall(a);var e=document.querySelectorAll('[kwidgettype="PickerView"]');for(var i=0;i<e.length;i++){var h=$KU.getModelByNode(e[i]);var k=h[e[i].id];if(k&&k.registerEvents){k.picker=document.getElementById(e[i].id);k.picker&&k.registerEvents(k);if(h.selectedkeys){k.setSelectedKeys(h.selectedkeys);h.selectedkeyvalues=k.getSelectedKeyValues()}}}$KW.TPW.renderWidget(a.id);if(a.callspaform){kony.print("@@@@ invoking internal.showspaform : "+a.id);internal.showspaform(a.id);a.isfromBrowserBack=false;a.callspaform=false}a.initialized=true}}},accessibilityTitleCall:function(a,b){var d=a.accessibilityConfig;var c=d?d.a11yLabel:"";c&&$KU.changea11yDynamicElement(c)},applyTransition:function(g,k){var b,i;var j=$KG.needScroller;var e=$KG.needScroller&&g;if($KG.useMixedScroll){g&&(b=$KU.getElementById(g.id+"_container")||$KU.getElementById(g.id));i=$KU.getElementById(k.id+"_container")||$KU.getElementById(k.id);j=k.__scroller;e=g&&g.__scroller}else{if(!$KG.transitAll){b=g&&$KU.getElementById(g.id);i=$KU.getElementById(k.id);b&&(b=e?b.parentNode.parentNode:b);i=j?i.parentNode.parentNode:i}else{b=g&&$KU.getElementById(g.id+"_container");i=$KU.getElementById(k.id+"_container")}}var a,d;a=(g&&g.outtransitionconfig)?g.outtransitionconfig.formTransition||g.outtransitionconfig.formtransition:"";d=(k.intransitionconfig)?k.intransitionconfig.formTransition||k.intransitionconfig.formtransition:"";if(!$KG.disableTransition&&((d&&d.toLowerCase()!=="none")||(a&&a.toLowerCase()!=="none"))){var f,c;if(!d||d.toLowerCase()=="none"){c=$KW.formTransitionsMatrix[a]}else{c=$KW.formTransitionsMatrix[d]}if(!a||a.toLowerCase()=="none"){f=$KW.formEndTransitionsMatrix[d]}else{f=$KW.formEndTransitionsMatrix[a]}if(b){b.style.zIndex=1}if(i){i.style.zIndex=2;var h=(kony.appinit.isFirefox||kony.appinit.isIE10)?"animationend":(vendor+"AnimationEnd");k.__ev=function(o,p,l,m,n){return function(q){if(!q){q=window.event}l.__ev="";if(q.type==n){kony.events.removeEventListener(p,q.type,arguments.callee);this.style[vendor+"AnimationName"]=""}$KW.Form.endTransition(o,p,l,m)}}(b,i,k,g,h);kony.events.addEventListener(i,h,k.__ev);if(b){b.style[vendor+"AnimationDuration"]="0.5s";b.style[vendor+"AnimationName"]=f}i.style[vendor+"AnimationDuration"]="0.5s";i.style[vendor+"AnimationName"]=c;$KU.removeClassName(i,"hidden");i.style.display=""}}else{$KU.removeClassName(i,"hidden");i.style.display="";this.endTransition(b,i,k,g)}},endTransition:function(a,h,j,f){if(a){if(f.__ev){f.__ev()}a.style.display="none";clearInterval(f.scrollerTimer);var c=$KU.getElementById("__MainContainer");c.removeChild(a)}var i=$KG.transitAll?(j.id+"_container"):($KG.needScroller?j.id+"_scroller":j.id);$KW.Form.initializeTouchWidgets(i,true);var e=document.getElementsByName("map_canvas")[0];var d=$KG.mapScriptLoaded;if(e&&d){$KW.Map.setUpInteractiveCanvasMap()}if(j.retainscrollposition){var b=$KG[j.id+"_scroller"];if(b){b.scrollTo(0,j.__y||1)}else{if($KU.isWindowsPhone&&$KU.isIE9){window.scrollTo(0,j.__y||0)}else{window.scrollTo(0,j.__y||1)}}}else{if($KG.nativeScroll){window.scrollTo(0,0)}}if(j.postshow){var g=$KU.returnEventReference(j.postshow);g&&g.call(j,j)}},};
$KW.Appmenu={focusIndex:"",initialize:function(){kony.events.addEvent("click","Appmenu",this.eventHandler)},updateView:function(e,d,c,b,a){},render:function(widgetID,widgetGenerationContext){var appmenuWidgetModel=$KG.__appmenu;var appmenuData=appmenuWidgetModel.data;var totalItems=appmenuWidgetModel.data.length;var moreExists=false;var count=0;for(var i=IndexJL;i<appmenuData.length;i++){if(appmenuData[i][IndexJL+4]){count++}}var widgetWeight="";var weightofItem=25;if((count+IndexJL)>4){moreExists=true;widgetWeight="kwt"+(100/5);weightofItem=Math.floor(100/5)}else{widgetWeight="kwt"+(100/count);weightofItem=Math.floor(100/count)}weightofItem=weightofItem+"%";var htmlString="";if(!widgetGenerationContext){var className="";if($KU.isTablet||$KU.isMob){className="appmenu_scroller";var formModel=$KG.__currentForm;if($KG.stickyScroll||$KG.relativeScroll||formModel.dockableappmenu===false){className+=" relativePos"}else{className+=" absolutePos"}}htmlString+="<div id='konyappmenudiv'  class='"+className+"'>"}htmlString+="<div class='kbasemargin kwt100 ktable' style='table-layout:fixed;' ><div class='kwt100 krow'>";if(moreExists){totalItems=IndexJL+4}var nxtIndex=0;var focusIndex=$KW.Appmenu.focusIndex;var appmenuSkin;for(var i=IndexJL,cnt=IndexJL-1;i<appmenuData.length;i++){if(focusIndex!==""&&focusIndex===i&&appmenuWidgetModel.focusskin){appmenuSkin=appmenuWidgetModel.focusskin||""}else{appmenuSkin=appmenuWidgetModel.skin||""}if(focusIndex!==""&&focusIndex===i&&appmenuWidgetModel.focusskin){appmenuSkin=appmenuWidgetModel.focusskin||""}else{appmenuSkin=appmenuWidgetModel.skin||""}if(appmenuData[i][IndexJL+4]){cnt++;var closure="";var label=appmenuData[i][1+IndexJL]||"";var image=$KU.getImageURL(appmenuData[i][2+IndexJL])||"";if($KG.localization&&label.toLowerCase().indexOf("i18n.getlocalizedstring")!=-1){label=eval(label)||""}htmlString+="<div style='width:"+weightofItem+";' class='"+appmenuSkin+" middlecenteralign kcell' index='"+i+"'><a id='"+appmenuData[i][IndexJL]+"' "+closure+" href='#' kwidgettype='Appmenu' event='yes' index='"+i+"' style='text-decoration:none;'><div>";if(image){htmlString+="<img  style='border:none;' src='"+image+"' width='30px' height='30px' align='middle'/>"}htmlString+="</div><div><label class='"+appmenuSkin+"' style='background:inherit; border: none; white-space:pre-wrap; 	word-wrap:break-word; '>"+label+"</label></div></a></div>";if(moreExists&&cnt==3){nxtIndex=i+1;break}}}if(moreExists){appmenuSkin=appmenuWidgetModel.skin||"";htmlString+="<div id='konyappmenudiv_more' class='"+appmenuSkin+" middlecenteralign  kcell' style='width:"+weightofItem+";'><a id='appmenumore' href='#' kwidgettype='Appmenu' event='yes' index='5' style='text-decoration:none;'><div>";htmlString+="<img  style='border:none;' src='"+$KU.getImageURL("appmore.png")+"' width='30px' height='30px' align='middle' kwidgettype='Appmenu'/></div><div><label class='"+appmenuSkin+"' style='background:inherit; border: none;' kwidgettype='Appmenu'>more</label></div></a></div>";var moreContainerClass=$KG.nativeScroll?"position:fixed":"height:auto;top:0px;";var moreHtmlString="<div id='appmenumore_container' class='popupcontainer absoluteContainer' dummy='' style='display: none;z-index: 11; "+moreContainerClass+"'><div id='__popuplayer' style='opacity:0;filter:alpha(opacity=0);' class='popuplayer absoluteContainer' dummy=''></div><div id='more' class='frm' style='z-index: 9; position: absolute; padding: 0%; right:0%;bottom:0px; -webkit-animation: 1s;' dummy=''><div id='containerLayer' style='display:table;' class='container'>";for(var i=nxtIndex;i<appmenuData.length;i++){if(appmenuData[i][IndexJL+4]){var closure=appmenuData[i][IndexJL+3];if(closure){closure="closure='"+closure+"'"}else{closure=""}var label=appmenuData[i][1+IndexJL]||"";var image=$KU.getImageURL(appmenuData[i][2+IndexJL])||"";if($KG.localization&&label.toLowerCase().indexOf("i18n.getlocalizedstring")!=-1){label=eval(label)||""}moreHtmlString+="<div class='kwt100 krow "+appmenuSkin+"'><div class='"+appmenuSkin+" middlecenteralign kcell' index ='"+i+"'><a id='"+appmenuData[i][IndexJL]+"' "+closure+" href='#' kwidgettype='Appmenu' event='yes' index='"+i+"' style='text-decoration: none;'><div style='padding:2px;'>";if(image){moreHtmlString+="<img  style='border:none;' src='"+$KU.getImageURL(appmenuData[i][2+IndexJL])+"'  width='30px' height='30px' align='middle' kwidgettype='Appmenu'/>"}moreHtmlString+="<label class='"+appmenuSkin+"' style='background:inherit; border: none; white-space:pre-wrap; 	word-wrap:break-word;margin-left:5px;' kwidgettype='Appmenu' index='"+i+"'>"+label+"</label></div></a></div></div>"}}moreHtmlString+="</div></div>";var mainContainer=document.getElementById("__MainContainer");var appmoreCont=document.getElementById("appmenumore_container");if(appmoreCont){appmoreCont.parentElement.removeChild(appmoreCont)}var popupContainer=document.createElement("div");popupContainer.innerHTML=moreHtmlString;mainContainer.appendChild(popupContainer.firstChild)}htmlString+="</div></div></div>";return htmlString},eventHandler:function(n,t,c){var a=$KG.__appmenu;var m=a.data;var d=$KU.getParentByTagName(t,"a");var f;var g=d.id;if(g=="appmenumore"){f=$KW.Appmenu.showmoreappmenuitems}else{$KW.Appmenu.hidemoreappmenuitems();var e=d.parentNode.getAttribute("index");f=m[e][3+IndexJL]}if(a.focusskin){if($KW.Appmenu.focusIndex!=""){var s=document.querySelectorAll("div."+a.focusskin+", a label."+a.focusskin);var p=s.length;if(!(d.id=="appmenumore")){for(var o=p-1;o>=0;o--){if(s[o].tagName.toLowerCase()=="label"){s[o].className=a.skin}else{s[o].className=a.skin+" middlecenteralign kcell"}}}}$KW.Appmenu.focusIndex=e;if(!(d.id=="appmenumore")){d.parentNode.className=a.focusskin+" middlecenteralign kcell";var q=document.querySelectorAll("#"+d.id+"  label");if(q){q[0].className=a.focusskin}}}if($KU.getPlatformVersion("windowsphone")=="7.5"){var b=document.getElementById("appmenumore_container");if(b){var h=document.getElementById("__MainContainer");var u=document.getElementById("konyappmenudiv").offsetHeight;var j=((h.offsetHeight)-(u))+"px";b.style.height=j}}var l=$KU.returnEventReference(f);l&&l.call(a,a);var r=$KW.Calendar&&$KW.Calendar.Popupview.calObj;$KW.Calendar&&r&&r.dialog.hide()},setappmenu:function(f,e,a){var d=$KG.__appmenu;for(var c=IndexJL;c<f.length;c++){f[c][4+IndexJL]=true}if(!d){var b=new Object();b.data=f;b.skin=e;b.focusskin=a;$KG.__appmenu=b}else{d.data=f;d.skin=e;d.focusskin=a}},setappmenufocusindex:function(c){var f=$KG.__appmenu;var e=$KU.getElementById("konyappmenudiv");var g=f.data;if(f.focusskin){var j=document.querySelectorAll("div."+f.focusskin+", a label."+f.focusskin);var h=j.length;for(var a=h-1;a>=0;a--){if(j[a].tagName.toLowerCase()=="label"){j[a].className=f.skin}else{j[a].className=f.skin+" middlecenteralign kcell"}}var d=document.querySelectorAll("div a[index='"+(c-IndexJL)+"']")[0];if(d){d.parentNode.className=f.focusskin+" middlecenteralign kcell"}var b=document.querySelectorAll("#"+d.id+"  label");if(b){b[0].className=f.focusskin}$KW.Appmenu.focusIndex=c-IndexJL}},hideappmenuitems:function(g){var e=$KG.__appmenu;var d=e.data;for(var c=IndexJL;c<(g.length);c++){for(var b=IndexJL;b<e.data.length;b++){if(d[b][IndexJL]==g[c]){d[b][4+IndexJL]=false}}}var a=$KU.getElementById("konyappmenudiv");var f=new $KW.WidgetGenerationContext();f.setdynamically=true;a&&(a.innerHTML=$KW.Appmenu.render("__appmenu",f))},showappmenuitems:function(c){var h=$KG.__appmenu;var m=h.data;for(var e=IndexJL;e<h.data.length;e++){var a=false;for(var d=IndexJL;d<c.length;d++){if(m[e][IndexJL]==c[d]){a=true;break}}m[e][4+IndexJL]=a}var f=$KU.getElementById("konyappmenudiv");var b=new $KW.WidgetGenerationContext();b.setdynamically=true;if(f){f.innerHTML=$KW.Appmenu.render("__appmenu",b)}else{var k=$KU.getElementById("appmenu_container");if(!k){return}var l=document.createElement("DIV");var g="appmenu_scroller";if($KG.stickyScroll||$KG.relativeScroll){g+=" relativePos"}else{g+=" absolutePos"}l.className=g;l.setAttribute("id","konyappmenudiv");l.innerHTML=$KW.Appmenu.render("__appmenu",b);k.appendChild(l)}},removeappmenuitem:function(f){var d=$KG.__appmenu;var c=d.data;for(var b=IndexJL;b<d.data.length;b++){if(c[b][IndexJL]==f){c.splice(b,1);if($KW.Appmenu.focusIndex==b){$KW.Appmenu.focusIndex=""}break}}var a=$KU.getElementById("konyappmenudiv");var e=new $KW.WidgetGenerationContext();e.setdynamically=true;a.innerHTML=$KW.Appmenu.render("__appmenu",e)},addappmenuitem:function(g,b){var e=$KG.__appmenu;var c=e.data;var d=false;for(i=IndexJL;i<(c.length);i++){if(c[i][IndexJL]==g[IndexJL]){d=true;break}}if(d){return}g[4+IndexJL]=true;c.splice(b,0,g);var a=$KU.getElementById("konyappmenudiv");var f=new $KW.WidgetGenerationContext();f.setdynamically=true;a.innerHTML=$KW.Appmenu.render("__appmenu",f)},showmoreappmenuitems:function(){var b=document.getElementById("appmenumore_container");if(b){var c=document.getElementById("konyappmenudiv");var d=parseInt($KU.getStyle(c,"padding-top"))||0;var e=parseInt($KU.getStyle(c,"margin-top"))||0;var a=document.getElementById("konyappmenudiv").offsetHeight;a=a-(e+d);b.style.bottom=a+"px";if(b.style.display=="none"){b.style.display="block"}else{if(b.style.display=="block"){b.style.display="none"}}}},hidemoreappmenuitems:function(){var a=document.getElementById("appmenumore_container");if(a){a.style.display="none"}},createappmenu:function(d,f,c,e){for(var b=IndexJL;b<f.length;b++){f[b][4+IndexJL]=true}var a=new Object();a.data=f;a.skin=c;a.focusskin=a.focusSkin=e;if($KG.__appmenu){$KG.__appmenu[d]=a}else{$KG.__appmenu=a}},setcurrentappmenu:function(b){if($KG.__appmenu[b]){$KG.__appmenu=$KG.__appmenu[b]}else{$KG.__appmenu=$KG.__appmenu}var f=$KG.__appmenu;var g=f.data;var d=$KU.getElementById("konyappmenudiv");var c=new $KW.WidgetGenerationContext();c.setdynamically=true;if(d){d.innerHTML=$KW.Appmenu.render("__appmenu",c)}else{var h=$KU.getElementById("appmenu_container");if(!h){return}var j=document.createElement("DIV");var e="appmenu_scroller";if($KG.stickyScroll||$KG.relativeScroll){e+=" relativePos"}else{e+=" absolutePos"}j.className=e;j.setAttribute("id","konyappmenudiv");j.innerHTML=$KW.Appmenu.render("__appmenu",c);if($KG.__currentForm.needappmenu){h.appendChild(j)}var a=$KU.returnEventReference(g[IndexJL][3+IndexJL]);a&&a.call(f,f)}$KG.currappmenu=b},getcurrentappmenu:function(){return $KG.currappmenu},setappmenufocusbyid:function(d){var b=$KG.__appmenu.data;var a;var c=false;for(a=IndexJL;a<(b.length);a++){if(b[a][IndexJL]==d){c=true;break}}if(c){$KW.Appmenu.setappmenufocusindex(a)}},addappmenuitemat:function(c,a,b){$KW.Appmenu.addappmenuitem(b,a);$KW.Appmenu.focusIndex=""},removeappmenuitemat:function(c,a){var b=$KG.__appmenu.data;$KW.Appmenu.removeappmenuitem(b[a][IndexJL]);if($KW.Appmenu.focusIndex==a){$KW.Appmenu.focusIndex=""}}};
$KW.Label={initialize:function(){kony.events.addEvent("click","Label",this.eventHandler)},updateView:function(e,c,b,a){var d=$KU.getNodeByModel(e);if(!d){return}switch(c){case"text":if(!$KW.Utils.belongsToSegment(d)){d.childNodes[0].innerHTML=b}break}},render:function(f,a){var c=$KW.skins.getWidgetSkinList(f,a);var b=$KW.skins.getContentAlignment(f);var d="";d="<div"+$KW.Utils.getBaseHtml(f,a)+"class = '"+c+"' style='text-align:"+b+";"+$KW.skins.getMarginSkin(f,a)+$KW.skins.getPaddingSkin(f);if(a.ispercent===false){d+="display:inline-block;"+(a.layoutDir?("float:"+a.layoutDir):"")}d+="'";var e=$KU.getAccessibilityValues(f);d+="><label  "+e+" style='white-space:pre-wrap;word-wrap:break-word;text-align:"+b+";'>"+f.text+"</label></div>";return d},eventHandler:function(b,d){var c=$KU.getModelByNode(d),a=d.getAttribute("kcontainerID");if(a){$KW.Utils.updateContainerData(c,d,true)}else{kony.events.executeBoxEvent(c)}}};
$KW.Button={initialize:function(){kony.events.addEvent("click","Button",this.eventHandler)},updateView:function(e,c,b,a){var d=$KU.getNodeByModel(e);if(!d){return}switch(c){case"text":if($KU.isWindowsTablet){d.innerHTML=b}else{d.value=b}break}},render:function(e,a){if(!e.buiskin){e.buiskin=e.blockeduiskin}var b=$KW.skins.getWidgetSkinList(e,a);var d="";var c=e.skin||"";if($KU.isWindowsTablet){d="<button"+$KW.Utils.getBaseHtml(e,a)+"type='button' class = '"+b+"' style='text-align:"+$KW.skins.getContentAlignment(e)+";white-space:normal;word-wrap:break-word;"+$KW.skins.getMarginSkin(e,a)+$KW.skins.getPaddingSkin(e)+(a.layoutDir&&a.ispercent===false?";float:"+a.layoutDir:"")+"' kprogressskin='"+c+"'>"+(e.displaytext.toString()=="true"?e.text:"")+"</button>"}else{d="<input"+$KW.Utils.getBaseHtml(e,a)+"type='button' class = '"+b+"' style='text-align:"+$KW.skins.getContentAlignment(e)+";white-space:normal;word-wrap:break-word;"+$KW.skins.getMarginSkin(e,a)+$KW.skins.getPaddingSkin(e)+(a.layoutDir&&a.ispercent===false?";float:"+a.layoutDir:"")+"'"+(e.displaytext.toString()=="true"?" value='"+e.text+"'":"")+" kprogressskin='"+c+"'/>"}return d},eventHandler:function(b,f){var e=$KU.getModelByNode(f),a=f.getAttribute("kcontainerID");if(a){$KW.Utils.updateContainerData(e,f,true)}else{if(e.onclick){var c=$KU.returnEventReference(e.onclick);if(c&&e.blockeduiskin){$KW.Utils.applyBlockUISkin(e)}f.setAttribute("selected","progress");var d=new kony.events.KUnloadEvent(e.pf,e.id,"Button",$KW.Button.unloadEventHandler);$KG[kony.constants.SELECTED_ITEM]=d;c.call(e,e)}}}};
$KW.Phone={initialize:function(){kony.events.addEvent("click","Phone",this.eventHandler)},updateView:function(f,c,b,a){var e=$KU.getNodeByModel(f);if(!e){return}switch(c){case"text":if(e.childNodes[0]){var d=e.childNodes[0];if(!f.image){d.innerHTML=b}d.href="tel:"+b}break}},render:function(a,b){var c=$KW.skins.getWidgetSkinList(a,b);var e=a.skin||"";var d="<div"+$KW.Utils.getBaseHtml(a,b)+"class = '"+c+"'";if(b.ispercent===false){d+=" style='display:inline-block;' "}d+="><a class='"+e+"' style='border:none;min-height:28px;' href='tel:"+a.text+"' >";if(!a.image){d+=a.text}else{var f=$KU.getImageURL(a.image);d+="<img alt='Call' src='"+f+"' />"}d+="</a></div>";return d},eventHandler:function(b,d){var a=$KU.getModelByNode(d);d.getAttribute("kcontainerID")&&$KW.Utils.updateContainerData(a,d,false);var c;if(a.segmentID){c=d.childNodes[0].innerText||""}else{c=a.text}c=c.replace(/[-\s]+/g,"");if(isNaN(c)){c=$KW.Utils.convertPhoneAlphabetToNumber(c)}$KI.phone.dial(c)}};
$KW.TextField={goeventTriggerd:null,focusedTextfieldId:null,initialize:function(){kony.events.addEvent("keydown","TextField",this.textfieldGoButtonEventHandler);kony.events.addEvent("keyup","TextField",this.textfieldKeyUpEventHandler);kony.events.addEvent("onorientationchange","TextField",this.adjustHeight);kony.events.addEvent("change","TextField",this.eventHandler)},initializeView:function(a){this.adjustHeight(a);setTimeout(function(){$KW.TextField.initPasswordField(a)},1)},initPasswordField:function(d){var c=document.querySelectorAll("#"+d+" input[name='konypassword']");for(var b=0;b<c.length;b++){var a=c[b]}},updateView:function(c,f,b,d){var e=$KU.getNodeByModel(c);if(!e){return}switch(f){case"text":if(b){e.value=b}else{e.value="";if(($KU.isBlackBerry||$KU.isBlackBerryNTH)&&e.getAttribute("type")=="number"){var i=document.activeElement.id;var a=e.id;var h=document.createElement("div");h.innerHTML=this.render(c,{tabpaneID:e.getAttribute("ktabpaneid")});e.parentNode.replaceChild(h.firstChild,e);if(a==i){e=$KU.getNodeByModel(c);e.focus()}}}this.setPlaceholder(c,e);break;case"placeholder":e.setAttribute("placeholder",b);this.setPlaceholder(c,e);break;case"maxtextlength":e.maxLength=b;break;case"pattern":e.setAttribute("pattern",b);break;case"autocapitalize":var g=b;if($KU.isiPhone&&parseInt($KU.getPlatformVersion("iphone"))<=4&&b!=constants.TEXTBOX_AUTO_CAPITALIZE_NONE){g="on"}e.setAttribute("autocapitalize",g);break;case"mode":case"textinputmode":if(b==constants.TEXTBOX_INPUT_MODE_ANY){e.setAttribute("type","text")}else{if(b==constants.TEXTBOX_INPUT_MODE_NUMERIC){e.setAttribute("type","number")}}break;case"securetextentry":if(b){e.setAttribute("type","password")}else{this.updateView(c,"textinputmode",c.textinputmode)}break;case"keyboardtype":case"keyboardstyle":(c.mode!="P")&&e.setAttribute("type",b);break;case"containerheightmode":case"containerheight":case"containerheightreference":if(c.containerheightmode==constants.TEXBOX_DEFAULT_PLATFORM_HEIGHT){$KU.addClassName(e,"kheight");e.style.height=""}else{if(c.containerheightmode==constants.TEXTBOX_FONT_METRICS_DRIVEN_HEIGHT){$KU.removeClassName(e,"kheight");e.style.height=""}else{if(c.containerheightmode==constants.TEXTBOX_CUSTOM_HEIGHT&&c.containerheight&&c.containerheightreference){$KU.removeClassName(e,"kheight");this.adjustBoxDimensions(e.id,true)}}}break;case"name":e.name=b;break}},render:function(m,b){if(typeof m.keyboardtype=="undefined"){m.keyboardtype=m.keyboardstyle}if(typeof m.mode=="undefined"){m.mode=m.textinputmode}if(!m.buiskin){m.buiskin=m.blockeduiskin}var d=$KW.skins.getWidgetSkinList(m,b);if(m.containerheightmode==constants.TEXBOX_DEFAULT_PLATFORM_HEIGHT){d+=" kheight "}var k=b.tabpaneID||"";var g="text";var e=false;switch(m.mode){case constants.TEXTBOX_INPUT_MODE_PASSWORD:g="password";break;case constants.TEXTBOX_INPUT_MODE_NUMERIC:g="number";break;default:g="text"}if(m.securetextentry){g="password"}if(m.keyboardtype&&m.mode!="P"){switch(m.keyboardtype){case constants.TEXTBOX_KEY_BOARD_STYLE_EMAIL:g="email";break;case constants.TEXTBOX_KEY_BOARD_STYLE_URL:g="url";break;case constants.TEXTBOX_KEY_BOARD_STYLE_PHONE_PAD:g="tel";break;case constants.TEXTBOX_KEY_BOARD_STYLE_NUMBER_PAD:g="number";break;case constants.TEXTBOX_KEY_BOARD_STYLE_DECIMAL:g="number";break;case constants.TEXTBOX_VIEW_TYPE_SEARCH_VIEW:g="search";break;default:if($KU.isiPhone&&m.mode=="N"){g="number";e=false}break}}if(m.placeholder&&!m.text&&!kony.utils.placeholderSupported&&g=="number"){g="text";m.__initialMode=constants.TEXTBOX_INPUT_MODE_NUMERIC}var h="";var a=$KW.skins.getMarginSkin(m,b)+$KW.skins.getPaddingSkin(m);a+=";text-align:"+$KW.skins.getContentAlignment(m)+";";a+=$KG.disableViewPortScroll?"pointer-events:none;":"";var j=m.text;var c="";if(j&&j!=""&&(typeof j=="string"||j instanceof String)){c=j.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&rsquo;").replace(/"/g,"&rdquo;")}else{c=j}if(!kony.utils.placeholderSupported&&(m.__initialMode==constants.TEXTBOX_INPUT_MODE_NUMERIC)){c=c||m.placeholder||"";d+=(m.placeholder&&!m.text)?"konyplaceholder ":""}var i=$KU.isiPhone?"<div style='overflow:hidden'>":"";var l=$KU.isiPhone?"</div>":"";h+=i+"<input"+$KW.Utils.getBaseHtml(m,b)+"value='"+c+"' class = '"+d+"'";h+=m.name?" name='"+m.name+"'":"";h+=" autocapitalize='"+m.autocapitalize+"'";h+=m.autocorrect?" autocorrect='on'":" autocorrect='off'";h+=m.autocomplete?" autocomplete='on'":" autocomplete='off'";h+=" type = '"+g+"'";h+=(m.pattern)?" pattern="+m.pattern:"";if((m.keyboardtype=="digitpad"&&m.mode=="P")||e){var f="[0-9]*";h+=" pattern = '"+f+"'"}h+=(m.disabled)?" disabled='true'":"";h+=" onfocus='$KW.TextField.onfocusEventHandler(arguments[0],this)' onblur='$KW.TextField.onblurEventHandler(arguments[0],this)' ";h+=(m.placeholder)?" placeholder='"+m.placeholder+"'":"";h+=(m.maxtextlength)?" maxlength='"+m.maxtextlength+"'":"";h+=" style='"+a+(m.securetextentry?"-"+vendor+"-text-security:disc":"")+"'";h+="/>"+l;return h},textfieldGoButtonEventHandler:function(a,g){var c=$KU.getModelByNode(g);a=a||window.event;if(c.ondone&&(a.keyCode==10||a.keyCode==13)){c.canUpdateUI=false;c.text=g.value;c.canUpdateUI=true;kony.events.preventDefault(a);kony.events.stopPropagation(a);try{if(a.srcElement){a.srcElement.blur()}else{a.target.blur()}}catch(f){}(c.blockeduiskin)&&$KW.Utils.applyBlockUISkin(c);g.getAttribute("kcontainerID")&&$KW.Utils.updateContainerData(c,g,false,true);var d=$KU.returnEventReference(c.ondone);d&&d.call(c,c)}if(a.keyCode==10||a.keyCode==13){if($KU.isAndroid&&a.keyCode==13){g.blur()}$KU.onHideKeypad(c)}var b=$KU.returnEventReference(c.onkeydown);b&&b.call(c,c)},HandleTextFieldFilterData:function(b,a,e){var c=e.getAttribute("id");b.shift();var d=e.value;d=d.ltrim();if(d.length<1){return}if(b.length>0){this.AutoComplete.AutoComplete_Create(c,b,8);this.AutoComplete.AutoComplete_ShowDropdown(c)}},eventHandler:function(a,c){var b=$KU.getModelByNode(c);if(b){b.canUpdateUI=false;b.text=c.value;b.canUpdateUI=true}},textfieldKeyUpEventHandler:function(c,f){var e=$KU.getModelByNode(f),a=$KU.getElementID(f.getAttribute("id"));if(e.text!=f.value){e.canUpdateUI=false;e.text=f.value;e.canUpdateUI=true;var b=$KU.returnEventReference(e.ontextchange);b&&b.call(e,e);if(e.autocomplete&&$KU.isArray(e.filterlist)&&e.filterlist.length>IndexJL){var d=f.value.ltrim();if(d.length>=1){this.HandleTextFieldFilterData(e.filterlist,c,f)}else{this.AutoComplete.AutoComplete_RemoveDivs(e.pf+"_"+a)}}}},onfocusEventHandler:function(a,c){if(($KU.isWindowsPhone||$KU.isWindowsTablet)&&!$KU.nativeScroll){document.documentElement.style.msTouchAction="auto"}if($KU.isAndroid&&c.getAttribute("type")!="number"){setTimeout(function(){$KU.setActiveInput(c)},100)}else{$KU.setActiveInput(c)}var b=$KU.getModelByNode(c);if(!kony.utils.placeholderSupported&&!b.text&&b.placeholder&&(b.__initialMode==constants.TEXTBOX_INPUT_MODE_NUMERIC)){if(c.type=="text"){c.setAttribute("type","number")}c.focus();$KU.removeClassName(c,"konyplaceholder")}var d=$KU.returnEventReference(b.onbeginediting);d&&d.call(b,b)},onblurEventHandler:function(a,d){var c=$KU.getModelByNode(d);if(c&&c.text!=d.value){c.canUpdateUI=false;c.text=d.value;c.canUpdateUI=true}$KW.TextField.setPlaceholder(c,d);if(($KU.isWindowsPhone||$KU.isWindowsTablet)&&!$KU.nativeScroll){document.documentElement.style.msTouchAction="none"}$KU.onHideKeypad(c);var b=$KU.returnEventReference(c.onendediting);b&&b.call(c,c)},setPlaceholder:function(a,b){if(!kony.utils.placeholderSupported&&a.placeholder&&(a.__initialMode==constants.TEXTBOX_INPUT_MODE_NUMERIC)){var c=b.id;if(a.text){if(b.type=="text"){b.setAttribute("type","number");b.value=a.text;$KU.removeClassName(element,"konyplaceholder")}}else{if(b.type=="number"){b.setAttribute("type","text")}b.value=a.placeholder;$KU.addClassName(b,"konyplaceholder")}}},adjustHeight:function(b){var a=$KG.allforms[$KG.__currentForm.id];if(b==a.header||b==a.footer){return}if(!$KG.relativeScroll&&a.dockablefooter){$KW.TextField.adjustBoxDimensions(a.footer);$KW.Scroller.checkDOMChanges(a.id+"_scroller",null,a.footer)}$KW.TextField.adjustBoxDimensions("__MainContainer")},adjustBoxDimensions:function(f,k){var l=k?document.querySelectorAll("#"+f):document.querySelectorAll("#"+f+" input[kwidgettype='TextField']");for(var b=0;b<l.length;b++){var h=$KU.getModelByNode(l[b]);if(h.containerheightmode==constants.TEXTBOX_CUSTOM_HEIGHT){var e=h.containerheight||10;var a=28;if(e>0){if(h.containerheightreference==constants.CONTAINER_HEIGHT_BY_PARENT_WIDTH){var g=$KU.getElementById(h.pf+"_"+h.parent);if(g&&window[h.pf][h.parent].wType=="ScrollBox"){g=$KU.getElementById(h.pf+"_"+h.parent+"_parent")}if(!g){if(l[b].getAttribute("ktabpaneid")){g=$KU.getElementById(h.pf+"_"+l[b].getAttribute("ktabpaneid"))}else{if(window[h.pf].wType=="Popup"){g=document.getElementById(h.pf)}else{g=document.getElementById(h.pf+"_scroller")}}}var j=(g&&g.offsetWidth)||window.innerWidth||document.body.clientWidth;a=Math.round((e*j)/100)}else{if(h.containerheightreference==constants.CONTAINER_HEIGHT_BY_FORM_REFERENCE){var c=document.getElementById(h.pf+"_scroller");var d=(c&&c.offsetHeight)||window.innerHeight||document.body.clientHeight;a=Math.round((e*d)/100)}}}l[b].style.height=a+"px";if(kony.appinit.isIE8){l[b].style[line-height]=a+"px"}}}}};
$KW.ComboBox={initialize:function(){kony.events.addEvent("change","ComboBox",this.eventHandler);kony.events.addEvent("click","ComboBox",this.initializeEvents)},updateView:function(b,g,a,c){var f=$KU.getNodeByModel(b);switch(g){case"masterdatamap":case"masterdata":var e=$KW.Utils.getMasterData(b);b.selectedkey=e.length>1?e[IndexJL][IndexJL]:null;$KW.Utils.setSelectedValueProperty(b,e,"selectedkey");if(f){var j=document.createElement("div");j.innerHTML=this.generateList(b,e,{tabpaneID:f.getAttribute("ktabpaneid")});f.parentNode.replaceChild(j.firstChild,f);$KU.toggleVisibilty(f,e,b)}break;case"selectedkey":if(f){var h=b.selectedkey;b.selectedkey=h?h:f.firstChild.value;if(f.tagName=="SELECT"){f.value=b.selectedkey}else{if(f.tagName=="DIV"){for(var d=1;d<b.masterdata.length;d++){if(b.selectedkey===b.masterdata[d][1]){f.innerText=b.masterdata[d][2];break}}}}}$KW.Utils.setSelectedValueProperty(b,$KW.Utils.getMasterData(b),"selectedkey");break}},render:function(c,a){if(typeof $KW.konyPicker!=="function"||c.view==="popup"){c.view="native"}if(!c.buiskin){c.buiskin=c.blockeduiskin}var b=$KW.Utils.getMasterData(c);b.ispercent=a.ispercent;return this.generateList(c,b,a)},generateList:function(g,c,a){var k="";var e=$KW.skins.getWidgetSkinList(g,a,c)+" kselect";if(!g.view||g.view=="native"){if(c.length>IndexJL){var l=g.selectedkey;g.selectedkey=l?l:((c.length==1)?c[IndexJL][IndexJL]:null);$KW.Utils.setSelectedValueProperty(g,c,"selectedkey")}}if(!g.view||g.view=="native"){k="<select "+(kony.appinit.isIE7||kony.appinit.isIE8?" onchange='$KW.ComboBox.eventHandler(arguments[0],this)'":" ")+$KW.Utils.getBaseHtml(g,a)+"class='"+e+"'"+(g.disabled?" disabled='true'":"")+" style='"+$KW.skins.getMarginSkin(g,a)+$KW.skins.getPaddingSkin(g,a)+"'>";for(var f=IndexJL;f<(c.length);f++){if(c[f][IndexJL]!=null&&c[f][1+IndexJL]!=null){var b=(g.selectedkey==c[f][IndexJL])?"selected":"";var h=$KU.getAccessibilityValues(g,c[f][2+IndexJL],c[f][IndexJL]);k+="<option  "+h+" value='"+c[f][IndexJL]+"' "+b+">"+c[f][1+IndexJL]+"</option>"}}k+="</select>"}else{var m="kselect";m+=(g.skin)?" "+g.skin:" klistbox";k+='<div id="'+g.pf+"_"+g.id+'"'+(a.tabpaneID?' ktabpaneid="'+a.tabpaneID+'"':"")+' kformname="'+g.pf+'" kwidgettype="'+g.wType+'"  class="'+m+" "+e+' idevice kddicon" '+(g.disabled?'disabled="true" ':"")+' style="text-align:left;">';if(g.masterdata){if(!g.selectedkey){g.selectedkey=g.masterdata[0+IndexJL][0+IndexJL];$KW.Utils.setSelectedValueProperty(g,c,"selectedkey");k+=g.masterdata[0+IndexJL][1+IndexJL]}else{for(var j=IndexJL;j<g.masterdata.length;j++){if(g.masterdata[j][0+IndexJL]===g.selectedkey){k+=g.masterdata[j][1+IndexJL];break}}}}k+="</div>"}return k},initializeEvents:function(a,f,c){var e=$KU.getModelByNode(f);if(e){if(f.tagName==="DIV"&&a.type=="click"){var d=$KW.Utils.getMasterData(e);var b=$KG[f.id];config={display:"popup",wheels:[{"":d}]};if(e.view==="spinningWheel"){config.mode="scroller";if(e.viewstyle==="iphone"){config.theme="ios";config.dock=($KU.isiPhone)?"bottom":""}else{if(e.viewstyle==="android"){config.theme="android";config.dock=""}else{if(e.viewstyle==="native"){if($KU.isIDevice){config.theme="ios";config.dock=($KU.isiPhone)?"bottom":""}else{if($KU.isAndroid){config.theme="android";config.dock=""}}}}}}else{if(e.view==="clickPick"){config.mode="clickpick";if(e.viewstyle==="iphone"){config.theme="ios";config.dock=""}else{if(e.viewstyle==="android"){config.theme="android";config.dock=""}else{if(e.viewstyle==="native"){if($KU.isIDevice){config.theme="ios";config.dock=""}else{if($KU.isAndroid){config.theme="android";config.dock=""}}}}}}else{if(e.view==="popup"){if(e.viewstyle==="iphone"){}else{if(e.viewstyle==="android"){}else{if(e.viewstyle==="native"){if($KU.isIDevice){}else{if($KU.isAndroid){}}}}}}}}if(b){b.show()}else{b=new $KW.konyPicker(f.id,config)}}}},eventHandler:function(a,h){var g=$KU.getModelByNode(h);if(g){var c=null;if(h.tagName=="SELECT"){c=h.value}else{if(h.tagName=="DIV"){var f=g.selectedkey;var b=$KG[h.id];if(b){c=b.val}}}g.selectedkey=c;if(h.getAttribute("kcontainerID")){$KW.Utils.updateContainerData(g,h,false,true)}else{var e=$KW.Utils.getMasterData(g);$KW.Utils.setSelectedValueProperty(g,e,"selectedkey");if((g.ondone||g.onselection)&&g.blockeduiskin){$KW.Utils.applyBlockUISkin(g)}var d=$KU.returnEventReference(g.ondone||g.onselection);if(h.tagName=="DIV"&&b&&f!==b.val){d&&d.call(g,g)}else{if(h.tagName=="SELECT"){d&&d.call(g,g)}}}}}};
$KW.konyPicker=function(a,b){if(b.display=="inline"&&b.widgetModel){b.widgetModel[a]=this}else{$KG[a]=this}this.elmId=a;this.settings=b;this.yOrd=null;this.mOrd=null;this.dOrd=null;this.iv={};this.tv={};this.values=null;this.val=null;this.temp=null;this.h=null;this.m=null;this.l=null;this.date=new Date();this.uuid=this.date.getTime();this.move=false;this.target=null;this.start=null;this.stop=null;this.startTime=null;this.endTime=null;this.pos=null;this.plustap=false;this.minustap=false;this.tempRows=null;this.touch=$KU.isTouchSupported;this.START_EVENT=this.touch?"touchstart":"mousedown";this.MOVE_EVENT=this.touch?"touchmove":"mousemove";this.END_EVENT=this.touch?"touchend":"mouseup";this.defaults={width:"",height:40,rows:3,modal:true,display:"popup",dock:"",disabled:false,showOnFocus:true,showValue:true,showLabel:true,wheels:null,theme:"",mode:"scroller",preset:"date",dateFormat:"mm/dd/yy",dateOrder:"mmddy",ampm:true,seconds:false,timeFormat:"hh:ii A",startYear:this.date.getFullYear()-100,endYear:this.date.getFullYear()+1,monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],shortYearCutoff:"+10",monthText:"Month",dayText:"Day",yearText:"Year",hourText:"Hours",minuteText:"Minutes",secText:"Seconds",ampmText:"&nbsp;",setText:"Set",cancelText:"Cancel",btnClass:"dwb",stepHour:1,stepMinute:1,stepSecond:1,beforeShow:function(){},onClose:function(){},onSelect:function(){},onCancel:function(){},formatResult:function(l,e,k){if(!l){return}var g="";for(var h=0;h<l.length;h++){if(k){if(k.settings.display=="popup"){k.picker=document.getElementById(k.elmId+"_picker")}}var j=(k&&k.picker)?k.picker.querySelectorAll("ul"):null;if(j&&j.length){if(!k.preset&&isNaN(parseInt(l[h],10))){l[h]=(j[h].querySelectorAll('li[value="'+l[h]+'"]')[0])?j[h].querySelectorAll('li[value="'+l[h]+'"]')[0].getAttribute("val"):j[h].querySelectorAll("li.val_"+l[h])[0].getAttribute("val")}var f=j[h].querySelectorAll("li");l[h]=parseInt(l[h],10);var c=null;if(k.preset){c=f[l[h]]}else{c=(l[h]==0)?f[l[h]]:f[l[h]-1]}if(c&&typeof c.getAttribute==="function"){if(e){g+=(h>0?" ":"")+c.getAttribute("text")}else{g+=(h>0?" ":"")+c.getAttribute("value")}}}else{g+=(h>0?" ":"")+l[h]}}return g},parseValue:function(k,h){var c=h.settings.wheels,k=k.split(" "),f=[],e=0;if(!c){return}for(var g=IndexJL;g<c.length;g++){var d=h.wheelDataValueByText(c[g],[k[e]]);if(d){f.push(d)}else{f.push(c[g][IndexJL][IndexJL])}e++}return f},validate:function(){return true}};this.init()};$KW.konyPicker.prototype={picker:null,setDefaults:function(a){$KU.extend(a,this.defaults)},enable:function(){this.settings.disabled=false;var a=document.querySelectorAll("input, select, button, textarea");a.forEach(function(b){b.disabled=false})},disable:function(){this.settings.disabled=true;var a=document.querySelectorAll("input, select, button, textarea");a.forEach(function(b){b.disabled=true})},scroll:function(c,g,f,h,a){var d=this;c.setAttribute("style",(f?("-"+vendor+"-transition:all "+f.toFixed(1)+"s ease-out;"):"")+($KU.has3d?("-"+vendor+"-transform:translate3d(0,"+(g*this.h)+"px,0);"):("top:"+(g*this.h)+"px;")));function e(j,i,l,k){return l*Math.sin(j/k*(Math.PI/2))+i}if(f){var b=0;clearInterval(this.iv[a]);this.iv[a]=setInterval(function(){b+=0.1;c.setAttribute("pos",Math.round(e(b,h,g-h,f)));if(b>=f){clearInterval(d.iv[a]);c.setAttribute("pos",g);if(d.settings.display=="inline"&&d.settings.widgetModel&&d.values[a]!=d.temp[a]){var i=a+IndexJL;$KW.PickerView.eventHandler(i,d,d.settings.widgetModel)}}},100);clearTimeout(this.tv[a]);this.tv[a]=setTimeout(function(){if(!$KU.hasClassName(c,"dwa")){var j=$KU.closestElement(c,"class","dwwl");var i=j.querySelectorAll(".dwwb")}},f*1000)}else{c.setAttribute("pos",g)}},formatDate:function(l,b,c){if(!b){return null}var m=$KU.extend({},this.settings,c),j=function(h){var i=0;while(f+1<l.length&&l.charAt(f+1)==h){i++;f++}return i},e=function(i,o,h){var p=""+o;if(j(i)){while(p.length<h){p="0"+p}}return p},d=function(h,o,n,i){return(j(h)?i[o]:n[o])},a="",k=false;for(var f=0;f<l.length;f++){if(k){if(l.charAt(f)=="'"&&!j("'")){k=false}else{a+=l.charAt(f)}}else{switch(l.charAt(f)){case"d":a+=e("d",b.getDate(),2);break;case"D":a+=d("D",b.getDay(),m.dayNamesShort,m.dayNames);break;case"o":a+=e("o",(b.getTime()-new Date(b.getFullYear(),0,0).getTime())/86400000,3);break;case"m":a+=e("m",b.getMonth()+1,2);break;case"M":a+=d("M",b.getMonth(),m.monthNamesShort,m.monthNames);break;case"y":a+=(j("y")?b.getFullYear():(b.getYear()%100<10?"0":"")+b.getYear()%100);break;case"h":var g=b.getHours();a+=e("h",(g>12?(g-12):(g==0?12:g)),2);break;case"H":a+=e("H",b.getHours(),2);break;case"i":a+=e("i",b.getMinutes(),2);break;case"s":a+=e("s",b.getSeconds(),2);break;case"a":a+=b.getHours()>11?"pm":"am";break;case"A":a+=b.getHours()>11?"PM":"AM";break;case"'":if(j("'")){a+="'"}else{k=true}break;default:a+=l.charAt(f)}}}return a},parseDate:function(q,j,t){var e=new Date();if(!q||!j){return e}j=(typeof j=="object"?j.toString():j+"");var g=$KU.extend({},this.settings,t),b=e.getFullYear(),v=e.getMonth()+1,o=e.getDate(),d=-1,r=e.getHours(),k=e.getMinutes(),c=e.getSeconds(),h=-1,n=false,i=function(s){var x=(a+1<q.length&&q.charAt(a+1)==s);if(x){a++}return x},w=function(x){i(x);var y=(x=="@"?14:(x=="!"?20:(x=="y"?4:(x=="o"?3:2))));var z=new RegExp("^\\d{1,"+y+"}");var s=j.substr(p).match(z);if(!s){throw"Missing number at position "+p}p+=s[0].length;return parseInt(s[0],10)},f=function(y,A,x){var B=(i(y)?x:A);for(var z=0;z<B.length;z++){if(j.substr(p,B[z].length).toLowerCase()==B[z].toLowerCase()){p+=B[z].length;return z+1}}throw"Unknown name at position "+p},m=function(){if(j.charAt(p)!=q.charAt(a)){throw"Unexpected literal at position "+p}p++},p=0;for(var a=0;a<q.length;a++){if(n){if(q.charAt(a)=="'"&&!i("'")){n=false}else{m()}}else{switch(q.charAt(a)){case"d":o=w("d");break;case"D":f("D",g.dayNamesShort,g.dayNames);break;case"o":d=w("o");break;case"m":v=w("m");break;case"M":v=f("M",g.monthNamesShort,g.monthNames);break;case"y":b=w("y");break;case"H":r=w("H");break;case"h":r=w("h");break;case"i":k=w("i");break;case"s":c=w("s");break;case"a":h=f("a",["am","pm"],["am","pm"])-1;break;case"A":h=f("A",["am","pm"],["am","pm"])-1;break;case"'":if(i("'")){m()}else{n=true}break;default:m()}}}if(b<100){b+=new Date().getFullYear()-new Date().getFullYear()%100+(b<=g.shortYearCutoff?0:-100)}if(d>-1){v=1;o=d;do{var l=32-new Date(b,v-1,32).getDate();if(o<=l){break}v++;o-=l}while(true)}r=(h==-1)?r:((h&&r<12)?(r+12):(!h&&r==12?0:r));var u=new Date(b,v-1,o,r,k,c);if(u.getFullYear()!=b||u.getMonth()+1!=v||u.getDate()!=o){throw"Invalid date"}return u},parseValue:function(g){if(this.preset){var a=[];if(this.settings.preset=="date"){try{var f=this.parseDate(this.settings.dateFormat,g,this.settings)}catch(c){var f=new Date()}a[this.yOrd]=f.getFullYear();a[this.mOrd]=f.getMonth();a[this.dOrd]=f.getDate()}else{if(this.settings.preset=="time"){try{var f=this.parseDate(this.settings.timeFormat,g,this.settings)}catch(c){var f=new Date()}var b=f.getHours();a[0]=(this.settings.ampm)?(b>12?(b-12):(b==0?12:b)):b;a[1]=f.getMinutes();if(this.settings.seconds){a[2]=f.getSeconds()}if(this.settings.ampm){a[this.settings.seconds?3:2]=b>11?"PM":"AM"}}else{if(this.settings.preset=="datetime"){try{var f=this.parseDate(this.settings.dateFormat+" "+this.settings.timeFormat,g,this.settings)}catch(c){var f=new Date()}var b=f.getHours();a[this.yOrd]=f.getFullYear();a[this.mOrd]=f.getMonth();a[this.dOrd]=f.getDate();a[3]=(this.settings.ampm)?(b>12?(b-12):(b==0?12:b)):b;a[4]=f.getMinutes();if(this.settings.seconds){a[5]=f.getSeconds()}if(this.settings.ampm){a[this.settings.seconds?6:5]=b>11?"PM":"AM"}}}}return a}return this.settings.parseValue(g,this)},setValue:function(b){if(b==undefined){b=true}var a=this.formatResult(true);this.val=this.formatResult(false);if(this.temp){this.values=this.temp.slice(0)}if(this.settings.display=="popup"){var c=document.getElementById(this.elmId);if(b&&c){if(c.tagName==="INPUT"||c.tagName==="SELECT"||c.tagName==="TEXTAREA"){c.value=a;$KU.fireEvent(c,"change")}else{c.innerText=a;$KW.ListBox.eventHandler(null,c,null)}}}},getDate:function(){var b=this.values;if(this.settings.preset=="date"){return new Date(b[this.yOrd],b[this.mOrd],b[this.dOrd])}if(this.settings.preset=="time"){var a=(this.settings.ampm)?((b[this.settings.seconds?3:2]=="PM"&&(b[0]-0)<12)?(b[0]-0+12):(b[this.settings.seconds?3:2]=="AM"&&(b[0]==12)?0:b[0])):b[0];return new Date(1970,0,1,a,b[1],this.settings.seconds?b[2]:null)}if(this.settings.preset=="datetime"){var a=(this.settings.ampm)?((b[this.settings.seconds?6:5]=="PM"&&(b[3]-0)<12)?(b[3]-0+12):(b[this.settings.seconds?6:5]=="AM"&&(b[3]==12)?0:b[3])):b[3];return new Date(b[this.yOrd],b[this.mOrd],b[this.dOrd],a,b[4],this.settings.seconds?b[5]:null)}},setDate:function(c,b){if(this.settings.preset.match(/date/i)){this.temp[this.yOrd]=c.getFullYear();this.temp[this.mOrd]=c.getMonth();this.temp[this.dOrd]=c.getDate()}if(this.settings.preset=="time"){var a=c.getHours();this.temp[0]=(this.settings.ampm)?(a>12?(a-12):(a==0?12:a)):a;this.temp[1]=c.getMinutes();if(this.settings.seconds){this.temp[2]=c.getSeconds()}if(this.settings.ampm){this.temp[this.settings.seconds?3:2]=a>11?"PM":"AM"}}if(this.settings.preset=="datetime"){var a=c.getHours();this.temp[3]=(this.settings.ampm)?(a>12?(a-12):(a==0?12:a)):a;this.temp[4]=c.getMinutes();if(this.settings.seconds){this.temp[5]=c.getSeconds()}if(this.settings.ampm){this.temp[this.settings.seconds?6:5]=a>11?"PM":"AM"}}this.setValue(b)},formatResult:function(b){var c=this.temp;if(this.preset){if(this.settings.preset=="date"){return this.formatDate(this.settings.dateFormat,new Date(c[this.yOrd],c[this.mOrd],c[this.dOrd]),this.settings)}else{if(this.settings.preset=="datetime"){var a=(this.settings.ampm)?((c[this.settings.seconds?6:5]=="PM"&&(c[3]-0)<12)?(c[3]-0+12):(c[this.settings.seconds?6:5]=="AM"&&(c[3]==12)?0:c[3])):c[3];return this.formatDate(this.settings.dateFormat+" "+this.settings.timeFormat,new Date(c[this.yOrd],c[this.mOrd],c[this.dOrd],a,c[4],this.settings.seconds?c[5]:null),this.settings)}else{if(this.settings.preset=="time"){var a=(this.settings.ampm)?((c[this.settings.seconds?3:2]=="PM"&&(c[0]-0)<12)?(c[0]-0+12):(c[this.settings.seconds?3:2]=="AM"&&(c[0]==12)?0:c[0])):c[0];return this.formatDate(this.settings.timeFormat,new Date(1970,0,1,a,c[1],this.settings.seconds?c[2]:null),this.settings)}}}}return this.settings.formatResult(c,b,this)},validate:function(c){if(this.preset&&this.settings.preset.match(/date/i)&&((c==this.yOrd)||(c==this.mOrd)||(c==-1))){var d=32-new Date(this.temp[this.yOrd],this.temp[this.mOrd],32).getDate()-1;var a=this.picker.querySelectorAll("ul")[this.dOrd];var b=a.querySelectorAll("li");for(var c=0;c<b.length;c++){if(b[c]&&b[c].style){if(c<=d){b[c].style.display=""}else{b[c].style.display="none"}}}if(this.temp[this.dOrd]>d){this.scroll(a,this.m-d-1);this.temp[this.dOrd]=parseInt(b[d].getAttribute("val"),10)}}else{this.settings.validate(c)}},getSelectedKeys:function(){var a=[];if(a&&this.settings.wheels){if(IndexJL){a.push(null)}for(var b=0;b<this.values.length;b++){a.push(this.settings.wheels[b+IndexJL][this.values[b]+IndexJL][0+IndexJL])}}return(a.length>IndexJL)?a:null},getSelectedKeyValues:function(){var b=[];if(b&&this.settings.wheels){if(IndexJL){b.push(null)}for(var c=0;c<this.values.length;c++){if(this.settings.widgetModel.masterdatamap){var a=this.settings.widgetModel.masterdatamap[c+IndexJL][0+IndexJL];b.push(a[this.values[c]+IndexJL])}else{b.push(this.settings.widgetModel.masterdata[c+IndexJL][this.values[c]+IndexJL])}}}return(b.length>IndexJL)?b:null},setSelectedKeys:function(e){this.values=(!IndexJL)?[]:[null];this.temp=(!IndexJL)?[]:[null];if(e===null){for(var c=IndexJL;c<this.settings.wheels.length;c++){this.values.push(0);this.values.push(0)}}else{var d=(this.picker)?this.picker.querySelectorAll(".dww ul"):null;for(var c=IndexJL;c<e.length;c++){var f=this.settings.wheels[c];for(var b=IndexJL;b<(f.length-1);b++){if(f[b][0+IndexJL]==e[c]){var a=b-IndexJL;this.values.push(a);this.temp.push(a);if(d){this.scroll(d[c-IndexJL],this.m-(a<0?0:a)-1)}}}}}},wheelDataIndexByTextValue:function(a,b){for(var d=0;d<a.length;d++){if(a[d]!==null){if(a[d][2]==b||a[d][1]==b||d==b){return d}}}return null},wheelDataValueByText:function(a,b){for(var d=IndexJL;d<a.length;d++){if(a[d][2]==b){return a[d][1]}}return null},wheelDataTextByValue:function(b,a){for(var d=0;d<b.length;d++){if(b[d]!==null){if(b[d][1]==a){return b[d][2]}}}return null},hide:function(){if(this.visible){this.picker.style.display="none";this.picker.previousSibling.style.display="none";this.picker.previousSibling.removeAttribute("dummy");this.visible=false}},show:function(){if(!this.visible){document.getElementById(this.elmId).blur();if(this.settings.modal===false||this.settings.display==="inline"){this.picker.previousSibling.style.display="none"}else{this.picker.previousSibling.style.display="block";this.picker.previousSibling.setAttribute("dummy","dummy")}this.picker.style.display="block";this.visible=true;this.position();var g=this.picker.querySelectorAll(".dww ul");for(var d=0;d<g.length;d++){var b="",c=null;if(!this.preset){for(var h in this.settings.wheels[d]){this.values[d]=this.wheelDataIndexByTextValue(this.settings.wheels[d][h],this.values[d]);break}}c=g[d].querySelectorAll("li.val_"+this.values[d]);var b=$KU.elementIndex(c[0]);while((b<0)&&(--this.values[d]>=0)){var a=g[d].querySelectorAll("li.val_"+this.values[d])[0];b=$KU.elementIndex(a)}this.scroll(g[d],this.m-(b<0?0:b)-1)}if(!this.preset){var f=this.picker.querySelectorAll(".dwv");var e=this.settings.formatResult(this.values,true,this);f[0].innerHTML=(e)?e:""}}},position:function(){if(!this.picker||!this.picker.previousSibling){return}var d=window.innerWidth||document.body.clientWidth,b=window.innerHeight||document.body.clientHeight,a,c;a=this.picker.offsetWidth;c=this.picker.offsetHeight;if(this.settings.dock=="bottom"){this.picker.style.top="";this.picker.style.left="0px";this.picker.style.bottom="0px"}else{this.picker.style.top=((b-c)/2)+"px";this.picker.style.left=((d-a)/2)+"px"}this.picker.previousSibling.style.height=(window.innerHeight||document.body.clientHeight)+"px"},calculate:function(c,f,e,g){var b=parseInt(c.getAttribute("index"),10);f=f>(this.m-1)?(this.m-1):f;f=f<(this.m-this.l)?(this.m-this.l):f;this.scroll(c,f,e?(f==g?0.1:Math.abs((f-g)*0.1)):0,g,b);this.temp[b]=parseInt(c.querySelectorAll("li")[(this.m-1-f)].getAttribute("val"),10)-IndexJL;this.validate(b);var d=this.picker.querySelectorAll(".dwv"),a=(this.preset)?this.formatResult(false):this.formatResult(true);for(var b=0;b<d.length;b++){d[b].innerHTML=(a)?a:""}},getY:function(a){return this.touch?a.touches[0].pageY:a.pageY},plus:function(a){if(this.plustap){var b=parseFloat(a.getAttribute("pos")),c=b-1;c=c<(this.m-this.l)?(this.m-1):c;this.calculate(a,c)}else{clearInterval(this.plustap)}},minus:function(a){if(this.minustap){var b=parseFloat(a.getAttribute("pos")),c=b+1;c=c>(this.m-1)?(this.m-this.l):c;this.calculate(a,c)}else{clearInterval(this.minustap)}},dwwlAttachMouseScroll:function(d,h,b){kony.events.preventDefault(d);d=d.originalEvent;var g=d.wheelDelta?(d.wheelDelta/120):(d.detail?(-d.detail/3):0);var a=h.querySelectorAll("ul")[0];var c=parseFloat(a.getAttribute("pos"));var f=Math.round(c+g);b.l=a.querySelectorAll("li").length;b.calculate(a,f)},dwwlAttachStart:function(b,c,a){if(!a.move&&a.settings.mode=="scroller"){kony.events.preventDefault(b);kony.events.stopPropagation(b);a.move=true;a.target=c.querySelectorAll("ul")[0];a.pos=parseFloat(a.target.getAttribute("pos"));a.l=$KU.filterElements(a.target.querySelectorAll("li"),"visible").length;a.start=a.getY(b);a.startTime=new Date();a.stop=a.start;a.scroll(a.target,a.pos)}},dwb_dwwbAttachStart:function(b,c,a){$KU.addClassName(c,"dwb-a")},dwwbpAttachStart:function(d,f,c){kony.events.preventDefault(d);kony.events.stopPropagation(d);var b=$KU.closestElement(f,"class","dwwl");var a=null;if(b){a=b.querySelectorAll("ul")[0]}c.l=$KU.filterElements(a.querySelectorAll("li"),"visible").length;clearInterval(c.plustap);c.plustap=setInterval(function(){c.plus(a)},200);c.plus(a)},dwwbmAttachStart:function(d,f,c){kony.events.preventDefault(d);kony.events.stopPropagation(d);var b=$KU.closestElement(f,"class","dwwl");var a=null;if(b){a=b.querySelectorAll("ul")[0]}c.l=$KU.filterElements(a.querySelectorAll("li"),"visible").length;clearInterval(c.minustap);c.minustap=setInterval(function(){c.minus(a)},200);c.minus(a)},resetSizes:function(){var a=this.picker.querySelectorAll(".dwwl");for(var b=0;b<a.length;b++){a[b].style.height=(this.settings.rows*this.h)+"px"}a=this.picker.querySelectorAll(".dww");for(var b=0;b<a.length;b++){a[b].style.width=(this.settings.width)?this.settings.width+"px":""}a=this.picker.querySelectorAll(".dwbc a");for(var b=0;b<a.length;b++){a[b].setAttribute("class",this.settings.btnClass)}a=this.picker.querySelectorAll(".dww li, .dwwb");for(var b=0;b<a.length;b++){a[b].style.height=this.h+"px";a[b].style.lineHeight=this.h+"px"}a=this.picker.querySelectorAll("ul");for(var b=0;b<a.length;b++){var c=parseInt(a[b].getAttribute("pos"),10);if(this.settings.rows>this.tempRows){this.scroll(a[b],c+1)}else{if(this.settings.rows<this.tempRows){this.scroll(a[b],c-1)}}this.tempRows=this.settings.rows}},init:function(){var g=this;if(this.settings.display=="popup"){document.getElementById(this.elmId).blur()}if(this.settings.mode=="clickpick"){this.settings.height=50;this.settings.rows=3}if($KU.isIDevice){this.settings.height=30}if(this.settings.display=="inline"){this.settings.dock="";this.settings.modal=false;if(this.settings.widgetModel&&this.settings.widgetModel.selectedkeys){this.setSelectedKeys(this.settings.widgetModel.selectedkeys)}}this.setDefaults(this.settings);if($KU.isTablet){this.settings.rows=5}else{this.settings.rows=(this.settings.mode=="scroller"&&(window.orientation===0||window.orientation===180))?5:3}this.tempRows=this.settings.rows;var e=this.settings.dateOrder.search(/y/i),j=this.settings.dateOrder.search(/m/i),b=this.settings.dateOrder.search(/d/i);this.yOrd=e<j?(e<b?0:1):(e<b?1:2);this.mOrd=j<e?(j<b?0:1):(j<b?1:2);this.dOrd=b<e?(b<j?0:1):(b<j?1:2);this.preset=(this.settings.wheels===null&&this.settings.display=="popup");this.picker=document.createElement("div");this.picker.id=(this.settings.display=="popup")?this.elmId+"_picker":this.elmId;if(this.settings.context&&this.settings.context.tabpaneID){this.picker.setAttribute("ktabpaneid",this.settings.context.tabpaneID)}if(this.settings.widgetModel){this.picker.setAttribute("kformname",this.settings.widgetModel.pf);this.picker.setAttribute("kwidgettype",this.settings.widgetModel.wType);if(this.settings.widgetModel.margin){this.picker.style.margin=$KU.joinArray(this.settings.widgetModel.margin,"% ")+"%"}if(this.settings.widgetModel.padding){this.picker.style.padding=$KU.joinArray(this.settings.widgetModel.padding,"% ")+"%"}if(this.settings.widgetModel.isvisible===false){this.picker.style.display="none"}}if(this.settings.display=="popup"){this.picker.style.minWidth="300px"}if(this.settings.display=="inline"){this.picker.style.position="static"}if(this.settings.dock){this.picker.style.width="100%"}this.picker.className=(this.settings.theme)?"dw "+this.settings.theme:"dw";if(this.preset){this.settings.wheels=new Array();if(this.settings.preset.match(/date/i)){var h={};for(var c=0;c<3;c++){if(c==this.yOrd){h[this.settings.yearText]={};for(var f=this.settings.startYear;f<=this.settings.endYear;f++){h[this.settings.yearText][f]=this.settings.dateOrder.search(/yy/i)<0?f.toString().substr(2,2):f.toString()}}else{if(c==this.mOrd){h[this.settings.monthText]={};for(var f=0;f<12;f++){h[this.settings.monthText][f]=(this.settings.dateOrder.search(/MM/)<0?(this.settings.dateOrder.search(/M/)<0?(this.settings.dateOrder.search(/mm/)<0?(f+1):(f<9)?("0"+(f+1)):(f+1)):this.settings.monthNamesShort[f]):this.settings.monthNames[f])}}else{if(c==this.dOrd){h[this.settings.dayText]={};for(var f=1;f<32;f++){h[this.settings.dayText][f]=this.settings.dateOrder.search(/dd/i)<0?f:(f<10)?("0"+f):f}}}}}this.settings.wheels.push(h)}if(this.settings.preset.match(/time/i)){this.settings.stepHour=(this.settings.stepHour<1)?1:parseInt(this.settings.stepHour);this.settings.stepMinute=(this.settings.stepMinute<1)?1:parseInt(this.settings.stepMinute);this.settings.stepSecond=(this.settings.stepSecond<1)?1:parseInt(this.settings.stepSecond);var h={};h[this.settings.hourText]={};for(var f=(this.settings.ampm?1:0);f<(this.settings.ampm?13:24);f+=this.settings.stepHour){h[this.settings.hourText][f]=(f<10)?("0"+f):f}h[this.settings.minuteText]={};for(var f=0;f<60;f+=this.settings.stepMinute){h[this.settings.minuteText][f]=(f<10)?("0"+f):f}if(this.settings.seconds){h[this.settings.secText]={};for(var f=0;f<60;f+=this.settings.stepSecond){h[this.settings.secText][f]=(f<10)?("0"+f):f}}if(this.settings.ampm){h[this.settings.ampmText]={};h[this.settings.ampmText]["AM"]="AM";h[this.settings.ampmText]["PM"]="PM"}this.settings.wheels.push(h)}}else{if(this.settings.display=="inline"){this.settings.wheels=this.settings.widgetModel.masterdata}}this.picker.innerHTML='<div class="dwv">&nbsp;</div>';var a=(this.settings.display=="inline")?" display:none;":"";this.picker.innerHTML+='<div class="dwbc" style="clear:both;'+a+'"><span class="dwbw dwb-s"><a id="'+this.picker.id+'_dw_set" href="#">'+this.settings.setText+'</a></span><span class="dwbw dwb-c"><a id="'+this.picker.id+'_dw_cancel" href="#">'+this.settings.cancelText+"</a></span></div>";if(this.settings.display=="inline"){this.picker.querySelectorAll(".dwv")[0].style.display="none"}if(this.settings.display=="inline"){this.settings.renderTo=null}else{if(this.settings.display=="popup"){this.settings.renderTo=(this.settings.renderTo)?this.settings.renderTo:document.getElementsByTagName("body")[0]}}var d=document.createElement("div");d.className="dwo";if(this.settings.modal===false){d.style.display="none";d.setAttribute("dummy","dummy")}if(this.settings.renderTo){this.settings.renderTo.appendChild(d);this.settings.renderTo.appendChild(this.picker)}this.h=this.settings.height;this.m=Math.round(this.settings.rows/2);this.createComponents()},createComponents:function(masterdata,inst){var that=(inst)?inst:this;if(masterdata){that.settings.wheels=masterdata;that.settings.widgetModel.masterdata=masterdata}if(!that.settings.wheels){return}var sub=(that.settings.display=="inline")?1:0;var dwcCSS=that.picker.querySelectorAll(".dwc");for(var i=0;i<dwcCSS.length;i++){dwcCSS[i].parentNode.removeChild(dwcCSS[i])}that.widths=[];if(that.settings.display=="popup"){that.val=null;var elm=document.getElementById(that.elmId);if((elm&&(elm.tagName==="INPUT"||elm.tagName==="DIV")&&that.val!==null&&(that.val!=elm.value||that.val!=elm.innerText))||that.values===null){if(elm){if(elm.tagName==="INPUT"){that.temp=that.parseValue(elm.value)}else{if(elm.tagName==="DIV"){that.temp=that.parseValue("")}else{that.temp=that.parseValue("")}}}else{that.temp=that.parseValue("")}}else{that.temp=that.values.slice(0)}}else{if(that.settings.display=="inline"&&that.settings.widgetModel&&that.settings.widgetModel.masterdata&&!that.settings.widgetModel.selectedkeys){that.values=[];that.temp=[];for(var m=IndexJL;m<that.settings.widgetModel.masterdata.length;m++){that.values.push(0);that.temp.push(0)}}}that.setValue(false);for(var i=IndexJL;i<that.settings.wheels.length;i++){var dwc=document.createElement("div");var cls="dwc";cls=(that.settings.mode!="scroller")?cls+" dwpm":cls+"";cls=(that.settings.showLabel)?cls+"":cls+" dwhl";dwc.className=cls;if(!that.preset&&that.settings.wheels.length==1+IndexJL){dwc.style.cssFloat="none"}else{if(!that.preset&&that.settings.widgetModel){var tempWidth=that.settings.wheels[i][(that.settings.wheels[i].length-sub)]-2;that.widths.push(tempWidth);dwc.style.width=tempWidth+"%"}}dwc.innerHTML='<div class="dwwc dwrc"><div class="clear" style="clear:both;"></div></div>';var dwbcCSS=that.picker.querySelectorAll(".dwbc");for(var j=0;j<dwbcCSS.length;j++){dwbcCSS[j].parentNode.insertBefore(dwc,dwbcCSS[j])}var to1=dwc.querySelectorAll(".dwwc .clear");for(var t=0;t<to1.length;t++){var w=document.createElement("div");w.className="dwwl dwrc";w.innerHTML=(that.settings.mode!="scroller")?'<div class="dwwb dwwbp">+</div><div class="dwwb dwwbm">&ndash;</div>':"";w.innerHTML+='<div class="dww dwrc"><ul></ul><div class="dwwo"></div></div><div class="dwwol"></div>';to1[t].parentNode.insertBefore(w,to1[t])}for(var j=IndexJL;j<(that.settings.wheels[i].length-sub);j++){var uls=w.querySelectorAll("ul");for(var u=0;u<uls.length;u++){var optValue=$KU.isArray(that.settings.wheels[i][j])?that.settings.wheels[i][j][0+IndexJL]:that.settings.wheels[i][j];var optText=$KU.isArray(that.settings.wheels[i][j])?that.settings.wheels[i][j][1+IndexJL]:that.settings.wheels[i][j];if(optText.toLowerCase().indexOf("i18n.getlocalizedstring")!=-1){optText=eval(optText)}if(typeof optText==="string"||typeof optText==="number"||typeof optText==="boolean"){uls[u].innerHTML+='<li class="val_'+j+'" val="'+j+'" value="'+optValue+'" text="'+optText+'">'+optText+"</li>"}}}}var uls=this.picker.querySelectorAll(".dww ul");for(var i=0;i<uls.length;i++){uls[i].setAttribute("index",i);var x="",lis=null;if(!this.preset){for(var wk=IndexJL;wk<this.settings.wheels[i+IndexJL].length;wk++){lis=uls[i].querySelectorAll("li.val_"+this.wheelDataIndexByTextValue(this.settings.wheels[i+IndexJL][wk],this.temp[i]));break}}else{lis=uls[i].querySelectorAll("li.val_"+this.temp[i])}var x=$KU.elementIndex(lis[0]);while((x<0)&&(--that.temp[i]>=0)){var li=uls[i].querySelectorAll("li.val_"+that.temp[i])[0];x=$KU.elementIndex(li)}that.scroll(uls[i],this.m-(x<0?0:x)-1)}var dwvCSS=this.picker.querySelectorAll(".dwv");for(var i=0;i<dwvCSS.length;i++){var dwvRes=(this.preset)?this.formatResult(false):this.formatResult(true);dwvCSS[i].innerHTML=(dwvRes)?dwvRes:""}if(that.settings.wheels){that.validate(-1)}that.visible=true;that.position();if(inst){that.registerEvents(inst)}else{that.registerEvents();that.registerEvents(inst)}that.resetSizes()},registerEvents:function(k){var m=this;if(k){if(m.settings.display=="popup"){var g=m.picker.querySelectorAll("#"+m.picker.id+"_dw_set")[0];var j=m.picker.querySelectorAll("#"+m.picker.id+"_dw_cancel")[0];g.onclick=function(){m.setValue();m.settings.onSelect(m.val,m);if(m.settings.display=="popup"){m.hide()}return false};j.onclick=function(){m.settings.onCancel(m.val,m);if(m.settings.display=="popup"){m.hide()}return false}}var e=m.picker.querySelectorAll(".dwwl"),d=[];for(var h=0;h<e.length;h++){d.push(e[h])}d.forEach(function(i){kony.events.addEventListener(i,"mousewheel",function(p){m.dwwlAttachMouseScroll(p,this,m)},false);kony.events.addEventListener(i,m.START_EVENT,function(p){m.dwwlAttachStart(p,this,m)},false)});var c=m.picker.querySelectorAll(".dwb, .dwwb"),b=[];for(var h=0;h<c.length;h++){b.push(c[h])}b.forEach(function(i){kony.events.addEventListener(i,m.START_EVENT,function(p){m.dwb_dwwbAttachStart(p,this,m)},false)});var o=m.picker.querySelectorAll(".dwwbp"),f=[];for(var h=0;h<o.length;h++){f.push(o[h])}f.forEach(function(i){kony.events.addEventListener(i,m.START_EVENT,function(p){m.dwwbpAttachStart(p,this,m)},false)});var n=m.picker.querySelectorAll(".dwwbm"),a=[];for(var h=0;h<n.length;h++){a.push(n[h])}a.forEach(function(i){kony.events.addEventListener(i,m.START_EVENT,function(p){m.dwwbmAttachStart(p,this,m)},false)})}else{kony.events.addEventListener(document,m.MOVE_EVENT,function(i){if(m.move){kony.events.preventDefault(i);kony.events.stopPropagation(i);m.stop=m.getY(i);var p=m.pos+(m.stop-m.start)/m.h;p=p>(m.m-1+1)?(m.m-1+1):p;p=p<(m.m-m.l-1)?(m.m-m.l-1):p;m.scroll(m.target,p)}},false);kony.events.addEventListener(document,m.END_EVENT,function(q){if(m.move){kony.events.preventDefault(q);kony.events.stopPropagation(q);$KU.removeClassName(m.target,"dwa");var p=new Date()-m.startTime,s=m.pos+(m.stop-m.start)/m.h;s=s>(m.m-1+1)?(m.m-1+1):s;s=s<(m.m-m.l-1)?(m.m-m.l-1):s;if(p<300){var i=(m.stop-m.start)/p;var r=(i*i)/(2*0.0006);if(m.stop-m.start<0){r=-r}}else{var r=m.stop-m.start}m.calculate(m.target,Math.round(m.pos+r/m.h),true,Math.round(s));m.move=false;m.target=null}clearInterval(m.plustap);clearInterval(m.minustap);m.plustap=false;m.minustap=false;$KU.removeClassNames(document.querySelectorAll(".dwb-a"),"dwb-a")},false)}if(m.settings.display=="popup"&&!k){var l=($KU.isAndroid)?"resize":"orientationchange";kony.events.addEventListener(window,l,function(){if($KU.isTablet){m.settings.rows=5}else{m.settings.rows=(m.settings.mode=="scroller"&&(window.orientation===0||window.orientation===180))?5:3}m.m=Math.round(m.settings.rows/2);m.resetSizes();m.position()},false)}}};
$KW.RadioButtonGroup={initialize:function(){kony.events.addEvent("change","RadioButtonGroup",this.eventHandler)},updateView:function(f,c,b,a){var e=$KU.getNodeByModel(f);switch(c){case"masterdatamap":case"masterdata":var g=$KW.Utils.getMasterData(f);f.selectedkey=g.length>1?g[IndexJL][IndexJL]:null;$KW.Utils.setSelectedValueProperty(f,g,"selectedkey");if(e){e.innerHTML=this.generateList(f,g,f.context);$KU.toggleVisibilty(e,g,f)}break;case"selectedkey":var h=document.querySelectorAll("#"+f.pf+" input[name='"+f.id+"']");for(var d=0;d<h.length;d++){if(f.selectedkey==h[d].value){h[d].checked=true}else{h[d].checked=false}}f.selectedkey&&$KW.Utils.setSelectedValueProperty(f,$KW.Utils.getMasterData(f),"selectedkey");if(!f.selectedkey){f.selectedKeyValue=f.selectedkeyvalue=null}break;case"viewtype":f.propertyName=b;var g=$KW.Utils.getMasterData(f);if(e){e.innerHTML=this.generateList(f,g,f.context);$KU.toggleVisibilty(e,g,f)}break;case"checkedimage":var g=$KW.Utils.getMasterData(f);if(e){e.innerHTML=this.generateList(f,g,f.context);$KU.toggleVisibilty(e,g,f)}break;case"uncheckedimage":var g=$KW.Utils.getMasterData(f);if(e){e.innerHTML=this.generateList(f,g,f.context);$KU.toggleVisibilty(e,g,f)}break;case"size":var g=$KW.Utils.getMasterData(f);if(e){e.innerHTML=this.generateList(f,g,f.context);$KU.toggleVisibilty(e,g,f)}break}},render:function(b,d){var e=$KW.Utils.getMasterData(b);var g=$KW.skins.getSplitSkinsBetweenWidgetAndParentDivForCBRB(b,d);var c=(d.ispercent===false?"":g[2])+((!$KW.Utils.isWidgetVisible(b,d)||e.length<=0)?" hide":"");var a=b.skin||"";var f="<div"+$KW.Utils.getBaseHtml(b,d)+"class = '"+c+" "+a+"' style='"+$KW.skins.getMarginSkin(b,d)+$KW.skins.getPaddingSkin(b)+(d.ispercent===false?"display:inline-block":"")+"'>";b.context=d;f+=this.generateList(b,e,d);f+="</div>";return f},generateList:function(c,e,b){var j="";if(e.length>IndexJL){var k=c.selectedkey;c.selectedkey=k?k:null;$KW.Utils.setSelectedValueProperty(c,e,"selectedkey");for(var f=IndexJL;f<e.length;f++){if(e[f][IndexJL]!=null&&e[f][1+IndexJL]!=null){var d=(c.selectedkey==e[f][IndexJL])?"checked":"";var g=$KW.skins.getSplitSkinsBetweenWidgetAndParentDivForCBRB(c,b);if(c.viewtype=="customview"&&!kony.appinit.isIE8){if(c.itemorientation=="vertical"){j+="<div style = 'height: auto;'  class='"+g[0]+"'>"}else{j+="<div style = ' display: inline-block; height: auto;' >"}var l;if(d=="checked"){l="url("+$KU.getImageURL(c.checkedimage)+")"}else{l="url("+$KU.getImageURL(c.uncheckedimage)+")"}var a=(b&&b.container?(c.id+"_"+b.container.counter):c.id);j+="<input style='display : none;' id ='"+c.id+"radio"+f+"' class='middlecenteralign' kformname='"+c.pf+"' kwidgettype='"+c.wType+"' type='radio' "+d+($KW.Utils.isWidgetDisabled(c,b)?" disabled='true'":"")+" value='"+e[f][IndexJL]+"' name='"+a+"' style='  margin-right:3px;' />";j+="<label id ='"+c.id+"_label"+f+"' selected ='"+d+"'  for ='"+c.id+"radio"+f+"'  name = '"+c.id+"_label"+f+"' style=' background-image: "+l+"; width: "+c.size+"px; height: "+c.size+"px; -webkit-background-size: 100%; background-size:100%; margin-right: 3px; vertical-align: middle; display: inline-block;' ></label>";j+="<label style=' position: relative; padding-left: 5px; vertical-align: middle; display: inline-block;'>";j+=e[f][1+IndexJL];j+=(c.itemorientation==constants.RADIOGROUP_ITEM_ORIENTATION_VERTICAL)?"</label><br/></div>":"</div></label>&nbsp;"}else{if(c.itemorientation=="vertical"){j+="<div style = 'height: auto;'  class='"+g[0]+"'>"}else{j+="<div style = ' display: inline-block; height: auto; text-decoration: inherit;' >"}var a=(b&&b.container?(c.id+"_"+b.container.counter):c.id);var h=$KU.getAccessibilityValues(c,e[f][2+IndexJL],e[f][IndexJL]);if(h.indexOf("aria-label")<0){h+=" aria-label='"+e[f][1+IndexJL]+"' "}j+="<input  "+h+"type='radio' kwidgettype='"+c.wType+"' name='"+a+"' "+d+($KW.Utils.isWidgetDisabled(c,b)?" disabled='true'":"")+" class='middlecenteralign' value='"+e[f][IndexJL]+"' style='margin-right:3px;' kformname='"+c.pf+"'/>";j+="<span aria-hidden='true' class='middlecenteralign'>"+e[f][1+IndexJL]+"</span>";j+=(c.itemorientation=="vertical")?"<br/></div>":"</div>&nbsp;"}}}}return j},changeImage:function(f,b,a){if(b.selectedkey!=a){var e=$KW.Utils.getMasterData(b);var h="url("+$KU.getImageURL(b.checkedimage)+")";var g="url("+$KU.getImageURL(b.uncheckedimage)+")";for(var c=IndexJL;c<e.length;c++){if(e[c][IndexJL]!=null&&e[c][1+IndexJL]!=null){var d=$KU.getElementById(b.id+"_label"+c);if(d.getAttribute("selected")=="checked"){d.style.backgroundImage="url("+$KU.getImageURL(b.uncheckedimage)+")";d.setAttribute("selected","")}}}f.style.backgroundImage="url("+$KU.getImageURL(b.checkedimage)+")";f.setAttribute("selected","checked")}},eventHandler:function(b,g){var f=g.parentNode.parentNode;var a=$KU.getModelByNode(f);var e=f.getElementsByTagName("input");for(var c=0;c<e.length;c++){e[c].removeAttribute("checked")}g.setAttribute("checked","");if(a){if(a.viewtype=="customview"&&!kony.appinit.isIE8){$KW.RadioButtonGroup.changeImage($KU.getNextSibling(g),a,g.value)}a.selectedkey=g.value;if(f.getAttribute("kcontainerID")){$KW.Utils.updateContainerData(a,g,false)}else{$KW.Utils.setSelectedValueProperty(a,$KW.Utils.getMasterData(a),"selectedkey");var d=$KU.returnEventReference(a.onselection);d&&d.call(a,a)}}}};
$KW.ListBox={initialize:function(){kony.events.addEvent("change","ListBox",this.eventHandler);kony.events.addEvent("click","ListBox",this.initializeEvents)},updateView:function(b,g,a,c){var f=$KU.getNodeByModel(b);switch(g){case"masterdatamap":case"masterdata":var e=$KW.Utils.getMasterData(b);b.selectedkey=b.selectedkeys=b.selectedkeyvalue=b.selectedkeyvalues=null;if(f){b.context.ispercent="";var j=document.createElement("div");j.innerHTML=this.generateList(b,e,b.context);f.parentNode.replaceChild(j.firstChild,f);$KU.toggleVisibilty(f,e,b)}break;case"selectedkeys":$KW.Utils.setSelectedValueProperty(b,$KW.Utils.getMasterData(b),"selectedkeys");if(f){if(f.tagName=="SELECT"){var k=f.options;if(k.length>0){for(var d=0;d<k.length;d++){if(b.selectedkeys&&$KU.inArray(b.selectedkeys,k[d].value)[0]){k[d].selected=true}else{k[d].selected=false}}if(!b.selectedkeys){if(!b.multiple){k[0].selected=true}b.selectedkeyvalues=null}}}else{if(f.tagName=="DIV"){if(b.selectedkeys){f.innerText=b.selectedkeyvalues[1][2]}else{f.innerText=b.masterdata[1][2]}}}}break;case"selectedkey":if(f){var h=b.selectedkey;f.value=b.selectedkey}$KW.Utils.setSelectedValueProperty(b,$KW.Utils.getMasterData(b),"selectedkey");b.selectedkeys=(b.selectedkey&&($KU.isArray(b.selectedkey)?b.selectedkey:(IndexJL?[null,b.selectedkey]:[b.selectedkey])))||null;$KW.Utils.setSelectedValueProperty(b,$KW.Utils.getMasterData(b),"selectedkeys");break}},render:function(c,a){if(!c.buiskin){c.buiskin=c.blockeduiskin}if(typeof $KW.konyPicker!=="function"||c.view==="popup"){c.view="native"}var b=$KW.Utils.getMasterData(c);b.ispercent=a.ispercent;c.context=a;return this.generateList(c,b,a)},generateList:function(b,c,a){var e=$KW.skins.getWidgetSkinList(b,a,c)+" kselect";var j=b.multiple?" multiple":"";var i=b.multiselectrows?" size="+parseInt(b.multiselectrows):"";var g="";if(!b.view||b.view=="native"){g="<select"+$KW.Utils.getBaseHtml(b,a)+"class='"+e+"' "+(b.disabled?"disabled='true' ":"")+j+i+" style='"+$KW.skins.getMarginSkin(b,a)+$KW.skins.getPaddingSkin(b,a)+"'>";if(c.length>IndexJL){b.selectedkey&&$KW.Utils.setSelectedValueProperty(b,c,"selectedkey");b.selectedkeys&&$KW.Utils.setSelectedValueProperty(b,c,"selectedkeys");if(b.needsectionheaders){g+=this.generateGroupOptions(b,c)}else{g+=this.generateOptions(b,c)}}g+="</select>"}else{var h="kselect";h+=(b.skin)?" "+b.skin:" klistbox";g+="<div "+$KW.Utils.getBaseHtml(b,a)+"  class='"+h+" "+e+' idevice kddicon" '+(b.disabled?'disabled="true" ':"")+j+' style="text-align:left;">';if(!b.selectedkeys||b.selectedkeys.length<1){b.selectedkeys=[null,b.masterdata[IndexJL][IndexJL]];b.selectedkeys&&$KW.Utils.setSelectedValueProperty(b,$KW.Utils.getMasterData(b),"selectedkeys");g+=b.masterdata[IndexJL][IndexJL+1]}else{for(var f=IndexJL;f<b.masterdata.length;f++){if(b.masterdata[f][IndexJL]===b.selectedkeys[IndexJL]){g+=b.masterdata[f][IndexJL+1];break}}}g+="</div>"}return g},initializeEvents:function(a,e,c){var f=$KU.getModelByNode(e);if(f){var d=$KW.Utils.getMasterData(f);if(e.tagName==="DIV"&&a.type=="click"){var b=$KG[e.id];config={display:"popup",wheels:[{"":d}]};if(f.view==="spinningWheel"){config.mode="scroller";if(f.viewstyle==="iphone"){config.theme="ios";config.dock=($KU.isiPhone)?"bottom":""}else{if(f.viewstyle==="android"){config.theme="android";config.dock=""}else{if(f.viewstyle==="native"){if($KU.isIDevice){config.theme="ios";config.dock=($KU.isiPhone)?"bottom":""}else{if($KU.isAndroid){config.theme="android";config.dock=""}}}}}}else{if(f.view==="clickPick"){config.mode="clickpick";if(f.viewstyle==="iphone"){config.theme="ios";config.dock=""}else{if(f.viewstyle==="android"){config.theme="android";config.dock=""}else{if(f.viewstyle==="native"){if($KU.isIDevice){config.theme="ios";config.dock=""}else{if($KU.isAndroid){config.theme="android";config.dock=""}}}}}}else{if(f.view==="popup"){if(f.viewstyle==="iphone"){}else{if(f.viewstyle==="android"){}else{if(f.viewstyle==="native"){if($KU.isIDevice){}else{if($KU.isAndroid){}}}}}}}}if(b){b.show()}else{b=new $KW.konyPicker(e.id,config)}}}},generateOptions:function(f,d){var e="";var b=false;for(var a=IndexJL;a<d.length;a++){if(d[a][IndexJL]!=null){if(f.selectedkey){b=(f.selectedkey==d[a][IndexJL])?"selected":""}else{b=(f.selectedkeys&&$KU.inArray(f.selectedkeys,d[a][IndexJL])[0])?"selected":""}var c=$KU.getAccessibilityValues(f,d[a][2+IndexJL],d[a][IndexJL]);e+='<option value="'+d[a][IndexJL]+'" '+b+c+">"+d[a][1+IndexJL]+"</option>"}}return e},eventHandler:function(c,k){var b=$KU.getModelByNode(k);if(b){var e=$KW.Utils.getMasterData(b);var n=(IndexJL==1?[null]:[]);if(k.tagName=="SELECT"){for(var f=0;f<k.options.length;f++){if(k.options[f].selected){b.selectedkey=k.options[f].value;n.push(k.options[f].value)}}}else{if(k.tagName=="DIV"){var a=b.selectedkeys;var h=$KG[k.id];if(h){n.push(h.val)}}}b.selectedkeys=n;var l=k.childNodes;for(var f=0;f<l.length;f++){l[f].removeAttribute("selected")}if(b.multiple){for(var d=0;d<=b.selectedkeys.length;d++){for(var f=0;f<=l.length;f++){var g=(b.selectedkeys[d]==e[f][0])?"selected":"";if(g=="selected"){k.childNodes[f].setAttribute("selected","");break}}}}else{for(var f=0;f<=l.length;f++){var g=(b.selectedkey==e[f][0])?"selected":"";if(g=="selected"){k.childNodes[f].setAttribute("selected","");break}}}$KW.Utils.setSelectedValueProperty(b,e,"selectedkey");$KW.Utils.setSelectedValueProperty(b,e,"selectedkeys");if((b.ondone||b.onselection)&&b.blockeduiskin){$KW.Utils.applyBlockUISkin(b)}if(k.tagName=="SELECT"||(k.tagName=="DIV"&&h&&a&&a[IndexJL]!==h.val)){var m=$KU.returnEventReference(b.ondone||b.onselection);m&&m.call(b,b)}}}};
$KW.konyPicker=function(a,b){if(b.display=="inline"&&b.widgetModel){b.widgetModel[a]=this}else{$KG[a]=this}this.elmId=a;this.settings=b;this.yOrd=null;this.mOrd=null;this.dOrd=null;this.iv={};this.tv={};this.values=null;this.val=null;this.temp=null;this.h=null;this.m=null;this.l=null;this.date=new Date();this.uuid=this.date.getTime();this.move=false;this.target=null;this.start=null;this.stop=null;this.startTime=null;this.endTime=null;this.pos=null;this.plustap=false;this.minustap=false;this.tempRows=null;this.touch=$KU.isTouchSupported;this.START_EVENT=this.touch?"touchstart":"mousedown";this.MOVE_EVENT=this.touch?"touchmove":"mousemove";this.END_EVENT=this.touch?"touchend":"mouseup";this.defaults={width:"",height:40,rows:3,modal:true,display:"popup",dock:"",disabled:false,showOnFocus:true,showValue:true,showLabel:true,wheels:null,theme:"",mode:"scroller",preset:"date",dateFormat:"mm/dd/yy",dateOrder:"mmddy",ampm:true,seconds:false,timeFormat:"hh:ii A",startYear:this.date.getFullYear()-100,endYear:this.date.getFullYear()+1,monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],shortYearCutoff:"+10",monthText:"Month",dayText:"Day",yearText:"Year",hourText:"Hours",minuteText:"Minutes",secText:"Seconds",ampmText:"&nbsp;",setText:"Set",cancelText:"Cancel",btnClass:"dwb",stepHour:1,stepMinute:1,stepSecond:1,beforeShow:function(){},onClose:function(){},onSelect:function(){},onCancel:function(){},formatResult:function(l,e,k){if(!l){return}var g="";for(var h=0;h<l.length;h++){if(k){if(k.settings.display=="popup"){k.picker=document.getElementById(k.elmId+"_picker")}}var j=(k&&k.picker)?k.picker.querySelectorAll("ul"):null;if(j&&j.length){if(!k.preset&&isNaN(parseInt(l[h],10))){l[h]=(j[h].querySelectorAll('li[value="'+l[h]+'"]')[0])?j[h].querySelectorAll('li[value="'+l[h]+'"]')[0].getAttribute("val"):j[h].querySelectorAll("li.val_"+l[h])[0].getAttribute("val")}var f=j[h].querySelectorAll("li");l[h]=parseInt(l[h],10);var c=null;if(k.preset){c=f[l[h]]}else{c=(l[h]==0)?f[l[h]]:f[l[h]-1]}if(c&&typeof c.getAttribute==="function"){if(e){g+=(h>0?" ":"")+c.getAttribute("text")}else{g+=(h>0?" ":"")+c.getAttribute("value")}}}else{g+=(h>0?" ":"")+l[h]}}return g},parseValue:function(k,h){var c=h.settings.wheels,k=k.split(" "),f=[],e=0;if(!c){return}for(var g=IndexJL;g<c.length;g++){var d=h.wheelDataValueByText(c[g],[k[e]]);if(d){f.push(d)}else{f.push(c[g][IndexJL][IndexJL])}e++}return f},validate:function(){return true}};this.init()};$KW.konyPicker.prototype={picker:null,setDefaults:function(a){$KU.extend(a,this.defaults)},enable:function(){this.settings.disabled=false;var a=document.querySelectorAll("input, select, button, textarea");a.forEach(function(b){b.disabled=false})},disable:function(){this.settings.disabled=true;var a=document.querySelectorAll("input, select, button, textarea");a.forEach(function(b){b.disabled=true})},scroll:function(c,g,f,h,a){var d=this;c.setAttribute("style",(f?("-"+vendor+"-transition:all "+f.toFixed(1)+"s ease-out;"):"")+($KU.has3d?("-"+vendor+"-transform:translate3d(0,"+(g*this.h)+"px,0);"):("top:"+(g*this.h)+"px;")));function e(j,i,l,k){return l*Math.sin(j/k*(Math.PI/2))+i}if(f){var b=0;clearInterval(this.iv[a]);this.iv[a]=setInterval(function(){b+=0.1;c.setAttribute("pos",Math.round(e(b,h,g-h,f)));if(b>=f){clearInterval(d.iv[a]);c.setAttribute("pos",g);if(d.settings.display=="inline"&&d.settings.widgetModel&&d.values[a]!=d.temp[a]){var i=a+IndexJL;$KW.PickerView.eventHandler(i,d,d.settings.widgetModel)}}},100);clearTimeout(this.tv[a]);this.tv[a]=setTimeout(function(){if(!$KU.hasClassName(c,"dwa")){var j=$KU.closestElement(c,"class","dwwl");var i=j.querySelectorAll(".dwwb")}},f*1000)}else{c.setAttribute("pos",g)}},formatDate:function(l,b,c){if(!b){return null}var m=$KU.extend({},this.settings,c),j=function(h){var i=0;while(f+1<l.length&&l.charAt(f+1)==h){i++;f++}return i},e=function(i,o,h){var p=""+o;if(j(i)){while(p.length<h){p="0"+p}}return p},d=function(h,o,n,i){return(j(h)?i[o]:n[o])},a="",k=false;for(var f=0;f<l.length;f++){if(k){if(l.charAt(f)=="'"&&!j("'")){k=false}else{a+=l.charAt(f)}}else{switch(l.charAt(f)){case"d":a+=e("d",b.getDate(),2);break;case"D":a+=d("D",b.getDay(),m.dayNamesShort,m.dayNames);break;case"o":a+=e("o",(b.getTime()-new Date(b.getFullYear(),0,0).getTime())/86400000,3);break;case"m":a+=e("m",b.getMonth()+1,2);break;case"M":a+=d("M",b.getMonth(),m.monthNamesShort,m.monthNames);break;case"y":a+=(j("y")?b.getFullYear():(b.getYear()%100<10?"0":"")+b.getYear()%100);break;case"h":var g=b.getHours();a+=e("h",(g>12?(g-12):(g==0?12:g)),2);break;case"H":a+=e("H",b.getHours(),2);break;case"i":a+=e("i",b.getMinutes(),2);break;case"s":a+=e("s",b.getSeconds(),2);break;case"a":a+=b.getHours()>11?"pm":"am";break;case"A":a+=b.getHours()>11?"PM":"AM";break;case"'":if(j("'")){a+="'"}else{k=true}break;default:a+=l.charAt(f)}}}return a},parseDate:function(q,j,t){var e=new Date();if(!q||!j){return e}j=(typeof j=="object"?j.toString():j+"");var g=$KU.extend({},this.settings,t),b=e.getFullYear(),v=e.getMonth()+1,o=e.getDate(),d=-1,r=e.getHours(),k=e.getMinutes(),c=e.getSeconds(),h=-1,n=false,i=function(s){var x=(a+1<q.length&&q.charAt(a+1)==s);if(x){a++}return x},w=function(x){i(x);var y=(x=="@"?14:(x=="!"?20:(x=="y"?4:(x=="o"?3:2))));var z=new RegExp("^\\d{1,"+y+"}");var s=j.substr(p).match(z);if(!s){throw"Missing number at position "+p}p+=s[0].length;return parseInt(s[0],10)},f=function(y,A,x){var B=(i(y)?x:A);for(var z=0;z<B.length;z++){if(j.substr(p,B[z].length).toLowerCase()==B[z].toLowerCase()){p+=B[z].length;return z+1}}throw"Unknown name at position "+p},m=function(){if(j.charAt(p)!=q.charAt(a)){throw"Unexpected literal at position "+p}p++},p=0;for(var a=0;a<q.length;a++){if(n){if(q.charAt(a)=="'"&&!i("'")){n=false}else{m()}}else{switch(q.charAt(a)){case"d":o=w("d");break;case"D":f("D",g.dayNamesShort,g.dayNames);break;case"o":d=w("o");break;case"m":v=w("m");break;case"M":v=f("M",g.monthNamesShort,g.monthNames);break;case"y":b=w("y");break;case"H":r=w("H");break;case"h":r=w("h");break;case"i":k=w("i");break;case"s":c=w("s");break;case"a":h=f("a",["am","pm"],["am","pm"])-1;break;case"A":h=f("A",["am","pm"],["am","pm"])-1;break;case"'":if(i("'")){m()}else{n=true}break;default:m()}}}if(b<100){b+=new Date().getFullYear()-new Date().getFullYear()%100+(b<=g.shortYearCutoff?0:-100)}if(d>-1){v=1;o=d;do{var l=32-new Date(b,v-1,32).getDate();if(o<=l){break}v++;o-=l}while(true)}r=(h==-1)?r:((h&&r<12)?(r+12):(!h&&r==12?0:r));var u=new Date(b,v-1,o,r,k,c);if(u.getFullYear()!=b||u.getMonth()+1!=v||u.getDate()!=o){throw"Invalid date"}return u},parseValue:function(g){if(this.preset){var a=[];if(this.settings.preset=="date"){try{var f=this.parseDate(this.settings.dateFormat,g,this.settings)}catch(c){var f=new Date()}a[this.yOrd]=f.getFullYear();a[this.mOrd]=f.getMonth();a[this.dOrd]=f.getDate()}else{if(this.settings.preset=="time"){try{var f=this.parseDate(this.settings.timeFormat,g,this.settings)}catch(c){var f=new Date()}var b=f.getHours();a[0]=(this.settings.ampm)?(b>12?(b-12):(b==0?12:b)):b;a[1]=f.getMinutes();if(this.settings.seconds){a[2]=f.getSeconds()}if(this.settings.ampm){a[this.settings.seconds?3:2]=b>11?"PM":"AM"}}else{if(this.settings.preset=="datetime"){try{var f=this.parseDate(this.settings.dateFormat+" "+this.settings.timeFormat,g,this.settings)}catch(c){var f=new Date()}var b=f.getHours();a[this.yOrd]=f.getFullYear();a[this.mOrd]=f.getMonth();a[this.dOrd]=f.getDate();a[3]=(this.settings.ampm)?(b>12?(b-12):(b==0?12:b)):b;a[4]=f.getMinutes();if(this.settings.seconds){a[5]=f.getSeconds()}if(this.settings.ampm){a[this.settings.seconds?6:5]=b>11?"PM":"AM"}}}}return a}return this.settings.parseValue(g,this)},setValue:function(b){if(b==undefined){b=true}var a=this.formatResult(true);this.val=this.formatResult(false);if(this.temp){this.values=this.temp.slice(0)}if(this.settings.display=="popup"){var c=document.getElementById(this.elmId);if(b&&c){if(c.tagName==="INPUT"||c.tagName==="SELECT"||c.tagName==="TEXTAREA"){c.value=a;$KU.fireEvent(c,"change")}else{c.innerText=a;$KW.ListBox.eventHandler(null,c,null)}}}},getDate:function(){var b=this.values;if(this.settings.preset=="date"){return new Date(b[this.yOrd],b[this.mOrd],b[this.dOrd])}if(this.settings.preset=="time"){var a=(this.settings.ampm)?((b[this.settings.seconds?3:2]=="PM"&&(b[0]-0)<12)?(b[0]-0+12):(b[this.settings.seconds?3:2]=="AM"&&(b[0]==12)?0:b[0])):b[0];return new Date(1970,0,1,a,b[1],this.settings.seconds?b[2]:null)}if(this.settings.preset=="datetime"){var a=(this.settings.ampm)?((b[this.settings.seconds?6:5]=="PM"&&(b[3]-0)<12)?(b[3]-0+12):(b[this.settings.seconds?6:5]=="AM"&&(b[3]==12)?0:b[3])):b[3];return new Date(b[this.yOrd],b[this.mOrd],b[this.dOrd],a,b[4],this.settings.seconds?b[5]:null)}},setDate:function(c,b){if(this.settings.preset.match(/date/i)){this.temp[this.yOrd]=c.getFullYear();this.temp[this.mOrd]=c.getMonth();this.temp[this.dOrd]=c.getDate()}if(this.settings.preset=="time"){var a=c.getHours();this.temp[0]=(this.settings.ampm)?(a>12?(a-12):(a==0?12:a)):a;this.temp[1]=c.getMinutes();if(this.settings.seconds){this.temp[2]=c.getSeconds()}if(this.settings.ampm){this.temp[this.settings.seconds?3:2]=a>11?"PM":"AM"}}if(this.settings.preset=="datetime"){var a=c.getHours();this.temp[3]=(this.settings.ampm)?(a>12?(a-12):(a==0?12:a)):a;this.temp[4]=c.getMinutes();if(this.settings.seconds){this.temp[5]=c.getSeconds()}if(this.settings.ampm){this.temp[this.settings.seconds?6:5]=a>11?"PM":"AM"}}this.setValue(b)},formatResult:function(b){var c=this.temp;if(this.preset){if(this.settings.preset=="date"){return this.formatDate(this.settings.dateFormat,new Date(c[this.yOrd],c[this.mOrd],c[this.dOrd]),this.settings)}else{if(this.settings.preset=="datetime"){var a=(this.settings.ampm)?((c[this.settings.seconds?6:5]=="PM"&&(c[3]-0)<12)?(c[3]-0+12):(c[this.settings.seconds?6:5]=="AM"&&(c[3]==12)?0:c[3])):c[3];return this.formatDate(this.settings.dateFormat+" "+this.settings.timeFormat,new Date(c[this.yOrd],c[this.mOrd],c[this.dOrd],a,c[4],this.settings.seconds?c[5]:null),this.settings)}else{if(this.settings.preset=="time"){var a=(this.settings.ampm)?((c[this.settings.seconds?3:2]=="PM"&&(c[0]-0)<12)?(c[0]-0+12):(c[this.settings.seconds?3:2]=="AM"&&(c[0]==12)?0:c[0])):c[0];return this.formatDate(this.settings.timeFormat,new Date(1970,0,1,a,c[1],this.settings.seconds?c[2]:null),this.settings)}}}}return this.settings.formatResult(c,b,this)},validate:function(c){if(this.preset&&this.settings.preset.match(/date/i)&&((c==this.yOrd)||(c==this.mOrd)||(c==-1))){var d=32-new Date(this.temp[this.yOrd],this.temp[this.mOrd],32).getDate()-1;var a=this.picker.querySelectorAll("ul")[this.dOrd];var b=a.querySelectorAll("li");for(var c=0;c<b.length;c++){if(b[c]&&b[c].style){if(c<=d){b[c].style.display=""}else{b[c].style.display="none"}}}if(this.temp[this.dOrd]>d){this.scroll(a,this.m-d-1);this.temp[this.dOrd]=parseInt(b[d].getAttribute("val"),10)}}else{this.settings.validate(c)}},getSelectedKeys:function(){var a=[];if(a&&this.settings.wheels){if(IndexJL){a.push(null)}for(var b=0;b<this.values.length;b++){a.push(this.settings.wheels[b+IndexJL][this.values[b]+IndexJL][0+IndexJL])}}return(a.length>IndexJL)?a:null},getSelectedKeyValues:function(){var b=[];if(b&&this.settings.wheels){if(IndexJL){b.push(null)}for(var c=0;c<this.values.length;c++){if(this.settings.widgetModel.masterdatamap){var a=this.settings.widgetModel.masterdatamap[c+IndexJL][0+IndexJL];b.push(a[this.values[c]+IndexJL])}else{b.push(this.settings.widgetModel.masterdata[c+IndexJL][this.values[c]+IndexJL])}}}return(b.length>IndexJL)?b:null},setSelectedKeys:function(e){this.values=(!IndexJL)?[]:[null];this.temp=(!IndexJL)?[]:[null];if(e===null){for(var c=IndexJL;c<this.settings.wheels.length;c++){this.values.push(0);this.values.push(0)}}else{var d=(this.picker)?this.picker.querySelectorAll(".dww ul"):null;for(var c=IndexJL;c<e.length;c++){var f=this.settings.wheels[c];for(var b=IndexJL;b<(f.length-1);b++){if(f[b][0+IndexJL]==e[c]){var a=b-IndexJL;this.values.push(a);this.temp.push(a);if(d){this.scroll(d[c-IndexJL],this.m-(a<0?0:a)-1)}}}}}},wheelDataIndexByTextValue:function(a,b){for(var d=0;d<a.length;d++){if(a[d]!==null){if(a[d][2]==b||a[d][1]==b||d==b){return d}}}return null},wheelDataValueByText:function(a,b){for(var d=IndexJL;d<a.length;d++){if(a[d][2]==b){return a[d][1]}}return null},wheelDataTextByValue:function(b,a){for(var d=0;d<b.length;d++){if(b[d]!==null){if(b[d][1]==a){return b[d][2]}}}return null},hide:function(){if(this.visible){this.picker.style.display="none";this.picker.previousSibling.style.display="none";this.picker.previousSibling.removeAttribute("dummy");this.visible=false}},show:function(){if(!this.visible){document.getElementById(this.elmId).blur();if(this.settings.modal===false||this.settings.display==="inline"){this.picker.previousSibling.style.display="none"}else{this.picker.previousSibling.style.display="block";this.picker.previousSibling.setAttribute("dummy","dummy")}this.picker.style.display="block";this.visible=true;this.position();var g=this.picker.querySelectorAll(".dww ul");for(var d=0;d<g.length;d++){var b="",c=null;if(!this.preset){for(var h in this.settings.wheels[d]){this.values[d]=this.wheelDataIndexByTextValue(this.settings.wheels[d][h],this.values[d]);break}}c=g[d].querySelectorAll("li.val_"+this.values[d]);var b=$KU.elementIndex(c[0]);while((b<0)&&(--this.values[d]>=0)){var a=g[d].querySelectorAll("li.val_"+this.values[d])[0];b=$KU.elementIndex(a)}this.scroll(g[d],this.m-(b<0?0:b)-1)}if(!this.preset){var f=this.picker.querySelectorAll(".dwv");var e=this.settings.formatResult(this.values,true,this);f[0].innerHTML=(e)?e:""}}},position:function(){if(!this.picker||!this.picker.previousSibling){return}var d=window.innerWidth||document.body.clientWidth,b=window.innerHeight||document.body.clientHeight,a,c;a=this.picker.offsetWidth;c=this.picker.offsetHeight;if(this.settings.dock=="bottom"){this.picker.style.top="";this.picker.style.left="0px";this.picker.style.bottom="0px"}else{this.picker.style.top=((b-c)/2)+"px";this.picker.style.left=((d-a)/2)+"px"}this.picker.previousSibling.style.height=(window.innerHeight||document.body.clientHeight)+"px"},calculate:function(c,f,e,g){var b=parseInt(c.getAttribute("index"),10);f=f>(this.m-1)?(this.m-1):f;f=f<(this.m-this.l)?(this.m-this.l):f;this.scroll(c,f,e?(f==g?0.1:Math.abs((f-g)*0.1)):0,g,b);this.temp[b]=parseInt(c.querySelectorAll("li")[(this.m-1-f)].getAttribute("val"),10)-IndexJL;this.validate(b);var d=this.picker.querySelectorAll(".dwv"),a=(this.preset)?this.formatResult(false):this.formatResult(true);for(var b=0;b<d.length;b++){d[b].innerHTML=(a)?a:""}},getY:function(a){return this.touch?a.touches[0].pageY:a.pageY},plus:function(a){if(this.plustap){var b=parseFloat(a.getAttribute("pos")),c=b-1;c=c<(this.m-this.l)?(this.m-1):c;this.calculate(a,c)}else{clearInterval(this.plustap)}},minus:function(a){if(this.minustap){var b=parseFloat(a.getAttribute("pos")),c=b+1;c=c>(this.m-1)?(this.m-this.l):c;this.calculate(a,c)}else{clearInterval(this.minustap)}},dwwlAttachMouseScroll:function(d,h,b){kony.events.preventDefault(d);d=d.originalEvent;var g=d.wheelDelta?(d.wheelDelta/120):(d.detail?(-d.detail/3):0);var a=h.querySelectorAll("ul")[0];var c=parseFloat(a.getAttribute("pos"));var f=Math.round(c+g);b.l=a.querySelectorAll("li").length;b.calculate(a,f)},dwwlAttachStart:function(b,c,a){if(!a.move&&a.settings.mode=="scroller"){kony.events.preventDefault(b);kony.events.stopPropagation(b);a.move=true;a.target=c.querySelectorAll("ul")[0];a.pos=parseFloat(a.target.getAttribute("pos"));a.l=$KU.filterElements(a.target.querySelectorAll("li"),"visible").length;a.start=a.getY(b);a.startTime=new Date();a.stop=a.start;a.scroll(a.target,a.pos)}},dwb_dwwbAttachStart:function(b,c,a){$KU.addClassName(c,"dwb-a")},dwwbpAttachStart:function(d,f,c){kony.events.preventDefault(d);kony.events.stopPropagation(d);var b=$KU.closestElement(f,"class","dwwl");var a=null;if(b){a=b.querySelectorAll("ul")[0]}c.l=$KU.filterElements(a.querySelectorAll("li"),"visible").length;clearInterval(c.plustap);c.plustap=setInterval(function(){c.plus(a)},200);c.plus(a)},dwwbmAttachStart:function(d,f,c){kony.events.preventDefault(d);kony.events.stopPropagation(d);var b=$KU.closestElement(f,"class","dwwl");var a=null;if(b){a=b.querySelectorAll("ul")[0]}c.l=$KU.filterElements(a.querySelectorAll("li"),"visible").length;clearInterval(c.minustap);c.minustap=setInterval(function(){c.minus(a)},200);c.minus(a)},resetSizes:function(){var a=this.picker.querySelectorAll(".dwwl");for(var b=0;b<a.length;b++){a[b].style.height=(this.settings.rows*this.h)+"px"}a=this.picker.querySelectorAll(".dww");for(var b=0;b<a.length;b++){a[b].style.width=(this.settings.width)?this.settings.width+"px":""}a=this.picker.querySelectorAll(".dwbc a");for(var b=0;b<a.length;b++){a[b].setAttribute("class",this.settings.btnClass)}a=this.picker.querySelectorAll(".dww li, .dwwb");for(var b=0;b<a.length;b++){a[b].style.height=this.h+"px";a[b].style.lineHeight=this.h+"px"}a=this.picker.querySelectorAll("ul");for(var b=0;b<a.length;b++){var c=parseInt(a[b].getAttribute("pos"),10);if(this.settings.rows>this.tempRows){this.scroll(a[b],c+1)}else{if(this.settings.rows<this.tempRows){this.scroll(a[b],c-1)}}this.tempRows=this.settings.rows}},init:function(){var g=this;if(this.settings.display=="popup"){document.getElementById(this.elmId).blur()}if(this.settings.mode=="clickpick"){this.settings.height=50;this.settings.rows=3}if($KU.isIDevice){this.settings.height=30}if(this.settings.display=="inline"){this.settings.dock="";this.settings.modal=false;if(this.settings.widgetModel&&this.settings.widgetModel.selectedkeys){this.setSelectedKeys(this.settings.widgetModel.selectedkeys)}}this.setDefaults(this.settings);if($KU.isTablet){this.settings.rows=5}else{this.settings.rows=(this.settings.mode=="scroller"&&(window.orientation===0||window.orientation===180))?5:3}this.tempRows=this.settings.rows;var e=this.settings.dateOrder.search(/y/i),j=this.settings.dateOrder.search(/m/i),b=this.settings.dateOrder.search(/d/i);this.yOrd=e<j?(e<b?0:1):(e<b?1:2);this.mOrd=j<e?(j<b?0:1):(j<b?1:2);this.dOrd=b<e?(b<j?0:1):(b<j?1:2);this.preset=(this.settings.wheels===null&&this.settings.display=="popup");this.picker=document.createElement("div");this.picker.id=(this.settings.display=="popup")?this.elmId+"_picker":this.elmId;if(this.settings.context&&this.settings.context.tabpaneID){this.picker.setAttribute("ktabpaneid",this.settings.context.tabpaneID)}if(this.settings.widgetModel){this.picker.setAttribute("kformname",this.settings.widgetModel.pf);this.picker.setAttribute("kwidgettype",this.settings.widgetModel.wType);if(this.settings.widgetModel.margin){this.picker.style.margin=$KU.joinArray(this.settings.widgetModel.margin,"% ")+"%"}if(this.settings.widgetModel.padding){this.picker.style.padding=$KU.joinArray(this.settings.widgetModel.padding,"% ")+"%"}if(this.settings.widgetModel.isvisible===false){this.picker.style.display="none"}}if(this.settings.display=="popup"){this.picker.style.minWidth="300px"}if(this.settings.display=="inline"){this.picker.style.position="static"}if(this.settings.dock){this.picker.style.width="100%"}this.picker.className=(this.settings.theme)?"dw "+this.settings.theme:"dw";if(this.preset){this.settings.wheels=new Array();if(this.settings.preset.match(/date/i)){var h={};for(var c=0;c<3;c++){if(c==this.yOrd){h[this.settings.yearText]={};for(var f=this.settings.startYear;f<=this.settings.endYear;f++){h[this.settings.yearText][f]=this.settings.dateOrder.search(/yy/i)<0?f.toString().substr(2,2):f.toString()}}else{if(c==this.mOrd){h[this.settings.monthText]={};for(var f=0;f<12;f++){h[this.settings.monthText][f]=(this.settings.dateOrder.search(/MM/)<0?(this.settings.dateOrder.search(/M/)<0?(this.settings.dateOrder.search(/mm/)<0?(f+1):(f<9)?("0"+(f+1)):(f+1)):this.settings.monthNamesShort[f]):this.settings.monthNames[f])}}else{if(c==this.dOrd){h[this.settings.dayText]={};for(var f=1;f<32;f++){h[this.settings.dayText][f]=this.settings.dateOrder.search(/dd/i)<0?f:(f<10)?("0"+f):f}}}}}this.settings.wheels.push(h)}if(this.settings.preset.match(/time/i)){this.settings.stepHour=(this.settings.stepHour<1)?1:parseInt(this.settings.stepHour);this.settings.stepMinute=(this.settings.stepMinute<1)?1:parseInt(this.settings.stepMinute);this.settings.stepSecond=(this.settings.stepSecond<1)?1:parseInt(this.settings.stepSecond);var h={};h[this.settings.hourText]={};for(var f=(this.settings.ampm?1:0);f<(this.settings.ampm?13:24);f+=this.settings.stepHour){h[this.settings.hourText][f]=(f<10)?("0"+f):f}h[this.settings.minuteText]={};for(var f=0;f<60;f+=this.settings.stepMinute){h[this.settings.minuteText][f]=(f<10)?("0"+f):f}if(this.settings.seconds){h[this.settings.secText]={};for(var f=0;f<60;f+=this.settings.stepSecond){h[this.settings.secText][f]=(f<10)?("0"+f):f}}if(this.settings.ampm){h[this.settings.ampmText]={};h[this.settings.ampmText]["AM"]="AM";h[this.settings.ampmText]["PM"]="PM"}this.settings.wheels.push(h)}}else{if(this.settings.display=="inline"){this.settings.wheels=this.settings.widgetModel.masterdata}}this.picker.innerHTML='<div class="dwv">&nbsp;</div>';var a=(this.settings.display=="inline")?" display:none;":"";this.picker.innerHTML+='<div class="dwbc" style="clear:both;'+a+'"><span class="dwbw dwb-s"><a id="'+this.picker.id+'_dw_set" href="#">'+this.settings.setText+'</a></span><span class="dwbw dwb-c"><a id="'+this.picker.id+'_dw_cancel" href="#">'+this.settings.cancelText+"</a></span></div>";if(this.settings.display=="inline"){this.picker.querySelectorAll(".dwv")[0].style.display="none"}if(this.settings.display=="inline"){this.settings.renderTo=null}else{if(this.settings.display=="popup"){this.settings.renderTo=(this.settings.renderTo)?this.settings.renderTo:document.getElementsByTagName("body")[0]}}var d=document.createElement("div");d.className="dwo";if(this.settings.modal===false){d.style.display="none";d.setAttribute("dummy","dummy")}if(this.settings.renderTo){this.settings.renderTo.appendChild(d);this.settings.renderTo.appendChild(this.picker)}this.h=this.settings.height;this.m=Math.round(this.settings.rows/2);this.createComponents()},createComponents:function(masterdata,inst){var that=(inst)?inst:this;if(masterdata){that.settings.wheels=masterdata;that.settings.widgetModel.masterdata=masterdata}if(!that.settings.wheels){return}var sub=(that.settings.display=="inline")?1:0;var dwcCSS=that.picker.querySelectorAll(".dwc");for(var i=0;i<dwcCSS.length;i++){dwcCSS[i].parentNode.removeChild(dwcCSS[i])}that.widths=[];if(that.settings.display=="popup"){that.val=null;var elm=document.getElementById(that.elmId);if((elm&&(elm.tagName==="INPUT"||elm.tagName==="DIV")&&that.val!==null&&(that.val!=elm.value||that.val!=elm.innerText))||that.values===null){if(elm){if(elm.tagName==="INPUT"){that.temp=that.parseValue(elm.value)}else{if(elm.tagName==="DIV"){that.temp=that.parseValue("")}else{that.temp=that.parseValue("")}}}else{that.temp=that.parseValue("")}}else{that.temp=that.values.slice(0)}}else{if(that.settings.display=="inline"&&that.settings.widgetModel&&that.settings.widgetModel.masterdata&&!that.settings.widgetModel.selectedkeys){that.values=[];that.temp=[];for(var m=IndexJL;m<that.settings.widgetModel.masterdata.length;m++){that.values.push(0);that.temp.push(0)}}}that.setValue(false);for(var i=IndexJL;i<that.settings.wheels.length;i++){var dwc=document.createElement("div");var cls="dwc";cls=(that.settings.mode!="scroller")?cls+" dwpm":cls+"";cls=(that.settings.showLabel)?cls+"":cls+" dwhl";dwc.className=cls;if(!that.preset&&that.settings.wheels.length==1+IndexJL){dwc.style.cssFloat="none"}else{if(!that.preset&&that.settings.widgetModel){var tempWidth=that.settings.wheels[i][(that.settings.wheels[i].length-sub)]-2;that.widths.push(tempWidth);dwc.style.width=tempWidth+"%"}}dwc.innerHTML='<div class="dwwc dwrc"><div class="clear" style="clear:both;"></div></div>';var dwbcCSS=that.picker.querySelectorAll(".dwbc");for(var j=0;j<dwbcCSS.length;j++){dwbcCSS[j].parentNode.insertBefore(dwc,dwbcCSS[j])}var to1=dwc.querySelectorAll(".dwwc .clear");for(var t=0;t<to1.length;t++){var w=document.createElement("div");w.className="dwwl dwrc";w.innerHTML=(that.settings.mode!="scroller")?'<div class="dwwb dwwbp">+</div><div class="dwwb dwwbm">&ndash;</div>':"";w.innerHTML+='<div class="dww dwrc"><ul></ul><div class="dwwo"></div></div><div class="dwwol"></div>';to1[t].parentNode.insertBefore(w,to1[t])}for(var j=IndexJL;j<(that.settings.wheels[i].length-sub);j++){var uls=w.querySelectorAll("ul");for(var u=0;u<uls.length;u++){var optValue=$KU.isArray(that.settings.wheels[i][j])?that.settings.wheels[i][j][0+IndexJL]:that.settings.wheels[i][j];var optText=$KU.isArray(that.settings.wheels[i][j])?that.settings.wheels[i][j][1+IndexJL]:that.settings.wheels[i][j];if(optText.toLowerCase().indexOf("i18n.getlocalizedstring")!=-1){optText=eval(optText)}if(typeof optText==="string"||typeof optText==="number"||typeof optText==="boolean"){uls[u].innerHTML+='<li class="val_'+j+'" val="'+j+'" value="'+optValue+'" text="'+optText+'">'+optText+"</li>"}}}}var uls=this.picker.querySelectorAll(".dww ul");for(var i=0;i<uls.length;i++){uls[i].setAttribute("index",i);var x="",lis=null;if(!this.preset){for(var wk=IndexJL;wk<this.settings.wheels[i+IndexJL].length;wk++){lis=uls[i].querySelectorAll("li.val_"+this.wheelDataIndexByTextValue(this.settings.wheels[i+IndexJL][wk],this.temp[i]));break}}else{lis=uls[i].querySelectorAll("li.val_"+this.temp[i])}var x=$KU.elementIndex(lis[0]);while((x<0)&&(--that.temp[i]>=0)){var li=uls[i].querySelectorAll("li.val_"+that.temp[i])[0];x=$KU.elementIndex(li)}that.scroll(uls[i],this.m-(x<0?0:x)-1)}var dwvCSS=this.picker.querySelectorAll(".dwv");for(var i=0;i<dwvCSS.length;i++){var dwvRes=(this.preset)?this.formatResult(false):this.formatResult(true);dwvCSS[i].innerHTML=(dwvRes)?dwvRes:""}if(that.settings.wheels){that.validate(-1)}that.visible=true;that.position();if(inst){that.registerEvents(inst)}else{that.registerEvents();that.registerEvents(inst)}that.resetSizes()},registerEvents:function(k){var m=this;if(k){if(m.settings.display=="popup"){var g=m.picker.querySelectorAll("#"+m.picker.id+"_dw_set")[0];var j=m.picker.querySelectorAll("#"+m.picker.id+"_dw_cancel")[0];g.onclick=function(){m.setValue();m.settings.onSelect(m.val,m);if(m.settings.display=="popup"){m.hide()}return false};j.onclick=function(){m.settings.onCancel(m.val,m);if(m.settings.display=="popup"){m.hide()}return false}}var e=m.picker.querySelectorAll(".dwwl"),d=[];for(var h=0;h<e.length;h++){d.push(e[h])}d.forEach(function(i){kony.events.addEventListener(i,"mousewheel",function(p){m.dwwlAttachMouseScroll(p,this,m)},false);kony.events.addEventListener(i,m.START_EVENT,function(p){m.dwwlAttachStart(p,this,m)},false)});var c=m.picker.querySelectorAll(".dwb, .dwwb"),b=[];for(var h=0;h<c.length;h++){b.push(c[h])}b.forEach(function(i){kony.events.addEventListener(i,m.START_EVENT,function(p){m.dwb_dwwbAttachStart(p,this,m)},false)});var o=m.picker.querySelectorAll(".dwwbp"),f=[];for(var h=0;h<o.length;h++){f.push(o[h])}f.forEach(function(i){kony.events.addEventListener(i,m.START_EVENT,function(p){m.dwwbpAttachStart(p,this,m)},false)});var n=m.picker.querySelectorAll(".dwwbm"),a=[];for(var h=0;h<n.length;h++){a.push(n[h])}a.forEach(function(i){kony.events.addEventListener(i,m.START_EVENT,function(p){m.dwwbmAttachStart(p,this,m)},false)})}else{kony.events.addEventListener(document,m.MOVE_EVENT,function(i){if(m.move){kony.events.preventDefault(i);kony.events.stopPropagation(i);m.stop=m.getY(i);var p=m.pos+(m.stop-m.start)/m.h;p=p>(m.m-1+1)?(m.m-1+1):p;p=p<(m.m-m.l-1)?(m.m-m.l-1):p;m.scroll(m.target,p)}},false);kony.events.addEventListener(document,m.END_EVENT,function(q){if(m.move){kony.events.preventDefault(q);kony.events.stopPropagation(q);$KU.removeClassName(m.target,"dwa");var p=new Date()-m.startTime,s=m.pos+(m.stop-m.start)/m.h;s=s>(m.m-1+1)?(m.m-1+1):s;s=s<(m.m-m.l-1)?(m.m-m.l-1):s;if(p<300){var i=(m.stop-m.start)/p;var r=(i*i)/(2*0.0006);if(m.stop-m.start<0){r=-r}}else{var r=m.stop-m.start}m.calculate(m.target,Math.round(m.pos+r/m.h),true,Math.round(s));m.move=false;m.target=null}clearInterval(m.plustap);clearInterval(m.minustap);m.plustap=false;m.minustap=false;$KU.removeClassNames(document.querySelectorAll(".dwb-a"),"dwb-a")},false)}if(m.settings.display=="popup"&&!k){var l=($KU.isAndroid)?"resize":"orientationchange";kony.events.addEventListener(window,l,function(){if($KU.isTablet){m.settings.rows=5}else{m.settings.rows=(m.settings.mode=="scroller"&&(window.orientation===0||window.orientation===180))?5:3}m.m=Math.round(m.settings.rows/2);m.resetSizes();m.position()},false)}}};
$KW.TextArea={initialize:function(){kony.events.addEvent("change","TextArea",this.eventHandler);kony.events.addEvent("keyup","TextArea",this.keyUpEventHandler)},updateView:function(e,c,b,a){var d=$KU.getNodeByModel(e);if(!d){return}switch(c){case"text":d.value=b;break;case"maxtextlength":case"length":d.maxLength=b;break;case"placeholder":d.setAttribute("placeholder",b);break;case"numberofvisiblelines":d.setAttribute("rows",b);break;case"numberofrows":d.setAttribute("rows",b);break;case"mode":case"textinputmode":if(b==constants.TEXTAREA_INPUT_MODE_ANY){d.setAttribute("type","text")}else{if(b==constants.TEXTAREA_INPUT_MODE_NUMERIC){d.setAttribute("type","number")}}break;case"autocapitalize":d.setAttribute("autocapitalize",b==constants.TEXTAREA_AUTO_CAPITALIZE_NONE?"off":"on");break;case"keyboardtype":case"keyboardstyle":(textModel.mode!="P")&&d.setAttribute("type",b);break}},render:function(f,a){if(typeof f.mode=="undefined"){f.mode=f.textinputmode}var c=$KW.skins.getWidgetSkinList(f,a);switch(f.mode){case constants.TEXTAREA_INPUT_MODE_NUMERIC:type="number";break;default:type="text"}if(f.keyboardtype){switch(f.keyboardtype){case constants.TEXTAREA_KEY_BOARD_STYLE_EMAIL:type="email";break;case constants.TEXTAREA_KEY_BOARD_STYLE_URL:type="url";break;case constants.TEXTAREA_KEY_BOARD_STYLE_CHAT:type="chat";break;case constants.TEXTAREA_KEY_BOARD_STYLE_DECIMAL:case constants.TEXTAREA_KEY_BOARD_STYLE_NUMBER_PAD:type="number";break;case constants.TEXTAREA_KEY_BOARD_STYLE_PHONE_PAD:type="tel";break}}var b=$KG.disableViewPortScroll?"pointer-events:none;":"";var e=f.length||f.maxtextlength;var d="<textarea"+$KW.Utils.getBaseHtml(f,a)+"class = '"+c+"' "+(f.disabled?"disabled='true'":"")+" cols='15' rows='"+(f.numberofvisiblelines||f.numberofrows)+(f.placeholder?"' placeholder='"+f.placeholder+"'":"'")+(typeof e==="number"?"'  maxlength='"+e+"'":"'")+"' style='"+b+$KW.skins.getMarginSkin(f,a)+$KW.skins.getPaddingSkin(f)+" -"+vendor+"-text-security:"+(f.securetextentry?"circle":"none")+(a.layoutDir&&a.ispercent===false?";float:"+a.layoutDir:"")+"' type = '"+type+"' "+((f.autocapitalize)?" autocapitalize='on'":" autocapitalize='off'")+" onfocus='$KU.setActiveInput(this)' onblur='$KW.TextArea.onblurEventHandler(arguments[0], this)'>"+f.text+"</textarea>";return d},onblurEventHandler:function(a,c){var b=$KU.getModelByNode(c);b&&$KU.onHideKeypad(b)},eventHandler:function(a,d){var c=$KU.getModelByNode(d);if(c){c.canUpdateUI=false;c.text=d.value;c.canUpdateUI=true;d.getAttribute("kcontainerID")&&$KW.Utils.updateContainerData(c,d,false);var b=$KU.returnEventReference(c.ontextchange);b&&b.call(c,c)}},keyUpEventHandler:function(b,e){var d=$KU.getModelByNode(e);if(d){d.canUpdateUI=false;d.text=e.value;d.canUpdateUI=true}if(d.ondone&&(b.keyCode==10||b.keyCode==13)){if(d){e.getAttribute("kcontainerID")&&$KW.Utils.updateContainerData(d,e,false,true);var c=$KU.returnEventReference(d.done||d.ondone);(d.blockeduiskin)&&$KW.Utils.applyBlockUISkin(d);c&&c.call(d,d)}}var a=$KU.returnEventReference(d.onkeyup);a&&a.call(d,d)}};
$KW.CheckBoxGroup={initialize:function(){kony.events.addEvent("change","CheckBoxGroup",this.eventHandler)},updateView:function(f,c,b,a){var e=$KU.getNodeByModel(f);switch(c){case"masterdatamap":case"masterdata":var g=$KW.Utils.getMasterData(f);f.selectedkeys&&$KW.Utils.setSelectedValueProperty(f,g,"selectedkeys");if(e){e.innerHTML=this.generateList(f,g,f.context);$KU.toggleVisibilty(e,g,f)}break;case"selectedkeys":var h=document.querySelectorAll("#"+f.pf+" input[name='"+f.id+"']");if(h.length>0){for(var d=0;d<h.length;d++){if($KU.inArray(f.selectedkeys,h[d].value)[0]){h[d].checked=true}else{h[d].checked=false}}$KW.Utils.setSelectedValueProperty(f,$KW.Utils.getMasterData(f),"selectedkeys")}break;case"viewtype":f.propertyName=b;var g=$KW.Utils.getMasterData(f);if(e){e.innerHTML=this.generateList(f,g,f.context);$KU.toggleVisibilty(e,g,f)}break;case"checkedimage":var g=$KW.Utils.getMasterData(f);if(e){e.innerHTML=this.generateList(f,g,f.context);$KU.toggleVisibilty(e,g,f)}break;case"uncheckedimage":var g=$KW.Utils.getMasterData(f);if(e){e.innerHTML=this.generateList(f,g,f.context);$KU.toggleVisibilty(e,g,f)}break;case"size":var g=$KW.Utils.getMasterData(f);if(e){e.innerHTML=this.generateList(f,g,f.context);$KU.toggleVisibilty(e,g,f)}break}},render:function(b,d){if(b.itemorientation){b.orientation=b.itemorientation}var e=$KW.Utils.getMasterData(b);var g=$KW.skins.getSplitSkinsBetweenWidgetAndParentDivForCBRB(b,d);var c=(d.ispercent===false?"":g[2])+((!$KW.Utils.isWidgetVisible(b,d)||e.length<=0)?" hide":"");var a=b.skin||"";var f="<div"+$KW.Utils.getBaseHtml(b,d)+"class = '"+c+" "+a+"' style='"+$KW.skins.getMarginSkin(b,d)+$KW.skins.getPaddingSkin(b)+(d.ispercent===false?"display:inline-block":"")+"'>";b.context=d;if((b.viewtype=="tableview"||b.viewtype=="toggleview")&&!kony.appinit.isIE8){f+=this.renderViews(b,e,d)}else{f+=this.generateList(b,e,d)}f+="</div>";return f},renderViews:function(j,c,a){var g="";if(c.length>IndexJL){j.selectedkeys&&$KW.Utils.setSelectedValueProperty(j,c,"selectedkeys");if(j.viewtype=="toggleview"){g+="<div class='ktable kwt100' style='border: 1px solid gray; border-radius: 10px; overflow: hidden; '>"}for(var d=IndexJL;d<(c.length);d++){if(c[d][IndexJL]!=null&&c[d][1+IndexJL]!=null){var b=(j.selectedkeys&&$KU.inArray(j.selectedkeys,c[d][IndexJL])[0])?"checked":"";var e=$KW.skins.getSplitSkinsBetweenWidgetAndParentDivForCBRB(j,a);var f="middleleftalign";if(j.viewtype=="tableview"){g+="<div style = 'background: red; border: none; height: auto;' class =' kwt100 middleleftalign "+j.skin+"' >";var h;if(b=="checked"){h="url("+$KU.getImageURL(j.checkedimage)+")"}else{h="url("+$KU.getImageURL(j.uncheckedimage)+")"}g+="<input style='display : none;' id ='"+j.id+"_label"+d+"' class='"+f+"' kformname='"+j.pf+"' kwidgettype='"+j.wType+"' type='checkbox' "+b+($KW.Utils.isWidgetDisabled(j,a)?" disabled='true'":"")+" value='"+c[d][IndexJL]+"' name='"+j.id+"' style='  margin-right:3px;' />";g+="<label class='kwt90'  name = '"+j.id+"_label' style=' position: relative; padding-left: 5px; vertical-align: middle; display: inline-block;'>";g+=c[d][1+IndexJL];g+="</label>";g+="<label class='kwt10 middlecenteralign' selected ='"+b+"'  for ='"+j.id+"_label"+d+"'  name = '"+j.id+"_label' style=' background-image: "+h+"; width: "+j.size+"px; height: "+j.size+"px; -webkit-background-size: 100%; background-size:100%; margin-right: 3px; margin-botom: 2px; vertical-align: middle; display: inline-block; '></label>";g+="</div>";g+="<div style='border-top: 1px solid gray'></div>"}else{if(j.viewtype=="toggleview"){g+="<div style = '  margin-right: 2px; border-right: 1px solid gray; height: auto;' class =' kcell  middlecenteralign "+j.skin+"' >";g+="<input style='display : none;' id ='"+j.id+"_label"+d+"' class='"+f+"' kformname='"+j.pf+"' kwidgettype='"+j.wType+"' type='checkbox' "+b+($KW.Utils.isWidgetDisabled(j,a)?" disabled='true'":"")+" value='"+c[d][IndexJL]+"' name='"+j.id+"' style='  margin-right:3px;' />";g+="<label class='' for ='"+j.id+"_label"+d+"'   name = '"+j.id+"_label' style=' position: relative; padding-left: 5px; vertical-align: middle; display: inline-block;'>";g+=c[d][1+IndexJL];g+="</label>";g+="</div>"}}}}if(j.viewtype=="toggleview"){g+="</div>"}}return g},generateList:function(l,c,a){var h="";if(c.length>IndexJL){l.selectedkeys&&$KW.Utils.setSelectedValueProperty(l,c,"selectedkeys");for(var d=IndexJL;d<(c.length);d++){if(c[d][IndexJL]!=null&&c[d][1+IndexJL]!=null){var b=(l.selectedkeys&&$KU.inArray(l.selectedkeys,c[d][IndexJL])[0])?"checked":"";var e=$KW.skins.getSplitSkinsBetweenWidgetAndParentDivForCBRB(l,a);var g="middlecenteralign";if($KU.isAndroid&&!$KU.isTablet){g=""}if(l.viewtype=="customview"&&!kony.appinit.isIE8){if(l.itemorientation==constants.CHECKBOX_ITEM_ORIENTATION_VERTICAL){h+="<div style = 'height: auto;"+(a.ispercent===false?"display:inline'":"' class='"+e[0]+"'")+">"}else{h+="<div style = ' display: inline-block; height: auto;' >"}var k;if(b=="checked"){k="url("+$KU.getImageURL(l.checkedimage)+")"}else{k="url("+$KU.getImageURL(l.uncheckedimage)+")"}h+="<input style='display : none;' id ='"+l.id+"_label"+d+"' class='"+g+"' kformname='"+l.pf+"' kwidgettype='"+l.wType+"' type='checkbox' "+b+($KW.Utils.isWidgetDisabled(l,a)?" disabled='true'":"")+" value='"+c[d][IndexJL]+"' name='"+l.id+"' style='  margin-right:3px;' />";h+="<label  selected ='"+b+"'  for ='"+l.id+"_label"+d+"'  name = '"+l.id+"_label' style=' background-image: "+k+"; width: "+l.size+"px; height: "+l.size+"px; -webkit-background-size: 100%; background-size:100%; margin-right: 3px; margin-botom: 2px; vertical-align: middle; display: inline-block; '></label>";h+="<label   name = '"+l.id+"_label' style=' position: relative; padding-left: 5px; vertical-align: middle; display: inline-block;'>";h+=c[d][1+IndexJL];h+=(l.itemorientation==constants.CHECKBOX_ITEM_ORIENTATION_VERTICAL)?"</label><br/></div>":"</div></label>&nbsp;"}else{var f=$KU.getAccessibilityValues(l,c[d][2+IndexJL],c[d][IndexJL]);var j="";if(f.indexOf("aria-hidden")>0){j=" aria-Hidden='true' "}if(l.itemorientation==constants.CHECKBOX_ITEM_ORIENTATION_VERTICAL){h+="<div "+j+" style = 'height: auto;"+(a.ispercent===false?"display:inline'":"' class='"+e[0]+"'")+">"}else{h+="<div "+j+"style = ' display: inline-block; height: auto; text-decoration: inherit;' >"}h+="<input class='"+g+"' kformname='"+l.pf+"' kwidgettype='"+l.wType+"' type='checkbox' "+b+($KW.Utils.isWidgetDisabled(l,a)?" disabled='true'":"")+f+" value='"+c[d][IndexJL]+"' name='"+l.id+"' style='margin-right:3px;' />";h+=c[d][1+IndexJL];h+=(l.itemorientation==constants.CHECKBOX_ITEM_ORIENTATION_VERTICAL)?"<br/></div>":"</div>&nbsp;"}}}}return h},changeImage:function(b,a){var c="url("+$KU.getImageURL(a.checkedimage)+")";if(b.getAttribute("selected")=="checked"){b.style.backgroundImage="url("+$KU.getImageURL(a.uncheckedimage)+")";b.setAttribute("selected","")}else{b.style.backgroundImage="url("+$KU.getImageURL(a.checkedimage)+")";b.setAttribute("selected","checked")}},eventHandler:function(a,f){var e=f.parentNode.parentNode;var b=$KU.getModelByNode(e);if(f.getAttribute("checked")===""){f.removeAttribute("checked")}else{f.setAttribute("checked","")}if(b){if(!kony.appinit.isIE8&&a.type=="click"&&b.viewtype=="defaultview"){return}if(b.viewtype=="customview"&&!kony.appinit.isIE8){$KW.CheckBoxGroup.changeImage($KU.getNextSibling(f),b)}if(b.viewtype=="tableview"&&!kony.appinit.isIE8){$KW.CheckBoxGroup.changeImage($KU.getNextSibling($KU.getNextSibling(f)),b)}if(e.getAttribute("kcontainerID")){$KW.Utils.updateContainerData(b,f,false)}else{var d=b.selectedkeys||(IndexJL==1?[null]:[]);$KW.Utils.setSelectedKeys(b,f.checked,d,f.value);$KW.Utils.setSelectedValueProperty(b,$KW.Utils.getMasterData(b),"selectedkeys");var c=$KU.returnEventReference(b.onselection);c&&c.call(b,b)}}}};
$KW.Link={initialize:function(){kony.events.addEvent("click","Link",this.eventHandler)},updateView:function(e,c,b,a){var d=$KU.getNodeByModel(e);if(!d){return}switch(c){case"text":d.childNodes[0].innerHTML=b;break}},render:function(b,c){if(!b.buiskin){b.buiskin=b.blockeduiskin}var d=$KW.skins.getWidgetSkinList(b,c);d+=" konylink";var e="<div"+$KW.Utils.getBaseHtml(b,c)+"class = '"+d+"' style='display:inline-block;text-align:"+$KW.skins.getContentAlignment(b)+";"+$KW.skins.getMarginSkin(b,c)+$KW.skins.getPaddingSkin(b)+(c.layoutDir&&c.ispercent===false?";float:"+c.layoutDir:"")+"'>";var f=$KU.getAccessibilityValues(b);e+="<a";if(b.externalurl){e+=" onclick='window.open('"+b.externalurl+"');return false;'"}var a=" style='display:inline-block;width:100%;height:100%'";e+=" href='javascript:void(0)' "+($KU.isWindowsPhone?a:"")+f+">"+b.text+"</a>";e+="</div>";return e},eventHandler:function(b,e){var c=$KU.getModelByNode(e),a=e.getAttribute("kcontainerID");if(a){$KW.Utils.updateContainerData(c,e,true)}else{if(c.onclick){var d=$KU.returnEventReference(c.onclick);e.setAttribute("selected","progressindtr");e.setAttribute("progressskin",c.skin);c.blockeduiskin&&$KW.Utils.applyBlockUISkin(c);d.call(c,c)}}}};
$KW.HBox={initialize:function(){kony.events.addEvent("click","HBox",this.eventHandler);kony.events.addEvent("onorientationchange","HBox",this.orientationHandler)},orientationHandler:function(h,c){var g=document.querySelectorAll("div[aspect-ratio]");for(var d=0;d<g.length;d++){var f=g[d];var a=f.getAttribute("aspect-ratio");var e=f.clientWidth;var b=Math.round(1/a*e);f.style.height=b+"px"}},updateView:function(d,c,b,a){},getExtraNodeWidth:function(b){var c=0;for(var a=0;a<b.children.length;a++){c+=b[b.children[a]].containerweight}return(100-c)},render:function(m,a){if(!m.buiskin){m.buiskin=m.blockeduiskin}var b=kony.model.getWidgetModel(m.pf,a.tabpaneID);var e=$KW.skins.getWidgetAlignmentSkin(m);var h=a.topLevelBox;var g=$KW.skins.getSplitSkinsBetweenWidgetAndParentDiv(m,a);var f=g[2];f+=" "+$KW.skins.getWidgetAlignmentSkin(m);var l="";if(!h){l+="<div class = 'krow kwt100' >";l+="<div class = 'kcell kwt100' >"}f+=!$KW.Utils.isWidgetVisible(m,a)?" hide":"";var j=" table-layout:fixed;"+$KW.skins.getMarginSkin(m,a)+$KW.skins.getPaddingSkin(m);l+="<div  class = 'ktable "+f+"'"+$KW.Utils.getBaseHtml(m,a)+" style='"+j+"'>";l+="<div class = 'krow "+e+" kwt100' >";if(m.children){for(var d=0;d<m.children.length;d++){var c=m[m.children[d]];a.vLine=(c.wType=="Line")?true:false;if(c.wType==="HBox"||c.wType==="VBox"){a.topLevelBox=false;a.ispercent=m.percent;if(c.wType=="HBox"){l+=$KW.HBox.render(c,a)}else{l+=$KW.VBox.render(c,a)}}else{if(m.percent===true){a.ispercent=true;var n;if(c.containerweight){n="kwt"+c.containerweight}else{n="auto"}var k=$KW.skins.getWidgetAlignmentSkin(c);l+="<div class = 'kcell "+n+" "+k+(c.wType=="TPW"?" konycustomcss":"")+"' style='"+$KW.skins.getChildMarginAsPaddingSkin(c)+"' >"}else{a.ispercent=false}l+=$KW[c.wType].render(c,a);if(m.percent===true){l+="</div>"}}}if($KG.appbehaviors.adherePercentageStrictly==true&&m.percent===true){m.dummyNodeWidth=this.getExtraNodeWidth(m);l+="<div class = 'kcell kwt"+m.dummyNodeWidth+"'  ></div>"}}l+="</div></div>";if(!h){l+="</div></div>"}return l},eventHandler:function(b,d){var c=$KU.getModelByNode(d),a=d.getAttribute("kcontainerID");c.blockeduiskin&&$KW.Utils.applyBlockUISkin(c);if(a){$KW.Utils.updateContainerData(c,d,true)}else{if(c.onclick){c.onclick(c)}else{kony.events.executeBoxEvent(c)}}},setProgressIndicator:function(b){var a=$KW.Utils.setProgressIndicator(b);b.parentNode.insertBefore(a,b)},addChild:function(b,d){var c=$KU.getNodeByModel(b);if(c&&d.length>0){var e=document.createElement("div");e.innerHTML=$KW.HBox.appendChildren(b,d);if(b.wType=="HBox"||b.orientation==constants.BOX_LAYOUT_HORIZONTAL){c=c.children[0]}while(e.children.length>0){c.appendChild(e.children[0])}if(kony.appinit.isIE&&b.wType=="ScrollBox"&&b.orientation==constants.BOX_LAYOUT_HORIZONTAL){$KW.ScrollBox.adjustScrollChildrenWidth(b)}$KW.Utils.initializeNewWidgets(d);if($KG.appbehaviors.adherePercentageStrictly==true&&b.orientation==constants.BOX_LAYOUT_HORIZONTAL){for(var a=0;a<d.length;a++){b.dummyNodeWidth-=d[a].containerweight}c.lastChild.className="kcell kwt"+b.dummyNodeWidth}}},addChildat:function(c,e,a){var d=$KU.getNodeByModel(c);if(d){var f=document.createElement("div");f.innerHTML=$KW.HBox.appendChildren(c,e);if(c.wType=="HBox"||c.orientation==constants.BOX_LAYOUT_HORIZONTAL){d=d.children[0]}a=a<0?0:a;if(kony.appinit.isIE&&!d.childNodes[a]){d.appendChild(f.childNodes[0])}else{d.insertBefore(f.childNodes[0],d.childNodes[a])}if(kony.appinit.isIE&&c.wType=="ScrollBox"&&c.orientation==constants.BOX_LAYOUT_HORIZONTAL){$KW.ScrollBox.adjustScrollChildrenWidth(c)}$KW.Utils.initializeNewWidgets(e);if($KG.appbehaviors.adherePercentageStrictly==true&&c.orientation==constants.BOX_LAYOUT_HORIZONTAL){for(var b=0;b<e.length;b++){c.dummyNodeWidth-=e[b].containerweight}d.lastChild.className="kcell kwt"+c.dummyNodeWidth}}},appendChildren:function(g,h){var f="";var a=new $KW.WidgetGenerationContext(g.pf);for(var d=0;d<h.length;d++){var c=h[d];if(c.wType==="HBox"||c.wType==="VBox"){a.toplevel=false;if(c.wType=="HBox"){f+=$KW.HBox.render(c,a)}else{f+=$KW.VBox.render(c,a)}}else{if(g.wType=="HBox"||g.orientation==constants.BOX_LAYOUT_HORIZONTAL){if(g.percent==true){a.ispercent=true;var j="kwt"+c.containerweight;var e=$KW.skins.getWidgetAlignmentSkin(c);f+="<div class = 'kcell "+j+" "+e+"' style='"+$KW.skins.getChildMarginAsPaddingSkin(c)+"' >"}else{a.ispercent=false}f+=$KW[c.wType].render(c,a);if(g.percent==true){f+="</div>"}}else{var b=" krow kwt100 ";f+="<div class = '"+b+"' >";layoutDirection=$KW.skins.getWidgetAlignmentSkin(c);b="kwt100";b+=" kcell "+layoutDirection;f+="<div class = '"+b+"' style='"+$KW.skins.getChildMarginAsPaddingSkin(c)+"' >";f+=$KW[c.wType].render(c,a);f+="</div></div>"}}}return f},add:function(){var a=arguments[0];if(a&&"add" in a){var b=[].slice.call(arguments,1);a.add(b)}},addAt:function(b,c,a){if(c==null){return}b&&b.addAt(c,a)},remove:function(a,b){a&&a.remove(b)},removeAt:function(b,a){return b&&b.removeAt(a)},widgets:function(a){return a&&a.widgets()},DOMremove:function(b,c){var d=$KU.getNodeByModel(b);if(d&&c){if(b.wType=="HBox"||(b.wType=="ScrollBox"&&b.orientation==constants.BOX_LAYOUT_HORIZONTAL)){d=d.children[0]}for(var a=0;a<b.children.length;a++){if(c.id==b.children[a]){d.removeChild(d.children[a]);break}}}},resetWidthScrollBox:function(f,d){var e=document.getElementById(f.pf+"_"+f.id+"_parent"),b=0,a=document.getElementById(f.pf+"_"+f.id+"_scrollee");for(var c=IndexJL;c<f.children.length;c++){if(d.id==f.children[c]){continue}if(window[f.pf][f.children[c]]){b+=window[f.pf][f.children[c]].containerWeight}}a.style.width=(e.offsetWidth*(b/100)<e.offsetWidth)?(e.offsetWidth+"px"):(e.offsetWidth*(b/100)+"px")}};
$KW.VBox={initialize:function(){kony.events.addEvent("click","VBox",this.eventHandler)},updateView:function(d,c,b,a){},render:function(h,b){var d=kony.model.getWidgetModel(h.pf,h.parent);var l=b.topLevelBox;var g=$KW.skins.getWidgetAlignmentSkin(h);var n="";var m=" table-layout:fixed;"+$KW.skins.getMarginSkin(h,b)+$KW.skins.getPaddingSkin(h);var k=(!$KW.Utils.isWidgetVisible(h,b)?" hide":"");if(l){var c=$KW.skins.getWidgetSkinList(h,b);n+="<div class = 'ktable "+c+" "+k+"'"+$KW.Utils.getBaseHtml(h,b)+" style='"+m+"'>"}else{var a=h.containerweight;if(d&&d.wType=="ScrollBox"&&d.totalWt&&kony.appinit.isIE){a=Math.floor((100*a)/d.totalWt)}var c="kwt"+a+" "+g;n+="<div class = ' kcell "+c+"' style='"+$KW.skins.getChildMarginAsPaddingSkin(h)+"' >";c=$KW.skins.getWidgetSkinList(h,b);n+="<div class = 'ktable "+c+" "+k+"'"+$KW.Utils.getBaseHtml(h,b)+" style='"+m+"'>"}var j=h.children?h.children.length:0;for(var f=0;f<j;f++){var e=h[h.children[f]];if(e.wType==="HBox"||e.wType==="VBox"||e.wType==="ScrollBox"){b.topLevelBox=false;if(e.wType=="HBox"){b.ispercent=h.percent}n+=$KW[e.wType].render(e,b)}else{b.ispercent=true;c=" krow kwt100 ";n+="<div class = '"+c+"' >";g=$KW.skins.getWidgetAlignmentSkin(e);c="kwt100 kcell "+g+(e.wType=="TPW"?" konycustomcss":"");n+="<div class = '"+c+"' >";n+=$KW[e.wType].render(e,b);n+="</div></div>"}}n+="</div>";if(!l){n+="</div>"}return n},eventHandler:function(a,b){$KW.HBox.eventHandler(a,b)}};
$KW.Line={initialize:function(){kony.events.addEvent("onorientationchange","Line",this.resizeVLines)},initializeView:function(a){$KW.Line.resizeVLines(a)},updateView:function(e,c,b,a){var d=$KU.getNodeByModel(e);if(!d){return}switch(c){case"thickness":if(d.getAttribute("direction")!="V"){d.style.borderTopWidth=b+"px"}else{d.style.width=b+"px"}break}},render:function(e,a){var d=$KW.skins.getWidgetSkinList(e,a);var b=(e.skin&&this.getColor(e.skin))||"black";var c;if(!a.vLine){c="<div"+$KW.Utils.getBaseHtml(e,a)+"class='"+d+"' style='border-top:"+e.thickness+"px solid "+b+";"+$KW.skins.getMarginSkin(e,a)+$KW.skins.getPaddingSkin(e)+"'></div>"}else{c="<div"+$KW.Utils.getBaseHtml(e,a)+"class='"+d+"' direction='V' style='background-color:"+b+";width:"+e.thickness+"px;height:1px;margin:auto;"+$KW.skins.getPaddingSkin(e)+(a.ispercent===false?"display:inline-block":"")+"'></div>"}return c},resizeVLines:function(d){var b=document.querySelectorAll("#"+d+" div[kwidgettype='Line'][direction='V']");for(var a=0;a<b.length;a++){var c=b[a];c.style.height=c.parentNode.clientHeight+"px"}},applySkin:function(a,c){var b=(c&&this.getColor(c))||"black";if(a.getAttribute("direction")!="V"){a.style.borderTopColor=b}else{a.style.backgroundColor=b}},getColor:function(b){if(!$KG["line"+b]){var a=document.createElement("div");a.className=b;document.body.appendChild(a);$KG["line"+b]=$KU.getStyle(a,"color");document.body.removeChild(a)}return $KG["line"+b]}};
$KW.Segment={segmentCounter:0,initialize:function(){kony.events.addEvent("click","Segment",this.eventHandler);kony.events.addEvent("onorientationchange","Segment",this.orientationHandler)},initializeView:function(a){$KW.touch.computeSnapWidths(a,"Segment")},orientationHandler:function(b,a){$KW.touch.computeSnapWidths(b,"Segment")},adjustFooter:function(d){var a=document.querySelectorAll("#"+d+" div[kwidgettype='Segment']");for(var b=0;b<a.length;b++){var c=$KU.getModelByNode(a[b]);var e=document.getElementById(c.pf+"_"+c.id+"_footer");e&&(e.style.width=window.innerWidth)}},updateView:function(m,n,F,e){var c=$KU.getNodeByModel(m);switch(n){case"skin":case"askin":case"rowskin":case"alternaterowskin":if(c){if(n=="skin"){var z=F+"grp";var y=e+"grp";$KU.removeClassName(c,y);$KU.addClassName(c,z);break}if(m.viewtype!=constants.SEGUI_VIEW_TYPE_PAGEVIEW){if(m.hasSections){this.applySectionRowSkin(m,c)}else{c=c.childNodes[0];this.applyRowSkin(m,c)}}}break;case"widgetskin":if(c){$KU.removeClassName(c,e||(m.skin?m.skin+"grp":""));$KU.addClassName(c,F)}break;case"sectionskin":case"sectionheaderskin":if(m.hasSections){$KW.Segment.applySectionHeaderSkin(m,F)}break;case"focusedindex":case"selectedindex":if(F&&this.isSelectionOutOfBound(m,F)){return}if(m.selectionbehavior!=constants.SEGUI_DEFAULT_BEHAVIOR&&m.viewtype!=constants.SEGUI_VIEW_TYPE_PAGEVIEW){var s=null;m.selectedRows=(m.selectedRows)?m.selectedRows:(IndexJL)?[null]:[];if(F){if(m.selectionbehavior==constants.SEGUI_SINGLE_SELECT_BEHAVIOR){s=(IndexJL)?[null,F]:[F];var u=$KU.arrayIndex(m.selectedRows,F);if(u!=-1){s.splice(u,1)}else{s=s}}else{if(m.selectionbehavior==constants.SEGUI_MULTI_SELECT_BEHAVIOR){var u=$KU.arrayIndex(m.selectedRows,F);if(u!=-1){m.selectedRows.splice(u,1)}else{m.selectedRows.push(F)}s=m.selectedRows}}}s=(!s)?null:(s.length>IndexJL)?s:null;this.setImages(m,s)}else{if(m.selectionbehavior==constants.SEGUI_DEFAULT_BEHAVIOR){m.selectedRows=(!F)?null:(IndexJL)?[null,F]:[F];this.setSelectedItemsAndIndices(m)}}if(m.viewtype===constants.SEGUI_VIEW_TYPE_PAGEVIEW){var l=m.swipeContext;if(c){var H=c.children[0];var C=F[IndexJL+1];if((C-IndexJL)<=H.children.length){l.currentPage=parseInt(C)-IndexJL;$KW.touch.scrollImages(H,l.imageWidth*l.currentPage,$KU.swipeDuration,false);$KW.touch.updatePageIndicator(c,l,m)}}}else{(F&&c)&&this.setFocus(m,c,F)}break;case"selectedsectionindex":if(m.hasSections){var f=IndexJL?F:(F+1);if(c){c=document.querySelector("#"+c.id+" ul:nth-child("+f+")");c&&$KW.Widget.setfocus(m,null,c)}}break;case"selectedindices":if(F){var s=(IndexJL)?[null]:[];for(var B=IndexJL;B<F.length;B++){var q=parseInt(F[B][0+IndexJL],10);var D=F[B][1+IndexJL];for(var A=IndexJL;A<D.length;A++){var I=(IndexJL)?[null,q,D[A]]:[q,D[A]];if(!this.isSelectionOutOfBound(m,I)){s.push(I)}}}if(m.selectionbehavior!=constants.SEGUI_MULTI_SELECT_BEHAVIOR){s=(IndexJL)?[null,s[s.length-1]]:[s[s.length-1]]}s=(s.length>IndexJL)?s:null}else{var s=null}if(m.selectionbehavior==constants.SEGUI_DEFAULT_BEHAVIOR){m.selectedRows=s;this.setSelectedItemsAndIndices(m)}else{this.setImages(m,s)}break;case"paginationconfig":$KW.Segment.updatePageFooter(m);break;case"septhickness":case"separatorthickness":case"sepcolor":case"separatorcolor":case"separatorrequired":if(c){var a=m.separatorthickness||m.septhickness;var x=m.separatorcolor||m.sepcolor;var d="[id='"+c.id+"'] li[index"+(m.hasSections?"$='-1']":"]");var v=document.querySelectorAll(d);for(var B=0;B<v.length;++B){var w=v[B];w.style.border="none";if(!m.separatorrequired){continue}var p=parseInt(x.substring(0,2),16),E=parseInt(x.substring(2,4),16),G=parseInt(x.substring(4,6),16);var t=1-(parseInt(x.substring(6,8),16)/100);w.style.borderBottom=a+"px solid rgba("+p+","+E+","+G+","+t+")"}}break;case"needpageindicator":if(m.viewtype==constants.SEGUI_VIEW_TYPE_PAGEVIEW){var c=document.getElementById([m.pf,m.id,"footer"].join("_"));if(c){if(F){c.style.display=""}else{c.style.display="none"}}}break;case"pageondotimage":case"pageoffdotimage":var c=document.getElementById([m.pf,m.id,"footer"].join("_"));if(c){c.innerHTML=$KW.Segment.generatePageFooter(m,(m.data||[]))}break;case"data":if($KU.isArray(F)){this.setData(m,F)}else{if(F===null){m.selectedRows=m.data=null;this.setSelectedItemsAndIndices(m)}}break;case"viewtype":if(F!=e&&c){var h=c.parentNode;h.innerHTML=this.generateSegment(m,m.context);if(F==constants.SEGUI_VIEW_TYPE_PAGEVIEW){m.selectionbehavior=constants.SEGUI_DEFAULT_BEHAVIOR;c=h.childNodes[0];$KW.touch.computeWidths(c,m);var k=new $KW.touch.pageviewScroller(c,{widgetModel:m});$KG[c.id]=k}}break;case"selectionbehavior":if(F!=e){this.setData(m,m.data)}break;case"selectionbehaviorconfig":if(F instanceof Object){m.selectionindicator=F.imageIdentifier||F.imageidentifier;m.selectimage=F.selectedStateImage||F.selectedstateimage;m.unselectimage=F.unselectedStateImage||F.unselectedstateimage}if(m.selectionbehavior!=constants.SEGUI_DEFAULT_BEHAVIOR){this.setData(m,m.data)}break}},setFocus:function(c,a,b){var d=(c.hasSections)?"secindex='"+b[0+IndexJL]+","+b[1+IndexJL]+"'":"index='"+b[1+IndexJL]+"'";a=document.querySelector("#"+a.id+" li["+d+"]");a&&$KW.Widget.setfocus(c,null,a)},render:function(c,a){if(!c.buiskin){c.buiskin=c.blockeduiskin}if(!c.retainselection){c.selectedRows=c.selectedindices=c.focusedindex=c.focuseditem=c.selectedindex=c.selecteditems=c.selectedsectionindex=c.selectedrowindex=c.selectedrowindices=null}else{c.focusedindex=(c.focusedindex||c.focusedindex==0)?c.focusedindex:null;c.selectedindex=c.selectedindex||null;c.focuseditem=c.focuseditem||null;c.selecteditems=c.selecteditems||null;c.selectedsectionindex=(c.selectedsectionindex||c.selectedsectionindex==0)?c.selectedsectionindex:null;c.selectedindices=c.selectedindices||null;c.selectedRows=c.selectedRows||null}var b=c.selectionbehaviorconfig;if(b&&b instanceof Object){c.selectionindicator=b.imageIdentifier||b.imageidentifier;c.selectimage=b.selectedStateImage||b.selectedstateimage;c.unselectimage=b.unselectedStateImage||b.unselectedstateimage}c.context=a;c.selectedState=false;return this.generateSegment(c,a)},generateSegment:function(d,c){var j="",b=d.data||[];var h=(d.viewtype==constants.SEGUI_VIEW_TYPE_PAGEVIEW)?true:false;d.selectedsectionindex=IndexJL;var a=(!d.isvisible||b.length<=IndexJL)?"hide":"";var o=d.widgetskin||d.skin;var f=o?o+"grp":"";var g=a+" "+f;var e=$KW.skins.getMarginSkin(d,c);var k=$KW.skins.getPaddingSkin(d);var n;var i=d.screenLevelWidget&&(d.parent==d.pf);if(i){n=d.scrollingEvents}c.topLevelBox=true;if(h){var m=d.rowSkin||"";j+="<div"+$KW.Utils.getBaseHtml(d,c);j+="name='touchcontainer_Segment' class='kstripcontainer "+g+" "+m+"'";j+=" style='"+k+"'>";j+="<div id='imgs' class='kstrip' style='";if(!kony.appinit.useTransition){j+="position:relative"}j+="'>"}else{if(i){j+="<div  id='"+d.pf+"_"+d.id+"_scroller' class='scrollerX  "+g+"' kwidgettype='KScrollBox' name='touchcontainer_KScroller' swipeDirection ='vertical' style='"+e+"'><div id='"+d.pf+"_"+d.id+"_scrollee' class='form_scrollee' kwidgettype='KTouchscrollee'>";j+=(n&&n.onPull)?$KU.getPullString():""}j+="<div"+$KW.Utils.getBaseHtml(d,c);j+="class='"+(!i?g:"")+"' style='"+(!i?e:"")+k+"'>"}if(b.length>IndexJL){if(!h){d.hasSections=$KU.isArray(b[IndexJL])}if(!h&&d.hasSections===false){j+="<ul style='list-style:none' class='";j+=f+"grp";j+="'>"}j+=this.generateRows(d,c,b,false,IndexJL,IndexJL)}if(h){var l=$KW.Segment.renderPageFooter(d);if(d.paginationconfig&&d.paginationconfig.position=="top"){j=l+j;j+="</div></div>"}else{j+="</div></div>";j+=l}}else{if(d.hasSections===false){j+="</ul></div>"}else{j+="</div>"}if(i){j+=(n&&n.onPush)?$KU.getPushString():"";j+="</div></div>"}}return j},renderPageFooter:function(c){var a=c.data||[];var b=(!c.isvisible||a.length<=1)?"hide":"";var d="<div class='ktable kwt100 "+b+"' style='"+(c.needpageindicator?"":"display:none;")+$KW.Segment.getPageFooterStyle(c)+"' id='"+c.pf+"_"+c.id+"_footer'>"+this.generatePageFooter(c,a)+"</div>";return d},getPageFooterStyle:function(d){var a=d.paginationconfig;var c=(a&&a.vdistance)||30,b=(a&&a.hdistance)||0;c=(a&&a.position=="top")?c:-c;return a?("position: relative;z-index: 999;top: "+c+"px; left: "+b+"px;"):""},updatePageFooter:function(c){var d=document.getElementById(c.pf+"_"+c.id+"_footer");if(d){d.setAttribute("style",$KW.Segment.getPageFooterStyle(c));var b=d.cloneNode(true);var a=d.parentNode;if(c.paginationconfig&&c.paginationconfig.position=="top"){a.removeChild(d);a.insertBefore(b,document.getElementById(c.pf+"_"+c.id))}}},generateRows:function(f,c,J,l,p,u){var k="",y="",B=0,z=f.separatorcolor;var H=0,m=null,C="",F="";var q=f.sectionheaderskin||f.sectionskin||"",d="";var a=f.rowskin||f.skin||"",t=f.alternaterowskin||f.askin||"";var e,I;var E=(f.viewtype==constants.SEGUI_VIEW_TYPE_PAGEVIEW)?true:false;J=this.invertMapAndData(f,J);f.counter=p;if(z&&f.separatorrequired){var s=parseInt(z.substring(0,2),16),D=parseInt(z.substring(2,4),16),G=parseInt(z.substring(4,6),16),w=1-(parseInt(z.substring(6,8),16)/100);var x=f.separatorthickness+"px solid rgba("+s+","+D+","+G+","+w+")";y=" style='border-bottom:"+x+";"+(p>IndexJL?"border-top:"+x:"")+"'"}for(var A=IndexJL;A<J.length;A++){this.segmentCounter=A;H=(!f.hasSections)?(A-IndexJL):(J[A].sectionLabel)?0:(H+1);d=(H%2==1&&t)?t:a;if(J[A].metainfo&&J[A].metainfo.skin){d=J[A].metainfo.skin}if(J[A].template||f.rowtemplate){var v=c.tabpaneID;c.tabpaneID=""}var j="";m=J[A].sectionLabel;if(m||m===""){if(m instanceof Object){e=m.template||f.sectionheadertemplate;j=$KU.getAccessibilityValues(f,m.accessibilityConfig,null,p);if(e&&$KU.getkeys(m).length>0){c.topLevelBox=true;c.container=f;f.widgetsData=m;if(!e.pf){window[e.id]=e;_konyConstNS.Form2.addHeaderorFooter.call(e,e)}e.isTemplate=true;var h=owl.deepCopy(e);C=this.renderHBox(h,c,m,f);if(C===""){C=" "}c.topLevelBox=false;delete c.container;delete f.widgetsData}}else{if(m===""){C=" "}else{C="<div "+$KW.Utils.getBaseHtml(f,c)+">"+m+"</div>"}}if(C){if(A==IndexJL){k+="<ul style='list-style:none' class='"+d+"'>"}else{if(B==A-IndexJL){u++;p=IndexJL;k+="</ul><ul style='list-style:none' class='"+d+"'>"}}B+=f.data[u][1+IndexJL].length>IndexJL?f.data[u][1+IndexJL].length-IndexJL:1;k+="<li "+y+" class='"+q+" middleleftalign'  index='"+u+",-1' secindex='"+u+",-1'>"+C+"</li>"}}f.seccounter=u;f.rowcounter=p;c.topLevelBox=true;c.container=f;f.widgetsData=J[A];I=J[A].template||f.rowtemplate||f;if(I&&!I.pf){window[I.id]=I;_konyConstNS.Form2.addHeaderorFooter.call(I,I)}I.isTemplate=true;var n=owl.deepCopy(I);j=$KU.getAccessibilityValues(f,J[A].accessibilityConfig,null,p);F=(n.wType=="HBox"||n.orientation=="horizontal")?this.renderHBox(n,c,J[A],f):this.renderVBox(n,c,J[A],f);if(J[A].template||f.rowtemplate){c.tabpaneID=v}c.topLevelBox=false;delete c.container;delete f.widgetsData;if(!l&&F){if(E){k+="<div index="+p+" kwidgettype='KTouchsegment' style='display:none;float: left;width:100%'>"}else{k+="<li kwidgettype='Segment' index="+p+" class='"+d+"'"+(f.hasSections?" secindex='"+u+","+p+"'":"");if(A<J.length-1){if(f.hasSections&&p!=f.data[u][1+IndexJL].length-1){k+=y}else{if(!f.hasSections){k+=y}}}k+=">"}}k+=F;if(!l&&F){k+=E?"</div>":"</li>"}if(J.length-IndexJL==A&&f.hasSections){k+="</ul>"}p++;f.counter++}$KU.updateGestureTempList(f,J);return k},generatePageFooter:function(d,g){var k="";var a="";var l=d.paginationconfig;var b=(l&&l.hdistance)||0;if(g.length>IndexJL){var j=!b||(b==0);var e=j?"align='center'":"style='text-align: left;'";k+="<div class='krow kwt100' "+e+"><div class='kcell'>";d.pageondotimage=d.pageondotimage||"whitedot.gif";d.pageoffdotimage=d.pageoffdotimage||"blackdot.gif";for(var f=IndexJL;f<g.length;f++){var c=g[f].accessibilityConfig.a11yHidden;var h=c?" aria-hidden='true'":" ";a=(typeof d.focusedindex!="number"&&f==IndexJL)?d.pageondotimage:(d.focusedindex==f)?d.pageondotimage:d.pageoffdotimage;k+="<span  "+h+" onclick='$KW.touch.navigationDotsHandler(this)' index='"+f+"'><img style='padding-left:4px' src='"+$KU.getImageURL(a)+"' /></span>"}k+="</div></div>"}return k},setData:function(a,b){if($KU.isArray(b)){if(b.length>IndexJL){a.hasSections=$KU.isArray(b[IndexJL]);this.modifyContent(a,b,"setdata")}else{this.removeAll(a)}}else{throw new KonyError(102,"Error","Invalid input.")}},addAll:function(a,b){if($KU.isArray(b)){if(!$KU.isArray(a.data)){a.data=(IndexJL)?[null]:[]}if(typeof a.hasSections!=="boolean"){a.hasSections=$KU.isArray(b[IndexJL])}this.modifyContent(a,b,"addall")}else{throw new KonyError(102,"Error","Invalid input.")}},removeAll:function(a){this.modifyContent(a,IndexJL?[null]:[],"removeall")},removeAt:function(b,c,a){if(!isNaN(c)||(a&&!isNaN(a))){if($KU.isArray(b.data)&&b.data.length>IndexJL){this.modifyContent(b,[],"removeat",c,a)}}else{throw new KonyError(102,"Error","Invalid input.")}},setDataAt:function(b,c,d,a){if(c instanceof Object&&(!isNaN(d)||(a&&!isNaN(a)))){if($KU.isArray(b.data)&&b.data.length>IndexJL){this.modifyContent(b,c,"setdataat",d,a)}}else{throw new KonyError(102,"Error","Invalid input.")}},addAt:function(b,c,d,a){if(b.viewtype===constants.SEGUI_VIEW_TYPE_PAGEVIEW&&$KU.isArray(c)){throw new KonyError(103,"Error","Invalid operation.")}if(c instanceof Object&&(!isNaN(d)||(a&&!isNaN(a)))){if(!$KU.isArray(b.data)){b.data=(IndexJL)?[null]:[]}if(typeof b.hasSections!=="boolean"){b.hasSections=$KU.isArray(c)}this.modifyContent(b,c,"addat",d,a)}else{throw new KonyError(102,"Error","Invalid input.")}},addDataAt:function(b,c,d,a){if(b.viewtype===constants.SEGUI_VIEW_TYPE_PAGEVIEW&&$KU.isArray(c)){throw new KonyError(103,"Error","Invalid operation.")}if(c instanceof Object&&(!isNaN(d)||(a&&!isNaN(a)))){if(!$KU.isArray(b.data)){b.data=(IndexJL)?[null]:[]}if(typeof b.hasSections!=="boolean"){b.hasSections=$KU.isArray(c)}this.modifyContent(b,c,"adddataat",d,a)}else{throw new KonyError(102,"Error","Invalid input.")}},setDataWithSections:function(a,b){if($KU.isArray(b)&&$KU.isArray(b[IndexJL])){this.setData(a,b)}else{throw new KonyError(102,"Error","Invalid input.")}},addSectionAt:function(b,c,a){if(typeof b.hasSections!=="boolean"&&$KU.isArray(c[IndexJL])){b.hasSections=true}if(b.hasSections===false||b.viewtype===constants.SEGUI_VIEW_TYPE_PAGEVIEW){throw new KonyError(103,"Error","Invalid operation.")}else{if(!$KU.isArray(c[IndexJL])){throw new KonyError(102,"Error","Invalid input.")}}if(b.hasSections===true){if(!$KU.isArray(b.data)){b.data=(IndexJL)?[null]:[]}this.modifyContent(b,c,"addsectionat",IndexJL,a)}},setSectionAt:function(b,c,a){if(b.hasSections){if($KU.isArray(c)&&!isNaN(a)){if($KU.isArray(b.data)){this.modifyContent(b,c,"setsectionat",IndexJL,a)}}else{throw new KonyError(102,"Error","Invalid input.")}}else{throw new KonyError(103,"Error","Invalid operation.")}},removeSectionAt:function(b,a){if(b.hasSections){if(!isNaN(a)){if($KU.isArray(b.data)){this.modifyContent(b,null,"removesectionat",IndexJL,a)}}else{throw new KonyError(102,"Error","Invalid input.")}}else{throw new KonyError(103,"Error","Invalid operation.")}},modifyContent:function(c,s,p,g,l){var o=[IndexJL,IndexJL],k=false;if(p=="addat"||p=="adddataat"||p=="addsectionat"){k=true}else{if(p=="setdata"||p=="removeall"){k=o}else{if(p=="addall"){k=(!c.hasSections)?[IndexJL,c.data.length]:[c.data.length,IndexJL]}}}o=this.calculateSectionRowIndex(c,g,l,k);if(!c||o===false){return}l=o[0],g=o[1];c.canUpdateUI=false;$KW.Utils.updateContent(c,"data",s,p,g,l);this.adjustAlreadySelectedProperties(c,p,l,g);c.canUpdateUI=true;var d=$KU.getNodeByModel(c);if(c.viewtype==constants.SEGUI_VIEW_TYPE_PAGEVIEW&&c.data&&c.data.length>IndexJL&&p=="setdata"){c.focusedindex=IndexJL;c.selectedindex=(IndexJL)?[null,IndexJL,IndexJL]:[IndexJL,IndexJL];c.focuseditem=c.data[c.focusedindex];c.selecteditems=c.data[c.selectedindex[1+IndexJL]]}if(!d){return}c.context=c.context?c.context:{};c.context.tabpaneID=d.getAttribute("ktabpaneid")||"";$KU.toggleVisibilty(d,c.data,c);if(c.hasSections===false&&!d.firstChild){d.innerHTML="<ul style='list-style:none'></ul>"}if(c.hasSections===false||c.viewtype===constants.SEGUI_VIEW_TYPE_PAGEVIEW){d=d.childNodes[0]}var b=null,r=null,h=null,j=null;if(c.hasSections){r=d.childNodes;h=r[l-IndexJL];j=h?h.childNodes:null}switch(p){case"setdata":if(c.viewtype===constants.SEGUI_VIEW_TYPE_PAGEVIEW||c.hasSections){d.innerHTML=this.generateRows(c,c.context,c.data,false,g,l)}else{d.parentNode.innerHTML="<ul style='list-style:none'>"+this.generateRows(c,c.context,c.data,false,g,l)+"</ul>"}break;case"removeall":d.innerHTML="";break;case"setsectionat":h.outerHTML=this.generateRows(c,c.context,(IndexJL?[null,s]:[s]),false,g,l);break;case"removesectionat":d.removeChild(h);break;case"addsectionat":var e=document.createElement("div");e.innerHTML=this.generateRows(c,c.context,s,false,g,l);while(e.children.length>0){d.insertBefore(e.childNodes[0],h)}break;case"addall":var e=document.createElement("div");if(!c.hasSections){e.innerHTML=this.generateRows(c,c.context,s,false,g,l);while(e.children.length>0){d.appendChild(e.childNodes[0])}}else{for(var q=IndexJL;q<s.length;q++){e.innerHTML=this.generateRows(c,c.context,(IndexJL)?[null,s[q]]:[s[q]],false,g,l);while(e.children.length>0){d.appendChild(e.childNodes[0])}}}break;case"setdataat":if(!c.hasSections){var b=d.childNodes[g-IndexJL];b.innerHTML=this.generateRows(c,c.context,(IndexJL?[null,s]:[s]),true,g,l)}else{b=j[g-IndexJL+1];b.innerHTML=this.generateRows(c,c.context,(IndexJL?[null,s]:[s]),true,g,l)}$KU.addAriatoElement(b.firstChild,s.accessibilityConfig,c);break;case"removeat":if(!c.hasSections){d.removeChild(d.childNodes[g-IndexJL])}else{h.removeChild(j[g-IndexJL+1])}break;case"addat":case"adddataat":var t,a=this.generateRows(c,c.context,(IndexJL?[null,s]:[s]),false,g,l),m=document.createElement("div");if(a){m.innerHTML=a;if(!c.hasSections){if(d.style.display==="none"){d.style.display=""}if(d.parentNode.style.display==="none"){d.parentNode.style.display=""}t=d.childNodes[g-IndexJL]||null;d.insertBefore(m.childNodes[0],t)}else{if(h){if(h.style.display==="none"){h.style.display=""}if(h.parentNode.style.display==="none"){h.parentNode.style.display=""}h.insertBefore(m.childNodes[0],j[g-IndexJL+1])}}}break}if(p=="addat"||p=="adddataat"||p=="removeat"||p=="addall"){if(!c.hasSections){$KU.adjustNodeIndex(d,g,"index");this.applyRowSkin(c,d)}else{this.adjustSectionIndex(d);this.applySectionRowSkin(c,d)}}if(c.viewtype==constants.SEGUI_VIEW_TYPE_PAGEVIEW){c.isvisible&&(c.data.length>IndexJL)&&$KW.touch.computeWidths(d.parentNode,c);if(c.needpageindicator){var n=$KU.getElementById(c.pf+"_"+c.id+"_footer");n.innerHTML=this.generatePageFooter(c,c.data);$KU.toggleVisibilty(n,c.data,c)}}c.context.tabpaneID="";if($KW.Line&&c.data&&c.data.length>IndexJL){$KW.Line.initializeView(c.pf+"_"+c.id)}var s=c.data;if(c.hasSections){for(var q=IndexJL;q<s.length;q++){var f=s[q];$KU.updateGestureTempList(c,f[1+IndexJL])}}else{$KU.updateGestureTempList(c,s)}if($KG.gestureTemplates){for(var q=IndexJL;q<$KG.gestureTemplates.length;q++){window[$KG.gestureTemplates[q]]&&$KW.Utils.initializeGestures(window[$KG.gestureTemplates[q]])}}},adjustSectionIndex:function(e){var g=e.childNodes;var d,b;for(var c=0;c<g.length;c++){var f=g[c].childNodes;for(var a=1;a<f.length;a++){d=(c+IndexJL)+","+(a+IndexJL-1);b=(a+IndexJL-1);f[a].setAttribute("index",b);f[a].setAttribute("secindex",d)}if(f[0]){f[0].setAttribute("index",(c+IndexJL)+",-1");f[0].setAttribute("secindex",(c+IndexJL)+",-1")}}},applySectionRowSkin:function(f,n){var q=n.childNodes;var l=f.alternaterowskin||f.askin||"";var p=f.rowskin||f.skin||"";var d,s="";for(var h=0;h<q.length;h++){var t=q[h].childNodes;for(var e=1;e<t.length;e++){d=f.data[h+IndexJL][e];s=(d&&d.metainfo&&d.metainfo.skin)||((e%2==0&&l)?l:p);t[e].className=s;t[e].style.border="none";if(f.separatorthickness&&f.separatorcolor){if(!f.separatorrequired){continue}var a=parseInt(f.separatorcolor.substring(0,2),16),k=parseInt(f.separatorcolor.substring(2,4),16),m=parseInt(f.separatorcolor.substring(4,6),16);var c=1-(parseInt(f.separatorcolor.substring(6,8),16)/100);t[e].style.borderBottom=f.separatorthickness+"px solid rgba("+a+","+k+","+m+","+c+")"}}}},invertMapAndData:function(widget,data){var map=widget.widgetdatamap;if(map){map=$KU.isArray(map)?map[IndexJL]:map;var keys=$KU.getkeys(map);var newmap={};var newdata=IndexJL?[null]:[];for(var i=0;i<keys.length;i++){newmap[map[keys[i]]]=keys[i]}var newkeys=$KU.getkeys(newmap);if(data[IndexJL] instanceof Array){var index=IndexJL;var sectionData;for(var i=IndexJL;i<data.length;i++){var innerData=data[i][1+IndexJL];newdata[index]={};sectionData=data[i][IndexJL];if(sectionData&&typeof sectionData!="object"&&typeof sectionData!=="number"&&sectionData.toLowerCase().indexOf("i18n.getlocalizedstring")!=-1){newdata[index]["sectionLabel"]=eval(sectionData)}else{if(sectionData instanceof Object){newdata[index]["sectionLabel"]={};for(var sKey in sectionData){if(newmap[sKey]){var sValue=sectionData[sKey];if(sValue&&typeof sValue!="object"&&typeof sValue!=="number"&&sValue.toLowerCase().indexOf("i18n.getlocalizedstring")!=-1){newdata[index]["sectionLabel"][newmap[sKey]]=eval(sValue)}else{newdata[index]["sectionLabel"][newmap[sKey]]=sValue}}}sectionData.template&&(newdata[index]["sectionLabel"]["template"]=sectionData.template);sectionData.accessibilityConfig&&(newdata[index]["sectionLabel"]["accessibilityConfig"]=sectionData.accessibilityConfig)}else{newdata[index]["sectionLabel"]=sectionData}}for(var j=IndexJL;j<innerData.length;j++,index++){newdata[index]=newdata[index]||{};for(var k=0;k<newkeys.length;k++){var value=innerData[j][newkeys[k]];if(value&&typeof value!="object"&&typeof value!=="number"&&value.toLowerCase().indexOf("i18n.getlocalizedstring")!=-1){newdata[index][newmap[newkeys[k]]]=eval(value)}else{newdata[index][newmap[newkeys[k]]]=value}}innerData[j]["metainfo"]&&(newdata[index]["metainfo"]=innerData[j]["metainfo"]);innerData[j]["template"]&&(newdata[index]["template"]=innerData[j]["template"]);innerData[j]["accessibilityConfig"]&&(newdata[index]["accessibilityConfig"]=innerData[j]["accessibilityConfig"])}if(innerData.length==IndexJL){index++}}}else{for(var i=IndexJL;i<data.length;i++){newdata[i]={};for(var j=0;j<newkeys.length;j++){var value=data[i][newkeys[j]];if(value&&typeof value!="object"&&typeof value!=="number"&&value.toLowerCase().indexOf("i18n.getlocalizedstring")!=-1){newdata[i][newmap[newkeys[j]]]=eval(value)}else{newdata[i][newmap[newkeys[j]]]=value}}if(data[i]["metainfo"]){newdata[i]["metainfo"]=$KU.cloneObj(data[i]["metainfo"]);for(var j=0;j<newkeys.length;j++){if(newdata[i]["metainfo"][newkeys[j]]){newdata[i]["metainfo"][newmap[newkeys[j]]]=data[i]["metainfo"][newkeys[j]];if(newmap[newkeys[j]]!=newkeys[j]){delete newdata[i]["metainfo"][newkeys[j]]}}}}if(data[i]["template"]){newdata[i]["template"]=data[i]["template"]}if(data[i]["accessibilityConfig"]){newdata[i]["accessibilityConfig"]=data[i]["accessibilityConfig"]}}}return newdata}else{return data}},renderHBox:function(m,b,l,h){var o=b.topLevelBox;var t=$KW.skins.getWidgetAlignmentSkin(m);var g="";var p="";var d;var j=0;var s="";var a=l[m.id];$KW.Utils.updateChildModel(m,a);if(!m.isvisible){return""}var e="";if(o){e="kwt100 kbasemargin"}else{g+="<div class = 'krow kwt100' ><div class = 'kcell kwt100'>"}e+=$KW.skins.getWidgetSkinList(m,b);e+=" "+$KW.skins.getWidgetAlignmentSkin(m);s=$KW.skins.getMarginSkin(m,b)+$KW.skins.getPaddingSkin(m);g+="<div class = 'ktable "+e+"'"+$KW.Utils.getBaseHtml(m,b,null,l.accessibilityConfig)+"style='table-layout:fixed;"+s+"'><div class = 'krow "+t+" kwt100'>";if(m.children){d=m.children.length;var f=0;var c=m.children.length;if(kony.appinit.isIE7&&m.percent==false&&b.layoutDir&&b.layoutDir=="right"){f=m.children.length-1;c=0}for(var r=f;(f==0?(r<c):(r>=c));(f==0?r++:r--)){var q=m[m.children[r]];b.vLine=(q.wType=="Line")?true:false;var u=q.id;b.ispercent=m.percent;if((q.wType=="HBox"||q.wType=="VBox")&&q.isvisible){b.topLevelBox=false;if(q.wType=="HBox"){p=this.renderHBox(q,b,l,h)}else{p=this.renderVBox(q,b,l,h)}if(p){g+=p}else{j++}}else{var a=l[u];this.applyWidgetFocusSkin(a,q,h);$KW.Utils.updateChildModel(q,a);if(!q.isvisible){continue}b.ispercent=m.percent;var k=$KW.skins.getWidgetAlignmentSkin(q);var n;if(q.containerweight){n="kwt"+q.containerweight}else{n="auto"}if(q.wType=="Line"){n="auto"}var e=k+" "+n;if((m.wType=="Segment")||(!(m.wType=="Segment")&&m.percent==true)){g+="<div class = 'kcell "+e+"' style='"+$KW.skins.getChildMarginAsPaddingSkin(q)+"'>"}if(a||q.wType=="Line"){g+=$KW[q.wType].render(q,b)}else{j++}if((m.wType=="Segment")||(!(m.wType=="Segment")&&m.percent==true)){g+="</div>"}}}}if($KG.appbehaviors.adherePercentageStrictly==true&&m.percent===true){m.dummyNodeWidth=$KW.HBox.getExtraNodeWidth(m);g+="<div class = 'kcell kwt"+m.dummyNodeWidth+"'  ></div>"}if(d==j){return""}g+="</div></div>";if(!o){g+="</div></div>"}return g},renderVBox:function(h,b,g,f){var n=b.topLevelBox;var l=$KW.skins.getWidgetAlignmentSkin(h);var p="";var a="";var e="";var c;var m=0;var q=g[h.id];$KW.Utils.updateChildModel(h,q);if(!h.isvisible){return""}if(n){p+="<div  class = 'kwt100 kbasemargin ktable'"+$KW.Utils.getBaseHtml(h,b,null,g.accessibilityConfig)+" style='table-layout:fixed;'>"}else{var k="kwt"+h.containerweight+" "+l;p+="<div class = ' kcell "+k+"' style='"+$KW.skins.getChildMarginAsPaddingSkin(h)+"' >";k=$KW.skins.getWidgetSkinList(h,b);a=$KW.skins.getMarginSkin(h,b)+$KW.skins.getPaddingSkin(h,b);p+="<div class = ' ktable "+k+"'"+$KW.Utils.getBaseHtml(h,b)+"style= 'table-layout:fixed;"+a+"'>"}if(h.children){c=h.children.length;for(var j=0;j<h.children.length;j++){var d=h[h.children[j]];var o=d.id;if((d.wType=="VBox"||d.wType=="HBox")&&d.isvisible){b.topLevelBox=false;if(d.wType=="HBox"){e=this.renderHBox(d,b,g,f)}else{e=this.renderVBox(d,b,g,f)}if(e){p+=e}else{m++}}else{var q=g[o];this.applyWidgetFocusSkin(q,d,f);$KW.Utils.updateChildModel(d,q);if(!d.isvisible){continue}p+="<div class = 'krow kwt100' >";l=$KW.skins.getWidgetAlignmentSkin(d);k="kwt100";k+=" "+l;p+="<div class = 'kcell "+k+"'>";if(q||d.wType=="Line"){p+=$KW[d.wType].render(d,b)}else{m++}p+="</div></div>"}}}if(c==m){return""}p+="</div>";if(!n){p+="</div>"}return p},applyWidgetFocusSkin:function(d,c,a){if(d&&d.focusSkin){var b="";if(a.hasSections){b="#"+a.pf+"_"+a.id+" li[secindex='"+a.seccounter+","+a.rowcounter+"'] #"+c.pf+"_"+c.id+":active"}else{b="#"+a.pf+"_"+a.id+" li[index='"+a.rowcounter+"'] #"+c.pf+"_"+c.id+":active"}$KW.Utils.applyStyle(d.focusSkin,b,a.wType)}},applyRowSkin:function(d,l){var p=l.childNodes;var j=d.alternaterowskin||d.askin||"";var m=d.rowskin||d.skin||"";var e,n="";for(var f=0;f<p.length;f++){e=d.data[f+IndexJL];n=(e&&e.metainfo&&e.metainfo.skin)||((f%2!=0&&j)?j:m);p[f].className=n;p[f].style.border="none";if(f<p.length-1&&d.separatorthickness&&d.separatorcolor){if(!d.separatorrequired){continue}var a=parseInt(d.separatorcolor.substring(0,2),16),h=parseInt(d.separatorcolor.substring(2,4),16),k=parseInt(d.separatorcolor.substring(4,6),16);var c=1-(parseInt(d.separatorcolor.substring(6,8),16)/100);p[f].style.borderBottom=d.separatorthickness+"px solid rgba("+a+","+h+","+k+","+c+")"}}},applySectionHeaderSkin:function(e,c){var b=$KU.getNodeByModel(e);if(b){var g=b.id;var d=document.querySelectorAll("#"+g+">ul>li:first-child");for(var a=0;a<d.length;a++){var f=d[a];f.style.border="none";f.className=c+" middleleftalign"}}},updateData:function(o,c,d,g,k){if(d&&g){var h=parseInt(g.getAttribute("index"));var l=0+IndexJL;var r=d.data;var q=null;var j;if(d.hasSections){j=g.getAttribute("secindex").split(",");l=parseInt(j[0])}if(d.selectionbehavior==constants.SEGUI_SINGLE_SELECT_BEHAVIOR&&(d.hasSections?(d.selectedsectionindex==l)&&(d.focusedindex==h):(d.focusedindex==h))){return}if(d.hasSections){d.selectedsectionindex=l;h=parseInt(j[1]);if(h!=-1){var f=r[l][1+IndexJL];q=f[h]}else{q=r[l][0+IndexJL]}}else{d.selectedsectionindex=l;q=d.data[h]}if(h!=-1){d.focusedindex=h;d.selectedindex=(IndexJL)?[null,l,h]:[l,h];d.focuseditem=q;if(!d.selectionindicator||d.selectionindicator!=o.id||d.selectionbehavior==constants.SEGUI_DEFAULT_BEHAVIOR){d.selecteditems=(IndexJL)?[null,q]:[q]}}var n=(q&&q.metainfo)?q.metainfo.clickable:true;if(d.selectionindicator&&d.selectionbehavior!=constants.SEGUI_DEFAULT_BEHAVIOR&&h!=-1){this.toggleRowSelection(d,g.parentNode)}if(d.selectionbehavior==constants.SEGUI_DEFAULT_BEHAVIOR){var m=IndexJL?[null]:[];var b=IndexJL?[null,d.selectedsectionindex,h]:[d.selectedsectionindex,h];m.push(b);d.selectedRows=(m&&m.length>IndexJL)?m:null;this.setSelectedItemsAndIndices(d)}if(!$KU.inArray(["HBox","VBox","Button","Link","RichText"],o.wType,true)){d.selectedrowindex=(IndexJL)?[null,l,h]:[l,h];d.selectedrowindices=d.selectedindices}d.currentIndex=[l,h];if(n&&k){this.setProgressIndicator(g,d);if((d.onclick||d.onrowclick)&&!c.getAttribute("kcontainerID")){d.blockeduiskin&&$KW.Utils.applyBlockUISkin(d);var p=$KW.Segment.getRowDataByIndex(d,(IndexJL)?[null,l,h]:[l,h]);var e=$KU.returnEventReference(p.onclick||p.onrowclick||d.onclick||d.onrowclick);e&&e.call(d,d,l,h,d.selectedState)}else{var a=(IndexJL)?[null,l,h]:[l,h];if(h==-1){var i=kony.events.executeBoxEvent(o,$KW.Segment.getRowDataByIndex(d,a),d,true)}else{var i=kony.events.executeBoxEvent(o,$KW.Segment.getRowDataByIndex(d,a),d)}if(h!=-1){var p=$KW.Segment.getRowDataByIndex(d,(IndexJL)?[null,l,h]:[l,h]);var e=$KU.returnEventReference(p.onClick||p.onclick||p.onRowClick||p.onrowclick||d.onclick||d.onrowclick);if(!i&&e){d.blockeduiskin&&$KW.Utils.applyBlockUISkin(d);if(d.selectionbehavior==constants.SEGUI_DEFAULT_BEHAVIOR){e&&e.call(d,d,l,h)}else{e&&e.call(d,d,l,h,d.selectedState)}}}}if(!kony.system.activity.hasActivity()){$KW.unLoadWidget()}}var s=q[o.id];if(s&&typeof s=="object"){if(s.enable===false){return false}}}return true},toggleRowSelection:function(d,l){if(typeof d.selectedindex=="undefined"){var o=0+IndexJL;var k=d.focusedindex}else{if(d.selectedindex){var o=d.selectedindex[0+IndexJL];var k=d.selectedindex[1+IndexJL]}else{var o=d.selectedindices[0+IndexJL][0+IndexJL];var k=d.selectedindices[0+IndexJL][1+IndexJL][0+IndexJL]}}if(d.selectionbehavior==constants.SEGUI_MULTI_SELECT_BEHAVIOR){d.selectedRows=(d.selectedRows)?d.selectedRows:(IndexJL)?[null]:[]}else{if(d.selectionbehavior==constants.SEGUI_SINGLE_SELECT_BEHAVIOR){d.selectedRows=d.selectedRows?d.selectedRows:(IndexJL)?[null]:[]}}var g=(IndexJL)?[null,o,k]:[o,k];var m=$KU.arrayIndex(d.selectedRows,g);if(m!=-1){var e=false;d.selectedRows.splice(m,1)}else{var e=true;if(d.selectionbehavior==constants.SEGUI_MULTI_SELECT_BEHAVIOR){d.selectedRows.push(g)}else{d.selectedRows=(IndexJL)?[null,g]:[g]}}d.selectedRows=(d.selectedRows&&d.selectedRows.length>IndexJL)?d.selectedRows:null;this.setSelectedItemsAndIndices(d);var h=$KU.getNodeByModel(d);var i=(d.rowtemplate?d.rowtemplate.id:d.pf)+"_"+d.selectionindicator;var j=" [index='{index}'] [id='"+i+"']";j=d.hasSections?(" ul:nth-child("+(IndexJL?o:o+1)+") "+j):j;j="#"+h.id+j;if(d.selectionindicator){var b=document.querySelector(j.replace(/\{index\}/g,k));var a=(b&&b.src)||"";a=a.substring(a.lastIndexOf("/")+1,a.length);var f;var n=e?d.selectimage:d.unselectimage;a&&(b.src=$KU.getImageURL(n));var c=$KU.getParentByAttribute(b,"index");if(c){c.firstChild.setAttribute("aria-selected",e);e?c.firstChild.setAttribute("role","option"):c.firstChild.removeAttribute("role","option")}}if(d.selectionbehavior==constants.SEGUI_SINGLE_SELECT_BEHAVIOR){if(d.selectionindicator){this.setImages(d,d.selectedRows)}}d.onselect&&d.onselect(d,d.focusedindex,e);d.selectedState=e},eventHandler:function(a,d,c){var b=$KU.getModelByNode(d);if(d.getAttribute("kwidgettype")!="Segment"){$KW.Utils.updateContainerData(b,d,true)}},setProgressIndicator:function(c,a){var b=$KW.Utils.setProgressIndicator($KU.getParentByAttribute(c,kony.constants.KONY_WIDGET_TYPE),a);c.insertBefore(b,c.childNodes[0])},setSelectedItemsAndIndices:function(b,d){if(b.selectedRows){b.selecteditems=(IndexJL)?[null]:[];var j={};for(var e=IndexJL;e<b.selectedRows.length;e++){var a=b.selectedRows[e][0+IndexJL];var g=b.selectedRows[e][1+IndexJL];if(!d){if(!j[a]){j[a]=(IndexJL)?[null]:[]}j[a].push(g)}if(b.hasSections){var f=b.data[a][1+IndexJL];var l=f[g]}else{var l=b.data[g]}b.selecteditems.push(l)}if(!d){b.selectedindices=(IndexJL)?[null]:[];for(var c in j){var h=(IndexJL)?[null]:[];h.push(parseInt(c,10));h.push(j[c]);b.selectedindices.push(h)}}b.selectedindex=b.selectedRows[b.selectedRows.length-1];b.selectedsectionindex=b.selectedindex[0+IndexJL];b.focusedindex=b.selectedindex[1+IndexJL];b.focuseditem=b.selecteditems[b.selecteditems.length-1]}else{b.focusedindex=b.focuseditem=b.selectedsectionindex=b.selectedindex=b.selecteditems=null;if(!d){b.selectedindices=null}}},setImages:function(f,g){if(f.selectionbehavior!=constants.SEGUI_DEFAULT_BEHAVIOR){var e=$KU.getNodeByModel(f);if(e){var h=$KU.getImageURL(f.selectimage);var a=document.querySelectorAll("#"+e.id+' li img[src="'+h+'"]');for(var d=0;d<a.length;d++){h=$KU.getImageURL(f.unselectimage);a[d].setAttribute("src",h);var b=$KU.getParentByAttribute(a[d],"index");if(b){b.firstChild.removeAttribute("aria-selected");b.firstChild.removeAttribute("role","option")}}if(g){if(f.selectionbehavior==constants.SEGUI_SINGLE_SELECT_BEHAVIOR){g=(IndexJL)?[null,g[g.length-1]]:[g[g.length-1]]}for(var d=IndexJL;d<g.length;d++){if(f.hasSections){a=document.querySelectorAll("#"+e.id+' li[secindex="'+g[d][0+IndexJL]+","+g[d][1+IndexJL]+'"] img#'+f.rowtemplate.id+"_"+f.selectionindicator)}else{a=document.querySelectorAll("#"+e.id+' li[index="'+g[d][1+IndexJL]+'"] img#'+f.rowtemplate.id+"_"+f.selectionindicator)}var h=$KU.getImageURL(f.selectimage);for(var c=0;c<a.length;c++){a[c].setAttribute("src",h);var b=$KU.getParentByAttribute(a[d],"index");if(b){b.firstChild.setAttribute("aria-selected",true);b.firstChild.setAttribute("role","option")}}}}}f.selectedRows=g;this.setSelectedItemsAndIndices(f)}},adjustAlreadySelectedProperties:function(b,c,a,d){if(c!="addall"){if(c=="setdata"||c=="removeall"){b.selectedRows=null}if(b.selectedRows){b.selectedRows=this.adjustSelectedRows(b.selectedRows,c,a,d)}if(b.selectedrowindices){b.selectedrowindices=this.adjustSelectedRows(b.selectedrowindices,c,a,d);b.selectedrowindices&&(b.selectedrowindex=b.selectedrowindices[b.selectedrowindices.length-1])}this.setSelectedItemsAndIndices(b)}},adjustSelectedRows:function(c,f,a,g){switch(f){case"addat":case"adddataat":for(var d=IndexJL;d<c.length;d++){if(c[d][0+IndexJL]==a&&c[d][1+IndexJL]>=g){c[d][1+IndexJL]=c[d][1+IndexJL]+1}}break;case"setdataat":var e=$KU.arrayIndex(c,(IndexJL)?[null,a,g]:[a,g]);if(e!=-1){c.splice(e,1)}break;case"removeat":var e=$KU.arrayIndex(c,(IndexJL)?[null,a,g]:[a,g]);if(e!=-1){c.splice(e,1)}for(var d=IndexJL;d<c.length;d++){if(c[d][0+IndexJL]==a&&c[d][1+IndexJL]>g){c[d][1+IndexJL]=c[d][1+IndexJL]-1}}break;case"addsectionat":for(var d=IndexJL;d<c.length;d++){if(c[d][0+IndexJL]>=a){c[d][0+IndexJL]=c[d][0+IndexJL]+1}}break;case"removesectionat":case"setsectionat":var b=[];for(var d=IndexJL;d<c.length;d++){if(c[d][0+IndexJL]==a){b.push(d)}}for(var d=0;d<b.length;d++){c.splice(b[d],1)}if(f=="removesectionat"){for(var d=IndexJL;d<c.length;d++){if(c[d][0+IndexJL]>a){c[d][0+IndexJL]=c[d][0+IndexJL]-1}}}break}return(c.length>IndexJL)?c:null},calculateSectionRowIndex:function(b,e,g,d){if(typeof d!="boolean"){return d}var j=false;e=(d&&e<IndexJL)?IndexJL:e;if(!b.hasSections){if(e<IndexJL||e>=b.data.length){if(d){g=IndexJL;e=(e<IndexJL)?IndexJL:(e>=b.data.length)?b.data.length:e;j=[g,e]}}else{g=IndexJL;j=[g,e]}}else{if(typeof g!="number"){var a=null,f=0,g=IndexJL,h=e;for(var c=IndexJL;c<b.data.length;c++){a=b.data[c][1+IndexJL];f+=a.length-IndexJL;if(h>=f+IndexJL){g++;e=h-f}else{break}}if(g>=b.data.length){if(d){g=b.data.length-1;j=(b.data[g])?b.data[g][1+IndexJL].length:IndexJL;j=[g,e]}}else{a=b.data[g][1+IndexJL];if(e<IndexJL){if(d){j=[g,IndexJL]}}else{if(e>=a.length){if(d){j=[g,a.length]}}else{j=[g,e]}}}}else{if(g<IndexJL||g>=b.data.length){if(d){if(g<IndexJL){g=IndexJL;if(!b.data[g]){e=IndexJL}else{var a=b.data[g][1+IndexJL];if(e<IndexJL||e>=a.length){if(d){e=(e<IndexJL)?IndexJL:(e>=b.data.length)?b.data.length:e}}}}else{if(g>=b.data.length){g=b.data.length-IndexJL;e=(b.data[g])?b.data[g][1+IndexJL].length:IndexJL}}j=[g,e]}}else{var a=b.data[g][1+IndexJL];if(e<IndexJL||e>=a.length){if(d){e=(e<IndexJL)?IndexJL:(e>=a.length)?a.length:e;j=[g,e]}}else{j=[g,e]}}}}return j},updateSectionContent:function(h,b,e,g,a){switch(e){case"setsectionat":h.splice(a,1,b);return;break;case"addsectionat":for(var c=IndexJL;c<b.length;c++){h.splice(a++,0,b[c])}return;break;case"removesectionat":h.splice(a,1);return;break}if(e=="addall"){if(b[IndexJL] instanceof Array){$KU.addArray(h,b)}}else{var f=h[a];var d=f&&f[1+IndexJL];if(d){switch(e){case"setdataat":d.splice(g,1,b);break;case"addat":case"adddataat":if($KU.isArray(b)){for(var c=IndexJL;c<b.length;c++){d.splice(g++,0,b[c])}}else{d.splice(g,0,b)}break;case"removeat":d.splice(g,1);break}}}},isSelectionOutOfBound:function(d,c){var b=false,a=c[0+IndexJL],f=c[1+IndexJL];if(d.hasSections){if(a>=d.data.length){b=true}else{var e=d.data[a][1+IndexJL];if(f>e.length){b=true}}}else{if(f>=d.data.length){b=true}}return b},getRowDataByIndex:function(b,a){if(b.data.length>IndexJL){if($KU.isArray(b.data[0])){if(a[IndexJL+1]==-1){return b.data[a[0]][IndexJL]}else{return b.data[a[0]][IndexJL+1][a[1]]}}else{return b.data[a[1]]}}}};
$KW.Image={initialize:function(){kony.events.addEvent("click","Image",this.eventHandler)},updateView:function(e,c,b,a){var d=$KU.getNodeByModel(e);switch(c){case"src":e.srcType=1;if(d&&!$KW.Utils.belongsToSegment(d)){if(b!=a){if(!$KU.inArray($KU.imgCache,b,true)){d.parentNode.style.background="url("+$KU.getImageURL(e.imagewhiledownloading)+") center center no-repeat"}}d.src=b?$KU.getImageURL(b):""}break;case"base64":e.srcType=2;if(d&&b){d.src=this.getBase64String(b)}break;case"referenceheight":case"referencewidth":case"imagescalemode":d&&(d.parentNode.parentNode.innerHTML=this.render(e,new $KW.WidgetGenerationContext(e.pf)));break}},render:function(b,e){var g=$KW.skins.getSplitSkinsBetweenWidgetAndParentDiv(b,e);var l="";var d="";if(e.scrollBoxID){b.scrollBoxID=e.scrollBoxID}var i=true;if($KU.inArray($KU.imgCache,b.src,true)){i=false}if(i&&b.imagewhiledownloading){new Image().src=$KU.getImageURL(b.imagewhiledownloading)}b.imagewhiledownloading=b.imagewhiledownloading||$KG.imagewhiledownloading||"imgload.gif";var h=(!$KW.Utils.isWidgetVisible(b,e)?"hide":"");var j="";if(e.ispercent===false){j=e.layoutDir?"float:"+e.layoutDir:""}else{j="width:100%"}if(b.srcType==2){imgsrc=this.getBase64String(b.base64)}else{imgsrc=$KU.getImageURL(b.src)}var n="onload='$KU.imgLoadHandler(arguments[0],this)' onerror='$KU.imgLoadHandler(arguments[0])' ";var f="$KU.imgLoadHandler(arguments[0],this)";var a=[];if(e.container){var c=e.container;if(c.wType=="Segment"&&c.selectionindicator==b.id&&c.behavior!="default"&&c.selectimage&&c.unselectimage){var m=$KU.inArray(c.selectedRows,(IndexJL)?[null,c.seccounter,c.rowcounter]:[c.seccounter,c.rowcounter])[0]?c.selectimage:c.unselectimage;imgsrc=$KU.getImageURL(m)}}if(b.referencewidth&&b.imagescalemode==constants.IMAGE_SCALE_MODE_FIT_TO_DIMENSIONS){f="$KW.Image.imgLoadHandler2(arguments[0])";if(e.ispercent===false){a[1]=b.referencewidth}else{a[1]=(((screen.width*(b.containerweight/100))>b.referencewidth)?b.referencewidth:(screen.width*(b.containerweight/100)))}a[0]=b.referenceheight;d+=(a[1]!="0"?("width:"+a[1]+"px;"):"")+(a[0]!="0"?("height:"+a[0]+"px;"):"")}else{if((b.name=="kony.ui.Image2"||b.name=="konyLua.Image2")&&b.imagescalemode==constants.IMAGE_SCALE_MODE_MAINTAIN_ASPECT_RATIO){b.ispercent=e.ispercent;f="$KW.Image.imgLoadHandler2(arguments[0])"}else{if(!b.referencewidth&&b.heightwidth&&b.imagescalemode!=constants.IMAGE_SCALE_MODE_MAINTAIN_ASPECT_RATIO){a=b.heightwidth;a=a.split(",");d+=(a[1]!="0"?("width:"+a[1]+"px;"):"")+(a[0]!="0"?("height:"+a[0]+"px;"):"")}else{d="max-width:100%;"}}}l+="<span id='"+(b.pf+"_"+b.id)+"_span' class='"+h+" "+g[0]+"' style='display:inline-block;"+(i&&b.src?"background:url("+$KU.getImageURL(b.imagewhiledownloading)+") center center no-repeat;":";")+$KW.skins.getMarginSkin(b,e)+$KW.skins.getPaddingSkin(b,e)+j+";"+d+"'>";l+="<img class='' src='"+imgsrc+"'"+$KW.Utils.getBaseHtml(b,e)+"onload= "+f+" onerror='$KU.imgLoadHandler(arguments[0],this)' ";if(!(b.name=="kony.ui.Image2"||b.name=="konyLua.Image2")&&b.scalemode=="maintainaspectratio"){d="width:100%;"}else{if(b.scalemode=="retaininitialimagedimensions"){d=""}}if(i&&b.src){if(kony.appinit.isIE8||kony.appinit.isIE7){d+="opacity:0;"}else{d+="visibility:hidden;opacity:0;"}}var k=b.ondownloadcomplete||"";if(k){k=(typeof(k)=="function")?$KU.getFunctionName(b.ondownloadcomplete):b.ondownloadcomplete;k=" ondownloadcomplete= '"+k+"'"}l+="style= '"+d+"'"+k+"/></span>";return l},getBase64String:function(a){return"data:image/png;base64,"+a},eventHandler:function(b,d){var c=$KU.getModelByNode(d),a=d.getAttribute("kcontainerID");if(a){$KW.Utils.updateContainerData(c,d,true)}else{kony.events.executeBoxEvent(c)}},imgLoadHandler2:function(o){o=o||window.event;img=o.target||o.srcElement;var b=img.getAttribute("ktabpaneid");var g=img.getAttribute("kwidgettype");var r=(g=="Image")?$KU.getElementID(img.getAttribute("id")):img.getAttribute("id");var k=img.src;var l=kony.model.getWidgetModel(img.getAttribute("kformname"),r,b);var q=l;var i={};var j=[];i.width=img.width||img.naturalWidth;i.height=img.height||img.naturalHeight;if(o.type=="load"){var c=true;if($KU.inArray($KU.imgCache,k,true)){c=false}else{$KU.imgCache.push(k)}if(c||img.parentNode.style.background.indexOf("url")!=-1){img.parentNode&&(img.parentNode.style.background="none");if($KU.isBlackBerry&&$KU.getPlatformVersion("blackberry").startsWith("7")){img.style.opacity=1}else{img.style[vendor+"Transition"]="opacity 500ms ease-in-out";img.style.opacity=1}}}if(!img.parentNode){return}var f=img.parentNode.parentNode.offsetWidth;if(q.containerWeight>0&&f==0){f=i.width}var a=(i.width/i.height);var d=$KU.returnEventReference(img.getAttribute("ondownloadcomplete"));d&&d.call(l,l,k,false);if(!q.referencewidth){if(q.ispercent===false){j[1]=i.width;j[0]=i.height}else{if(i.width<=f){if(q.referenceheight&&i.height>q.referenceheight){j[0]=q.referenceheight;j[1]=j[0]*a}else{j[1]=i.width;j[0]=i.height}}else{j[1]=f;if(!q.referenceheight){j[0]=j[1]/a}else{j[0]=j[1]/a;if(j[0]>q.referenceheight){j[0]=q.referenceheight;j[1]=j[0]*a}}}}}else{if(q.ispercent===false){if(i.width<q.referencewidth){j[1]=i.width;j[0]=i.height}else{j[1]=q.referencewidth;j[0]=j[1]/a}}else{var n=(q.referencewidth<=f)?q.referencewidth:f;if(!q.referenceheight){if(i.width<n){j[0]=i.height;j[1]=i.width}else{j[1]=n;j[0]=j[1]/a}}else{var e=(i.width<n)?(i.height<q.referenceheight?true:false):false;if(!e){j[1]=(((f)>q.referencewidth)?q.referencewidth:(f));j[0]=q.referenceheight;var h=(j[1]/a)<j[0]?(j[1]/a):false;if(h===false){j[1]=(j[0]*a<=q.referencewidth)?j[0]*a:false}else{j[0]=h}}else{j[0]=i.height;j[1]=i.width}}}}img.style.width=img.parentNode.style.width=j[1]+"px";img.style.height=img.parentNode.style.height=j[0]+"px";img.style.display="";img.style.visibility="visible";if(g=="HStrip"&&(l.viewtype=="stripview"||l.viewtype=="pageview")){l.count++;if(l.masterdata.length-IndexJL==l.count){l.count=0;if(l.viewtype=="stripview"&&l.scrollInstance){var p=img.getAttribute("kformname")+"_"+r+"_scrollee";document.getElementById(p).style.width="auto";$KW.HStrip.refreshScroller(l)}else{if(l.viewtype=="pageview"){var m=document.getElementById(img.getAttribute("kformname")+"_"+r);m.style.height="auto";m.style.height=m.clientHeight+"px"}}}}img.parentNode.parentNode.style["font-size"]="0px"},setBase64Img:function(a){if(a.src&&!a.src.startsWith("http")){var b=new XMLHttpRequest();b.onreadystatechange=function(){if(b.readyState==4&&b.status==200){a.base64=$KU.getBase64(b.responseText)||null}};b.open("GET",$KU.getImageURL(a.src),true);if(b.overrideMimeType){b.overrideMimeType("text/plain; charset=x-user-defined")}b.send(null)}else{a.base64=null}}};
$KW.HStrip={initialize:function(){kony.events.addEvent("click","HStrip",this.eventHandler);kony.events.addEvent("onorientationchange","HStrip",this.orientationHandler)},initializeView:function(a){this.initializePageViews(a);$KW.touch.computeSnapWidths(a,"HStrip");this.initializeSlotViews(a);this.initializeStripViews(a)},updateView:function(g,d,b,a){var f=$KU.getNodeByModel(g);switch(d){case"viewtype":if(!f){return}f.parentNode.innerHTML=this.render(g,new $KW.WidgetGenerationContext(g.pf));if(b=="pageview"){this.initializePageView(g,false,f);$KW.touch.computeWidths(f,g);var e=new $KW.touch.pageviewScroller(f,{widgetModel:g});$KG[f.id]=e}if(b=="slotview"){this.initializeSlotView(g)}if(b=="stripview"){this.initializeStripView(f)}break;case"data":if(b&&$KU.isArray(b)){g.masterdata=b[0+IndexJL];g.key=b[1+IndexJL]}$KW.HStrip.setData(g,g.masterdata,g.key);break;case"showscrollbars":g.scrollInstance=null;$KW.HStrip.initializeStripViews(g.pf);break;case"selectedindex":case"focusedindex":if(g.viewtype=="pageview"){$KW.touch.computeSnapWidths(g.pf,"HStrip")}g.focuseditem=g.selectedItem=g.selecteditem=g.masterdata[b];break;case"referenceheight":case"referencewidth":case"imagescalemode":$KW.HStrip.setData(g,g.masterdata,g.key);break;case"viewconfig":var h=g.viewconfig;g.scrollbounce=h&&h.stripviewConfig&&h.stripviewConfig.enableScrollBounce;if(g.scrollbounce==undefined){g.scrollbounce=h&&h.stripviewconfig&&h.stripviewconfig.enablescrollbounce}var c=g.scrollInstance;if(c){c.options.bounce=(g.scrollbounce!=undefined?g.scrollbounce:true)}break}},render:function(f,a){var g=f.masterdata=(f.data&&f.data[0+IndexJL])||f.masterdata||[];if(f.data){f.key=f.data[1+IndexJL]}f.focusedindex=f.selectedindex=f.focusedindex||f.selectedindex||null;f.focuseditem=f.selecteditem=f.focuseditem||f.selecteditem||null;f.context=a;var c=$KW.skins.getMarAdjustedContainerWeightSkin(f,100)+(f.skin?" "+f.skin:"")+(!$KW.Utils.isWidgetVisible(f,a)?" hide":"");var h=$KW.skins.getMarginSkin(f,a)+" "+$KW.skins.getPaddingSkin(f);var j=f.viewtype;var i="";var d=$KW.Utils.getBaseHtml(f,a);var e=f.pf+"_"+f.id;if(f.imagewhiledownloading){new Image().src=$KU.getImageURL(f.imagewhiledownloading)}f.imagewhiledownloading=f.imagewhiledownloading||$KG.imagewhiledownloading||"imgload.gif";if(!$KU.isTouchSupported&&$KU.isMob){f.showarrows=true;f.leftarrowimage=f.leftarrowimage||"prvarw.png";f.rightarrowimage=f.rightarrowimage||"nxtarw.png"}if(j=="slotview"){i="<div "+d+"name='ImageStrip_SlotView' class='"+c+"'><div></div>";if(f.paginationconfig){i+=$KW.HStrip.generateSlotFooter(f,c)}i+="</div>"}else{if(j=="pageview"){i="<div"+d+"name='touchcontainer_HStrip' class='"+c+" kstripcontainer' style='"+h+"'>";i+="<div id='imgs' class='kstrip'>";i+="</div>";if(f.showarrows&&f.leftarrowimage&&f.rightarrowimage){i+=$KW.HStrip.fadeArrowImages(f)}i+="</div>";if(!f.ispageindicatorneeded==false){i+="<div class='ktable kwt100' id='"+f.pf+"_"+f.id+"_footer'></div>"}if(f.viewtype=="pageview"){f.count=0}}else{if(a.ispercent===false){i+="<div class = '' style='table-layout:fixed; display: inline-block;'>"}else{i+="<div class = 'ktable kwt100' style='table-layout:fixed;'>"}i+="<div class = 'krow kwt100' >";var b=$KW.skins.getWidgetAlignmentSkin(f);i+="<div class = 'kcell kwt100 "+b+"' >";i+="<div"+d+"class='scrollerX "+c+"' name='ImageStrip_StripView' style='"+h+"'>";if(f.showarrows&&f.leftarrowimage&&f.rightarrowimage){i+=$KW.touch.fadeHImages(f)}i+="<div id='"+e+"_scroller' class='kwt100 scrollerX'><div id='"+e+"_scrollee' class='scrolleeX'>";i+=this.generateImages("setdata",f,g,IndexJL);i+="</div></div></div>";i+="</div></div></div>";if(f.viewtype=="stripview"){f.count=0}}}return i},initializePageViews:function(j,d){var e=document.querySelectorAll("#"+j+" div[name='touchcontainer_HStrip']");for(var f=0;f<e.length;f++){var b=e[f];var c=b.children[0];var a=$KU.getElementID(b.id);var h=b.getAttribute("kformname");var g=$KU.getModelByNode(b);this.initializePageView(g,d,b)}},initializePageView:function(i,g,e){var f=e.children[0];var d=$KU.getElementID(e.id);f.innerHTML="";var k=i.masterdata||[];var j=(window.orientation==90||window.orientation==-90);var o=(window.orientation==0||window.orientation==180);var n=i.swipeContext;if(typeof window.orientation=="undefined"){o=true}var h=e.parentNode.clientWidth;var a=parseInt($KU.getStyle(e,"border-left-width").replace("px",""),10)+parseInt($KU.getStyle(e,"border-right-width").replace("px",""),10);h=h-a;var p=i.heightwidth?parseInt(i.heightwidth.split(",")[1]):i.referencewidth||0;var c=i.recperpage=(p!=0)?Math.floor(h/p):3;if(!c||isNaN(c)){c=3}if(!i.ptImgs&&o){i.ptImgs=c}if(!i.lsImgs&&j){i.lsImgs=c}var b=h%parseInt(p,10);var m=Math.floor(b/c);if(m&&!isNaN(m)){i.spacebetweenimages=Math.floor(b/c)}f.innerHTML=this.generateImages("setdata",i,k,IndexJL);if(g){this.updateCurrentPage(n,i,o)}var l=$KU.getElementById(i.pf+"_"+d+"_footer");l&&(l.innerHTML=this.generateStripFooter(i,f,n))},updateCurrentPage:function(f,d,h){if(f&&d.masterdata&&f.currentPage!=0){var g=f.currentPage;if(h){var a=(d.lsImgs*g)+1;var c=d.ptImgs}else{var a=(d.ptImgs*g)+1;var c=d.lsImgs}var b=0;for(var e=IndexJL;e<(d.masterdata.length);e++){if(e%c==0){b++}if(e==a){f.currentPage=b;break}}}},getPadding:function(a){return parseInt($KU.getStyle(a,"padding-left").replace(/px/,""),10)+parseInt($KU.getStyle(a,"padding-right").replace(/px/,""),10)},generateImages:function(n,d,q,g,t,k){var c="";var m="";if(n=="setdata"){if(t){m=t}else{if(d.key){m=d.key}else{m=""}}}var l=q.length;var j=d.viewtype;var f=d.recperpage;f=f&&((l>0&&l<f)?l:f)||3;var r=(IndexJL==0)?1:0;for(var o=IndexJL;o<(q.length);o++){for(var t in q[o]){!m&&(m=t);break}if(o-1==k){m=t}var h=q[o][m];var s=q[o].accessibilityConfig;var b=$KU.getAccessibilityValues(d,s,o+1);var p="";if(h){var a=true;if($KU.inArray($KU.imgCache,h,true)){a=false}if((o-IndexJL)%f==0&&j=="pageview"){c+="<div style='float: left;width:100%' kwidgettype='KTouchhstrip'>"}h=$KU.getImageURL(h);if(d.spacebetweenimages&&f>1&&o!=q.length-1){p+="margin-right:"+d.spacebetweenimages+"px;"}c+="<span "+(a?("style='background:url("+$KU.getImageURL(d.imagewhiledownloading)+") center center no-repeat;display:inline-block;"+p+"'"):"style='"+p+"'")+">";if(d.heightwidth||(d.referencewidth||d.referenceheight)){var e=d.heightwidth?d.heightwidth.split(","):[d.referenceheight,d.referencewidth];p=(parseInt(e[1])!=0?("width:"+e[1]+"px;"):"")+(parseInt(e[0])!=0?("height:"+e[0]+"px;"):"")}c+="<img "+b+(kony.appinit.isOpera?"draggable='false'":"")+" src='"+h+"' id='"+d.pf+"_"+d.id+"_img' kformname = '"+d.pf+"' index= "+g+" kwidgettype='"+d.wType+"'"+(d.context.tabpaneID?" ktabpaneid='"+d.context.tabpaneID+"'":"")+" onload='$KU.imgLoadHandler(arguments[0],this)' onerror='$KU.imgLoadHandler(arguments[0],this)'";if(a){p+="opacity:0;"}c+=(p?("style= '"+p+"'"):"")+" /></span>";if(((o+r)%f==0||o==l-1)&&j=="pageview"){c+="</div>"}}g++}return c},generateStripFooter:function(c,f,e){var g="";var a=f.childNodes.length;var b=e?e.currentPage:0;if(a>1){var h="";g+="<div class='krow kwt100' align='center' ><div class='kcell' >";for(var d=0;d<a;d++){h=(d==b)?(c.pageOnDotImage||"whitedot.gif"):(c.pageOffDotImage||"blackdot.gif");g+="<span onclick='$KW.touch.navigationDotsHandler(this)' index='"+(d+1)+"'><img style='padding-left:4px' src='"+$KU.getImageURL(h)+"' /></span>"}g+="</div></div>"}return g},generateSlotFooter:function(b,a){var f="";var d="";var c=b.paginationconfig;if(b.heightwidth){var e=b.heightwidth.split(",");d+=(e[1]!="0"?("width:"+e[1]+"px;"):"")+(e[0]!="0"?("xheight:"+e[0]+"px;"):"")}f+="<div id='"+b.pf+"_"+b.id+"_slotfooter' class='ktable "+a+"' style='position:relative;top:"+(c.vdistance?(-c.vdistance)+"px":"-30px")+";"+d+"'>							<div class='krow middlecenteralign kwt100'>								<div class='kcell kwt50 middleleftalign'>									<span class='kbasemargin kbasepadding' style='display: inline-block; width: 100%;position:relative;left: "+(c.hdistance?c.hdistance+"px":"0px")+";'>										<img "+(kony.appinit.isOpera?"draggable='false'":"")+" src='"+$KU.getImageURL(c.leftimageurl?c.leftimageurl:"rotate-left-slotfooter.png")+"'>									</span>								</div>								<div class='kcell kwt50 middlerightalign'>									<span class='kbasemargin kbasepadding' style='display: inline-block; width: 100%;position:relative;right: "+(c.hdistance?c.hdistance+"px":"0px")+";'>										<img "+(kony.appinit.isOpera?"draggable='false'":"")+" src='"+$KU.getImageURL(c.rightimageurl?c.rightimageurl:"rotate-right-slotfooter.png")+"'>									</span>								</div>							</div>						</div>";return f},setData:function(b,a,c){if(a&&$KU.isArray(a)){this.modifyContent(b,a,"setdata",null,c)}else{var d=$KU.getNodeByModel(b);if(d){d.style.display="none"}}},addAll:function(b,a,c){(a&&$KU.isArray(a))&&this.modifyContent(b,a,"addall",null,c)},removeAll:function(a){this.modifyContent(a,[],"removeall")},removeAt:function(b,a){(!isNaN(a)&&a>=IndexJL)&&this.modifyContent(b,[],"removeat",a)},setDataAt:function(c,a,b){(!isNaN(b)&&b>=IndexJL&&a instanceof Object)&&this.modifyContent(c,a,"setdataat",b)},addDataAt:function(c,a,b){(!isNaN(b)&&b>=IndexJL&&a instanceof Object)&&this.modifyContent(c,a,"addat",b)},modifyContent:function(a,h,b,e,i){if(a){$KW.Utils.updateContent(a,"masterdata",h,b,e);a.canUpdateUI=false;a.data=IndexJL?[null,a.masterdata,i]:[a.masterdata,i];a.canUpdateUI=true;i&&(a.key=i);if(a.viewtype=="slotview"){this.initializeSlotView(a);return}var g=$KU.getNodeByModel(a);if(g){var d=(a.viewtype=="stripview")?g.childNodes[g.childNodes.length-1].childNodes[0]:g.childNodes[g.childNodes.length-1];switch(b){case"setdata":case"setdataat":case"addall":case"removeat":case"addat":if(b=="addall"&&i){var c=this.getImgsLen(d)}d.innerHTML=this.generateImages(b,a,a.masterdata||[],IndexJL,i,c);break;case"removeall":d.innerHTML="";break}a.masterdata&&$KU.toggleVisibilty(g,a.masterdata,a);if(a.viewtype=="pageview"){$KW.touch.computeWidths(g,a);var f=$KU.getElementById(a.pf+"_"+a.id+"_footer");f&&(f.innerHTML=this.generateStripFooter(a,d))}else{if(a.viewtype=="stripview"){this.refreshScroller(a,g)}}}}},getImgsLen:function(e){var d=0;var c=e.childNodes;for(var b=0;b<c.length;b++){var f=c[b].childNodes;for(var a=0;a<f.length;a++){d++}}return d},orientationHandler:function(b,a){$KW.HStrip.initializePageViews(b,true);$KW.touch.orientationHandler(b,a,"HStrip")},eventHandler:function(a,f){var d=f.id;d=(f.tagName=="IMG")?d.split("_")[1]:$KU.getElementID(d);var c=$KU.getModelByNode($KU.getElementById(f.getAttribute("kformname")+"_"+d));var b=f.getAttribute("index");if(b&&c){c.canUpdateUI=false;c.focusedindex=c.selectedindex=b;c.canUpdateUI=true;c.focuseditem=c.selecteditem=c.masterdata[b];var e=$KU.returnEventReference(c.onclick||c.onselection);e&&e.call(c,c)}},initializeStripViews:function(c){var b=document.querySelectorAll("#"+c+" div[name='ImageStrip_StripView']");for(var a=0;a<b.length;a++){this.initializeStripView(b[a])}},initializeStripView:function(d){var c=$KU.getModelByNode(d);var e=d.getAttribute("kformname");var a=$KU.getElementID(d.id);var b={hScrollbar:c.showscrollbars!=undefined?c.showscrollbars:false,vScroll:false,formid:e,hScroll:true,scrollbox:true,HStrip:true,bounce:c.scrollbounce!=undefined?c.scrollbounce:true,showImages:c.showarrows&&c.leftarrowimage&&c.rightarrowimage,widgetID:a};c.scrollInstance=new $KW.touch.konyScroller(d.id+"_scroller",b);this.refreshScroller(c,d)},refreshScroller:function(b,c){if(!c){c=$KU.getNodeByModel(b)}if(c){var a=b.showarrows&&b.leftarrowimage&&b.rightarrowimage?c.children[1]:c.children[0];if(typeof a!="undefined"&&a.children[0].scrollWidth){a.children[0].style.width=a.children[0].scrollWidth+"px"}b.scrollInstance&&b.scrollInstance.refresh()}},initializeSlotViews:function(d){var c=document.querySelectorAll("#"+d+" div[name='ImageStrip_SlotView']");for(var a=0;a<c.length;a++){d=c[a].getAttribute("kformname");var b=$KU.getModelByNode(c[a]);this.initializeSlotView(b)}},initializeSlotView:function(d){var j=d.masterdata;if(!j){return}var h="iurl";for(var k in j[1]){h=k;break}var a=[];for(var e=IndexJL;e<j.length;e++){a.push(j[e][h])}var g=d.pf+"_"+d.id;var f=$KU.getElementById(g);if(!f){return}var b=$KG[g+"_slotviewInstance"];if(b){b.destroy();if(f&&f.children[0]&&f.children[0].children[0]){f.children[0].removeChild(f.children[0].children[0])}}if(f.children[0]){var c=d.imagewhiledownloading||$KG.imagewhiledownloading||"imgload.gif";f.children[0].innerHTML="<img "+(kony.appinit.isOpera?"draggable='false'":"")+" src='"+$KU.getImageURL(c)+"' style='margin:auto;' />"}var b=new $KW.SlotView(g,a,{model:d});$KG[g+"_slotviewInstance"]=b},onBeforeScrollStartHandler:function(){return function(b){var a=b.target||b.srcElement;while(a.nodeType!=1){a=a.parentNode}if(a.tagName!="SELECT"&&a.tagName!="INPUT"&&a.tagName!="TEXTAREA"){kony.events.preventDefault(b)}kony.events.stopPropagation(b)}},fadeArrowImages:function(b){var d="display:none;";var a=$KU.getImageURL(b.leftarrowimage);var c=$KU.getImageURL(b.rightarrowimage);var e=b.pf+"_"+b.id;var f="<div id='"+e+"_scrollFades' class='scroll_view'><div id='"+e+"_leftimg' class='scroll_fades leftfade' style='"+d+"'><img type='HImg' src='"+a+"' onclick='$KW.HStrip.previousImage(this)' onload='$KW.touch.setHeight(this)' ></div><div id='"+e+"_rightimg' class='scroll_fades rightfade' style='"+d+"'><img type='HImg' src='"+c+"' onclick='$KW.HStrip.nextImage(this)' onload='$KW.touch.setHeight(this)' ></div></div>";return f},previousImage:function(d){var c=d.parentNode.parentNode.parentNode;if(c){var a=$KU.getModelByNode(c);var b=a.swipeContext;$KW.touch.previousImage(c,b,false);$KW.touch.updatePageIndicator(c,b,a)}},nextImage:function(d){var c=d.parentNode.parentNode.parentNode;if(c){var a=$KU.getModelByNode(c);var b=a.swipeContext;$KW.touch.nextImage(c,b,false);$KW.touch.updatePageIndicator(c,b,a)}}};
$KW.SlotView=function(a,c,b){this.arguments={};this.arguments.container=a;this.arguments.totalFrames=c.length;this.imagesArray=c;this.options={imageIndexOffset:1,loaders:3,initialLoad:4,noCache:false,initialPos:[0,0],invert:[true,false],infiniteAxis:[true,false],autoPlay:false,fps:25,grabbable:true,grabRotateDistance:1000,throwable:true,minThrowDuration:0.5,maxThrowDuration:1.5,spinnable:true,minSpinDuration:3,intro:$KW.SlotView.SpinIntro,introSpins:0.5,introDuration:1,mobileTotalFrames:null};for(i in b){this.options[i]=b[i]}this.initialize()};$KW.SlotView.SpinIntro=function(k){var e=k.options.fps*k.options.introDuration,d=(typeof k.options.introInitialRow!="undefined")?k.options.introInitialRow:k.options.initialPos[1],j=d-k.options.initialPos[1],g=[];for(var f=0;f<e;f++){var h=f/e,c=Math.pow(h-1,4),b=Math.floor(c*k.totalFrames[0]*k.options.introSpins)+k.options.initialPos[0],a=Math.floor(c*j)+k.options.initialPos[1];if(!g.length||g[g.length-1][0]!=b||g[g.length-1][1]!=a){g.push(k.validatePos([b,a],true))}}return g};$KW.SlotView.options={};$KW.SlotView.prototype.initialize=function(){function a(e,d){return(typeof e[0]=="undefined")?[e,d]:e}if(this.options.noCache){this.random=Math.floor(Math.random()*10000000)}this.mobile=$KU.isTouchSupported;if(this.mobile){this.options.autoPlay=true;this.options.spinnable=false;this.options.throwable=true;this.mobileStrings={mousedown:"touchstart",mousemove:"touchmove",mouseup:"touchend"}}this.container=document.getElementById(this.arguments.container);this.vr=document.getElementById(this.arguments.container).children[0];this.totalFrames=a(this.arguments.totalFrames,1);if(this.mobile&&this.options.mobileTotalFrames){var c=this.totalFrames;this.totalFrames=a(this.options.mobileTotalFrames,1);this.frameMultipliers=[c[0]/this.totalFrames[0],c[1]/this.totalFrames[1]]}else{this.frameMultipliers=[1,1]}this.options.initialPos=a(this.options.initialPos,0);this.options.invert=a(this.options.invert,false);this.frames=[];for(var b=0;b<this.totalFrames[0];b++){this.frames[b]=[]}this.playIntervalDuration=1000/this.options.fps;this.minSpinIntervalDuration=(this.options.minSpinDuration*1000)/this.totalFrames[0];this.minThrowFrames=Math.floor(this.options.minThrowDuration*this.options.fps);this.maxThrowFrames=Math.floor(this.options.maxThrowDuration*this.options.fps);this.currentPos;this.playing=false;this.grabbing=false;this.spinning=false;if(this.options.intro){this.introSequence=this.options.intro(this);this.loader=new $KW.SlotView.LoaderController(this,this.introSequence.slice(0),this.playIntro.bind(this))}else{this.loadAllFrames();this.gotoPos(this.options.initialPos);this.makeInteractive();if(this.options.autoPlay){this.play()}}};$KW.SlotView.prototype.getStr=function(a){return this.mobile?this.mobileStrings[a]:a};$KW.SlotView.prototype.getEvent=function(a){if(!a){a=window.event}if(a.touches){if(a.touches.length>1){return false}if(a.touches.length){a.clientX=a.touches[0].clientX;a.clientY=a.touches[0].clientY}}return a};$KW.SlotView.prototype.playIntro=function(){this.introInterval=setInterval(this.gotoNextIntroFrame.bind(this),this.playIntervalDuration);this.loadAllFrames()},$KW.SlotView.prototype.gotoNextIntroFrame=function(){this.gotoPos(this.introSequence.shift());if(!this.introSequence.length){clearInterval(this.introInterval);this.makeInteractive()}};$KW.SlotView.prototype.isPosLoaded=function(a){return(typeof this.frames[a[0]]!="undefined"&&typeof this.frames[a[0]][a[1]]!="undefined")};$KW.SlotView.prototype.createLoadPlan=function(c,b){if(!b){return[0]}var e=[];do{for(var a=0;a<c;a+=b){var d=Math.floor(a);if(e.indexOf(d)==-1){e.push(d)}}if(b==1){return e}if((b/=2)<1){b=1}}while(true)};$KW.SlotView.prototype.loadAllFrames=function(){var b=[],f=Math.floor(this.totalFrames[0]/this.options.initialLoad),d=this.createLoadPlan(this.totalFrames[0],f),e=Math.floor(this.totalFrames[1]/this.options.initialLoad),c=this.createLoadPlan(this.totalFrames[1],e);for(var g=0;g<c.length;g++){for(var a=0;a<d.length;a++){b.push(this.validatePos([d[a]+this.options.initialPos[0],c[g]+this.options.initialPos[1]],true))}}this.loader=new $KW.SlotView.LoaderController(this,b);b=null;f=null;d=null;e=null;c=null};$KW.SlotView.prototype.getImageSource=function(d){var a=this.options.invert[0]?(this.totalFrames[0]-1)-d[0]:d[0],c=this.options.invert[1]?(this.totalFrames[1]-1)-d[1]:d[1],b=(Math.floor(c*this.totalFrames[0]*this.frameMultipliers[0]*this.frameMultipliers[1])+Math.floor(a*this.frameMultipliers[0])+this.options.imageIndexOffset)+"";return $KU.getImageURL(this.imagesArray[b-1])+(this.options.noCache?"?"+this.random:"")};$KW.SlotView.prototype.makeInteractive=function(){if(this.options.grabbable){this.bindGrabStart=this.onGrabStart.bind(this);this.bindGrabChange=this.onGrabChange.bind(this);this.bindGrabEnd=this.onGrabEnd.bind(this);kony.events.addEventListener(this.vr.parentNode,this.getStr("mousedown"),this.bindGrabStart)}};$KW.SlotView.prototype.destroy=function(){this.unmakeInteractive();delete this.frames;delete this.introSequence;delete this.loader};$KW.SlotView.prototype.unmakeInteractive=function(){if(this.mobile){if(this.vr&&this.vr.children[0]){kony.events.removeEventListener(this.vr.children[0],"touchmove",this.bindGrabChange);kony.events.removeEventListener(this.vr.children[0],"touchend",this.bindGrabEnd)}}if(this.options.grabbable){if(this.vr&&this.vr.parentNode){kony.events.removeEventListener(this.vr.parentNode,this.getStr("mousedown"),this.bindGrabStart)}}};$KW.SlotView.prototype.atPosition=function(a){return(this.currentPos&&a[0]==this.currentPos[0]&&a[1]==this.currentPos[1])};$KW.SlotView.prototype.play=function(){if(this.playing){return}this.playing=true;this.playInterval=setInterval(this.gotoNextFrame.bind(this),this.playIntervalDuration)};$KW.SlotView.prototype.pause=function(){if(!this.playing){return}this.playing=false;clearInterval(this.playInterval)};$KW.SlotView.prototype.gotoNextFrame=function(){this.gotoPos([this.currentPos[0]+1,this.currentPos[1]])};$KW.SlotView.prototype.validatePos=function(c,b){for(var a=0;a<2;a++){if(b||this.options.infiniteAxis[a]){while(c[a]>this.totalFrames[a]-1){c[a]-=this.totalFrames[a]}while(c[a]<0){c[a]+=this.totalFrames[a]}}else{if(c[a]>this.totalFrames[a]-1){c[a]=this.totalFrames[a]-1}if(c[a]<0){c[a]=0}}}return c};$KW.SlotView.prototype.gotoPos=function(b,a){b=this.validatePos(b);if(!a&&this.atPosition(b)){return}this.currentPos=b;this.frame=this.frames[b[0]][b[1]];if(typeof this.frame!="undefined"&&this.frame.nodeType){if(this.currentFrame){this.vr.removeChild(this.currentFrame)}else{if(this.vr.children[0]){this.vr.removeChild(this.vr.children[0])}}this.currentFrame=this.frame;this.vr.appendChild(this.currentFrame)}else{this.loader.loadNow(b)}delete this.frame};$KW.SlotView.prototype.onGrabStart=function(a){if(!(a=this.getEvent(a))){return}this.grabbing=true;kony.events.addEventListener(document,this.getStr("mousemove"),this.bindGrabChange);kony.events.addEventListener(document,this.getStr("mouseup"),this.bindGrabEnd);if(this.mobile){kony.events.addEventListener(this.vr.children[0],"touchmove",this.bindGrabChange);kony.events.addEventListener(this.vr.children[0],"touchend",this.bindGrabEnd)}this.grabHistory=[a];this.onGrabChange.clientX=this.onGrabChange.clientY=null;this.grabHistoryInterval=setInterval(this.updateGrabHistory.bind(this),10);this.onGrabStart.clientX=a.clientX;this.onGrabStart.clientY=a.clientY;this.onGrabStart.playing=this.playing;this.onGrabStart.pos=this.currentPos;this.pause();this.stopThrowing();kony.events.preventDefault(a)};$KW.SlotView.prototype.onGrabChange=function(a){if(!(a=this.getEvent(a))){return}if(!(a.clientX==this.onGrabStart.clientX&&a.clientY==this.onGrabStart.clientY)){this.onGrabChange.clientX=a.clientX;this.onGrabChange.clientY=a.clientY;var b=this.getGrabPos(a);if(b){this.gotoPos(b)}}kony.events.preventDefault(a)};$KW.SlotView.prototype.getGrabPos=function(d){if(!d){d=window.event}var j=d.clientX-this.onGrabStart.clientX,h=d.clientY-this.onGrabStart.clientY,e=j/this.options.grabRotateDistance,b=h/this.options.grabRotateDistance,g=Math.round(this.totalFrames[0]*e),f=Math.round(this.totalFrames[1]*b),c=this.onGrabStart.pos[0]+g,a=this.onGrabStart.pos[1]+f;return[c,a]};$KW.SlotView.prototype.updateGrabHistory=function(){var a=this.onGrabChange.clientX?this.onGrabChange:this.onGrabStart;this.grabHistory.unshift({clientX:a.clientX,clientY:a.clientY});if(this.grabHistory.length>3){this.grabHistory.splice(3)}};$KW.SlotView.prototype.onGrabEnd=function(a){if(!(a=this.getEvent(a))){return}this.grabbing=false;kony.events.removeEventListener(document,this.getStr("mousemove"),this.bindGrabChange);kony.events.removeEventListener(document,this.getStr("mouseup"),this.bindGrabEnd);clearInterval(this.grabHistoryInterval);if(this.onGrabStart.playing){this.play()}else{if(this.options.throwable){var m=a.clientX-this.grabHistory[this.grabHistory.length-1].clientX,l=a.clientY-this.grabHistory[this.grabHistory.length-1].clientY,f=true;if(m||l){var j=Math.sqrt(Math.pow(m,2)+Math.pow(l,2)),h=Math.floor(j/5),c=this.grabHistory[this.grabHistory.length-1].clientX,b=this.grabHistory[this.grabHistory.length-1].clientY,o=true,n=true;if(h<this.minThrowFrames){h=this.minThrowFrames}else{if(h>this.maxThrowFrames){h=this.maxThrowFrames}}this.throwSequence=[];for(var e=0;e<h;e++){var g=e/h,d=Math.pow(g-1,2),c=Math.floor(d*m)+c,b=Math.floor(d*l)+b,k=this.validatePos(this.getGrabPos({clientX:c,clientY:b}));if(!o){k[0]=this.throwSequence[this.throwSequence.length-1][0]}else{if(this.throwSequence.length&&k[0]==this.throwSequence[this.throwSequence.length-1][0]){o=false}}if(!n){k[1]=this.throwSequence[this.throwSequence.length-1][1]}else{if(this.throwSequence.length&&k[1]==this.throwSequence[this.throwSequence.length-1][1]){n=false}}if(!this.isPosLoaded(k)){f=false;break}this.throwSequence.push(k)}if(f){this.throwing=true;this.throwInterval=setInterval(this.throwStep.bind(this),this.playIntervalDuration)}}}}};$KW.SlotView.prototype.throwStep=function(){this.gotoPos(this.throwSequence.shift());if(!this.throwSequence.length){this.stopThrowing()}};$KW.SlotView.prototype.stopThrowing=function(){if(!this.throwing){return}this.throwing=false;clearInterval(this.throwInterval)};$KW.SlotView.prototype.onclick=function(a){if(this.focussed){return}this.vr.focus()};$KW.SlotView.LoaderController=function(b,a,d){this.vr=b;this.queue=a;this.onLoad=d;this.retiredLoaders=new Array();for(var c=0;c<this.vr.options.loaders;c++){this.loadNext(new $KW.SlotView.Loader(this))}};$KW.SlotView.LoaderController.prototype.loadNext=function(a){if(this.queue.length){a.load(this.queue.shift())}else{this.retiredLoaders.push(a);if(this.retiredLoaders.length==this.vr.options.loaders&&typeof this.onLoad=="function"){this.onLoad();this.onLoad=null}}};$KW.SlotView.LoaderController.prototype.loadNow=function(a){if(this.retiredLoaders.length){this.retiredLoaders.shift().load(a)}else{this.queue.unshift(a)}};$KW.SlotView.Loader=function(a){this.controller=a;this.loadNext=this.controller.loadNext.bind(this.controller)};$KW.SlotView.Loader.prototype.load=function(d){this.pos=d;if(this.controller.vr.isPosLoaded(d)){this.controller.loadNext(this);return}this.img=new Image();this.img.onload=this.onLoad.bind(this);var a=this.controller.vr.options.model;var c=a.heightwidth;if((c&&c!="0,0")||(a.referencewidth||a.referenceheight)){var b=c?c.split(","):[a.referenceheight,a.referencewidth];this.img.style.width=b[1]+"px";this.img.style.height=b[0]+"px"}else{this.img.style.width="100%"}this.controller.vr.frames[this.pos[0]][this.pos[1]]=true;this.img.src=this.controller.vr.getImageSource(this.pos);delete this.img};$KW.SlotView.Loader.prototype.onLoad=function(a){if(!a){a=window.event}var b=a.target||a.srcElement||this.img;this.controller.vr.frames[this.pos[0]][this.pos[1]]=b;if(b&&b.onload){delete b.onload}$KU.setImgAspectRatio(this.controller.vr.options.model,b);if(this.controller.vr.atPosition(this.pos)){this.controller.vr.gotoPos(this.pos,true)}this.loadNext(this)};
$KW.IGallery={initialize:function(){kony.events.addEvent("click","IGallery",this.eventHandler)},updateView:function(f,c,b,a){var e=$KU.getNodeByModel(f);switch(c){case"data":if(b&&$KU.isArray(b)){f.masterdata=b[0+IndexJL];f.key=b[1+IndexJL]}this.setData(f,f.masterdata,f.key);break;case"focusedindex":case"selectedindex":if(e){e=document.querySelector("#"+e.id+" [index='"+b+"']");e&&$KW.Widget.setfocus(f,null,e);f.focuseditem=f.selectedItem=f.selecteditem=f.masterdata[b]}break;case"referencewidth":case"referenceheight":case"imagescalemode":this.setData(f,f.masterdata,f.key);break;case"viewtype":case"noofrowsperpage":if(e){e.parentNode.innerHTML=this.render(f,{tabpaneID:e.getAttribute("ktabpaneid")});if(f.viewtype=="pageview"){e=$KU.getNodeByModel(f);$KW.HStrip.initializePageView(f,false,e);$KW.touch.computeWidths(e,f);var d=new $KW.touch.pageviewScroller(e,{widgetModel:f});$KG[e.id]=d}}break}},render:function(a,d){if(a.data){a.masterdata=a.data[0+IndexJL];a.key=a.data[1+IndexJL]}a.focusedindex=a.selectedindex=a.focusedindex||a.selectedindex||null;a.focuseditem=a.selecteditem=a.focuseditem||a.selecteditem||null;a.context=d;var b=$KW.skins.getMarginSkin(a,d)+$KW.skins.getPaddingSkin(a);var e=(!$KW.Utils.isWidgetVisible(a,d)?" hide":"")+(a.skin?(" "+a.skin):"");if(d.ispercent===false){b+=" display: inline-block;"}else{e+=" "+$KW.skins.getMarAdjustedContainerWeightSkin(a,100)}if(a.imagewhiledownloading){new Image().src=$KU.getImageURL(a.imagewhiledownloading)}a.imagewhiledownloading=a.imagewhiledownloading||$KG.imagewhiledownloading||"imgload.gif";var c=$KW.Utils.getBaseHtml(a,d);var f="<div"+c+"class='"+e+"' style='"+b+"'>";f+=this.generateImages(a,a.masterdata||[],IndexJL);f+="</div>";return f},generateImages:function(m,j,g,l){var k="";var h=l||m.key||"iurl";for(var e=IndexJL;e<(j.length);e++){var c=j[e][h];if(c){var f=true;if($KU.inArray($KU.imgCache,c,true)){f=false}var d="";c=$KU.getImageURL(c);k+="<span "+(f?("style='background:url("+$KU.getImageURL(m.imagewhiledownloading)+") center center no-repeat;display:inline-block;min-height:30px;min-width:30px'"):"")+">";k+="<img "+(kony.appinit.isOpera?"draggable='false'":"")+" src='"+c+"' id='"+m.pf+"_"+m.id+"_img' kformname = '"+m.pf+"' index= "+g+" kwidgettype='"+m.wType+"'"+(m.context.tabpaneID?"ktabpaneid='"+m.context.tabpaneID+"'":"")+" onload='$KU.imgLoadHandler(arguments[0],this)' onerror='$KU.imgLoadHandler(arguments[0],this)' ";if(m.spacebetweenimages){var b=Math.ceil(parseInt(m.spacebetweenimages)/4);d+="margin:"+b+"px;"}if(m.heightwidth||((m.referencewidth||m.referenceheight)&&m.imagescalemode==constants.IMAGE_SCALE_MODE_FIT_TO_DIMENSIONS)){var a=m.heightwidth?m.heightwidth.split(","):[m.referenceheight,m.referencewidth];d+=(parseInt(a[1])!=0?("width:"+a[1]+"px;"):"")+(parseInt(a[0])!=0?("height:"+a[0]+"px;"):"")}d+="opacity:0;display:none";k+=(d?("style= '"+d+"'"):"")+" /></span>"}g++}return k},setData:function(b,a,d){if(a&&$KU.isArray(a)){this.modifyContent(b,a,"setdata",null,d)}else{var c=$KU.getNodeByModel(b);if(c){c.style.display="none"}}},addAll:function(b,a,c){(a&&$KU.isArray(a))&&this.modifyContent(b,a,"addall",null,c)},removeAll:function(a){this.modifyContent(a,[],"removeall")},addDataAt:function(a,b,c){(!isNaN(c)&&c>=IndexJL&&b instanceof Object)&&this.modifyContent(a,b,"addat",c,a.key)},removeAt:function(a,b){(!isNaN(b)&&b>=IndexJL)&&this.modifyContent(a,[],"removeat",b)},setDataAt:function(a,b,c){(!isNaN(c)&&c>=IndexJL&&b instanceof Object)&&this.modifyContent(a,b,"setdataat",c,a.key)},modifyContent:function(b,a,g,e,f){if(b){$KW.Utils.updateContent(b,"masterdata",a,g,e);b.canUpdateUI=false;b.data=IndexJL?[null,b.masterdata,f]:[b.masterdata,f];b.canUpdateUI=true;f&&(b.key=f);var d=$KU.getNodeByModel(b);if(d){switch(g){case"addat":case"setdata":d.innerHTML=this.generateImages(b,b.masterdata,IndexJL,f);break;case"setdataat":var c=d.childNodes[IndexJL?(e-1):e]&&d.childNodes[IndexJL?(e-1):e].childNodes[0];if(c){c.src=$KU.getImageURL(a[b.key])}break;case"addall":var e=d.childNodes.length;d.innerHTML+=this.generateImages(b,a,e+IndexJL,f);break;case"removeall":d.innerHTML="";break;case"removeat":if(d.childNodes[e-IndexJL]){d.removeChild(d.childNodes[e-IndexJL]);$KU.adjustNodeIndex(d,e,"index")}break;default:}b.masterdata&&$KU.toggleVisibilty(d,b.masterdata,b)}}},eventHandler:function(a,f){var d=f.id;d=(f.tagName=="IMG")?d.split("_")[1]:$KU.getElementID(d);var c=$KU.getModelByNode($KU.getElementById(f.getAttribute("kformname")+"_"+d));var b=f.getAttribute("index");if(b&&c){c.canUpdateUI=false;c.focusedindex=c.selectedindex=b;c.canUpdateUI=true;c.focuseditem=c.selecteditem=c.masterdata[b];var e=$KU.returnEventReference(c.onclick||c.onselection);e&&e.call(c,c)}}};
$KW.Browser={initialize:function(){},updateView:function(e,c,b,a){switch(c){case"requesturlconfig":if(IndexJL){e.url=b.url;e.method=b.requestmethod;e.data=b.requestdata}var d=$KU.getNodeByModel(e);if(d){this.openUrllink(e.url,e.method,e.data,[e.pf,e.id].join("_"))}break;case"htmlstring":var d=$KU.getNodeByModel(e);if(d){d.innerHTML=b}break}},openUrllink:function(d,g,f,c){if(d){if(f&&!f[0].length==0){var b=[];if(f instanceof Array&&f[0] instanceof Array){for(var e=0;e<f.length;e++){b.push([f[e][0],f[e][1]].join("="))}}else{for(var a in f){b.push(a+"="+f[a])}}b=b.join("&");if(b){d=d+"?"+b}}window.open(d)}},render:function(c,a){var d="";var b=$KW.skins.getWidgetSkinList(c,a);d="<div "+$KW.Utils.getBaseHtml(c,a)+$KW.Utils.getBaseHtml(c,a)+" class='"+b+"' style='"+$KW.skins.getMarginSkin(c,a)+$KW.skins.getPaddingSkin(c)+"'>";if(c.htmlstring){d+=c.htmlstring}this.openUrllink(c.url,c.method,c.data,[c.pf,c.id].join("_"));d+="</div>";return d},eventHandler:function(a,b){},unloadEventHandler:function(a){},cangoback:function(a){},cangoforward:function(a){},clearhistory:function(a){},goback:function(a){},goforward:function(a){},reload:function(a){}};
$KW.DataGrid={initialize:function(){kony.events.addEvent("click","DataGrid",this.eventHandler)},initializeView:function(a){},updateView:function(d,k,c,e){var g=$KU.getNodeByModel(d);switch(k){case"skin":case"alternateskin":case"rownormalskin":case"rowalternateskin":g&&this.applyRowSkin(d,g);break;case"focusskin":case"rowfocusskin":break;case"headerskin":if(g){var j=g.tHead&&g.tHead.rows[0];if(j){j.className=c}}break;case"gridlinecolor":case"gridlinestyle":this.applyCellBorder(d);break;case"showcolumnheaders":if(g){var j=g.tHead&&g.tHead.rows[0];if(j){if(c){j.style.display=""}else{j.style.display="none"}}}break;case"ismultiselect":if(!c&&d.selectedindices){d.selectedindices=d.selecteditems=null;this.setSelectedItems(d,true)}break;case"data":$KU.isArray(c)&&this.modifyContent(d,c,"setdata");break;case"columnheadersconfig":if(kony.appinit.isIE7||kony.appinit.isIE8){if(c){var b=c;var l=[];for(var f=0;f<b.length;f++){var a={};a.columnid=b[f].columnid||b[f].columnID;a.columntype=b[f].columntype||b[f].columnType;a.columnheadertext=b[f].columnheadertext||b[f].columnHeaderText;a.columnheadertemplate=b[f].columnheadertemplate||b[f].columnHeaderTemplate;a.columndatatemplate=b[f].columndatatemplate||b[f].columnDataTemplate;a.columnwidthinpercentage=b[f].columnwidthinpercentage||b[f].columnWidthInPercentage;a.columncontentalignment=b[f].columncontentalignment||b[f].columnContentAlignment;a.columnonclick=b[f].columnonclick||b[f].columnOnClick;l.push(a)}d.columnheadersconfig=l}}var h=$KW.DataGrid.render(d,d.context);g.parentNode.innerHTML=h;break}},render:function(b,a){b.context=a;this.initializeGrid(b);return this.create(b,a)},initializeGrid:function(a){if(!a.columnheadersconfig){return}a.rowcount=(a.data&&a.data.length-IndexJL)||0;a.gridlinestyle=a.gridlinestyle||"solid";a.gridlinecolor=a.gridlinecolor||"666666";a.focusedindex=a.selectedindex=a.focusedindex||a.selectedindex||null;a.focuseditem=a.selecteditem=a.focuseditem||a.selecteditem||null;a.selectedindices=a.selectedindices||null;a.selecteditems=a.selecteditems||null;if(a.ismultiselect&&a.selectedindices&&!a.selecteditems){this.setSelectedItems(a)}a.cellBorder="thin "+a.gridlinestyle+" #"+a.gridlinecolor.substr(0,6)},create:function(j,a){var i=j.data||[null];var d=$KW.skins.getWidgetSkinList(j,j.context,i);var c=$KW.skins.getMarginSkin(j,a);var h="";var b=d.split(" ");if(a.isPercent==true){b[1]=""}d=b.join(" ");var h="<table style='border-collapse:collapse;table-layout:fixed;"+c+"' class='"+d+"' "+$KW.Utils.getBaseHtml(j,j.context)+">";var g=j.columnheadersconfig;if(g){var e=this.headerBuilder(g,j);h+=this.appendRowTag(j,e,true);var f=this.createBody(j,i);h+=this.appendRowTag(j,f||[],false,1,true,true)}h+="</table>";return h},headerBuilder:function(e,m){m.columnids=[];m.columntype=[];for(var d=IndexJL;d<e.length;d++){m.columnids.push(e[d].columnid);m.columntype.push(e[d].columntype)}var j=$KW.skins.getPaddingSkin(m);var c="word-wrap:break-word;border:"+m.cellBorder;var h="<th id='{id}' style='"+j+c+"' width='{width}%' class='{class}' type='{type}' colno='{colno}' colindex='{colindex}'>";var k=null;var b="";var g=[];var l="";for(var d=IndexJL;d<e.length;d++){l=e[d];var a=(l.columnwidthinpercentage||0);var f=l.columncontentalignment||"";f=$KW.skins.getContentAlignment(m,f);k=h.replace(/\{id\}/g,l.columnid);k=k.replace(/\{width\}/g,a);k=k.replace(/\{class\}/g,f);k=k.replace(/\{type\}/g,l.columntype);k=k.replace(/\{colno\}/g,d);k=k.replace(/\{colindex}/g,"0,"+d);b=k+(l.columnheadertext||"")+"</th>";g.push(b)}return g},createBody:function(f,b){var d;var l=$KW.skins.getPaddingSkin(f);if(b.length>IndexJL){var q="word-wrap:break-word;border:"+f.cellBorder;var g="<td id='{id}' width='{width}%' style='"+l+q+"' class='{class}' colindex='{colindex}' >{text}</td>";var e="<td id='{id}' width='{width}%' style='"+l+q+"' class='{class}' colindex='{colindex}'><img src={src} class='{class}' onload='$KW.DataGrid.imgLoadHandler(arguments[0],this)'></td>";var w=null;var z=[];var x=0;var n,h="";var a=1;f.counter=1;x=f.columnids.length;for(var v=IndexJL;v<b.length;v++){z[v-IndexJL]=[];for(var t=0;t<x;t++){n=f.columnids[t];h=f.columnheadersconfig[t+IndexJL];var c=f.columntype[t];var p=(h.columnwidthinpercentage||0);var r="";a=1;var o=v+","+t;if(b[v]["metainfo"]){r=b[v]["metainfo"][n+"_skin"];r=r||""}var s=h.columncontentalignment||"";s=$KW.skins.getContentAlignment(f,s);c=c||"text";if(c=="text"){var k=(b[v][n]&&b[v][n]!=null)?b[v][n]:"";k=k.replace(/\$0/g,"$$$$0");k=k.replace(/\$_/g,"$$$$_");w=g.replace(/\{text\}/g,k);w=w.replace(/\{class\}/g,(r+" "+s+" "+l))}else{if(c=="image"){var u=b[v][n]&&$KU.getImageURL(b[v][n]);w=e.replace(/\{src\}/g,u||"''");w=w.replace(/\{class\}/g,s+" "+l)}else{if(c=="template"){var m=b[v][n];if(m.metainfo){if(m.metainfo["colspan"]){a=m.metainfo["colspan"]}}w="<td id='{id}' width='{width}%' style='"+l+q+"' class='{class}' colindex='{colindex}' colspan='"+a+"'>";w=w.replace(/\{class\}/g,(r+" "+s+" "+l));var y=m.template||h.columndatatemplate;if(y&&m){f.widgetsData=m;w+=$KW.Utils.handleLayout(f,y,m)}w+="</td>"}}}w=w.replace(/\{colindex\}/g,o);w=w.replace(/\{width\}/g,p);w=w.replace(/\{id}/g,n);z[v-IndexJL][t]=w;t=t+(a-1)}f.counter++}}return z},appendRowTag:function(n,l,k,g,b,o){var e="";if(k==true){e+="<thead><tr index=0 "+$KW.Utils.getBaseHtml(n,n.context)+(n.headerskin?" class='"+n.headerskin+"'":"")+(n.showcolumnheaders!="undefined"&&n.showcolumnheaders==false?" style='display:none'":"")+">";for(var d=0;d<l.length;d++){e+=l[d]}e+="</tr></thead>"}else{var f=n.rowalternateskin||n.alternateskin||"";var a=n.rownormalskin||n.skin||"";if(o){e+="<tbody>"}if(l){for(var d=0;d<l.length;d++){var h=n.data[d+IndexJL].metainfo;var m=(h&&h.skin)||((d%2!=0&&f)?f:a);if(n.ismultiselect&&n.selectedindices){if($KU.inArray(n.selectedindices,(IndexJL?g:g-1))[0]&&n.rowfocusskin){m=n.rowfocusskin}}e+="<tr index="+g+$KW.Utils.getBaseHtml(n,n.context)+(m?" class='"+m+"'":"")+">";for(var c=0;c<n.columnids.length;c++){e+=l[d][c]}e+="</tr>";g++}}if(o){e+="</tbody>"}}return e},imgLoadHandler:function(g,e){g=g||window.event;if(!kony.appinit.isIE7&&!kony.appinit.isIE8){e=g.target||g.srcElement}var d=e.naturalWidth||e.width;var c=e.naturalHeight||e.height;var b=e.parentNode;var h=parseInt($KU.getStyle(b,"padding-left").replace("px",""),10)+parseInt($KU.getStyle(b,"padding-right").replace("px",""),10);var f=b.clientWidth-h;if(d>f){e.style.width=f+"px";var a=d/c;e.style.height=Math.round(1/a*f)+"px"}},eventHandler:function(d,e){if(!d){d=window.event}var a=$KU.getParentByAttribute(d.target||d.srcElement,"colindex");var b=parseInt(e.getAttribute("index"),10);var c=$KU.getModelByNode(e);(b>0)&&$KW.DataGrid.setFocusedIndex(c,e,a,b);$KW.DataGrid.rowClickHandler(c,b,a)},rowClickHandler:function(d,b,a){var c;if(b==0){var e=d.columnheadersconfig[parseInt(a.getAttribute("colno"),10)];c=$KU.returnEventReference(e.columnonclick||e.columnOnClick||"")}else{c=$KU.returnEventReference(d.onrowselected)}c&&c(d)},setFocusedIndex:function(c,e,b,a){if(a>0){a=IndexJL?a:a-1;c.selectedindex=c.focusedindex=a;c.selecteditem=c.focuseditem=c.data[a];if(!c.ismultiselect){c.selectedindices=IndexJL?[null,a]:[a];this.setSelectedItems(c,true)}var d=parseInt(b.getAttribute("colindex").split(",")[1]);c.selectedcellindex=[d,b.id];c.selectedcellitem=c.focuseditem[b.id]}c.ismultiselect&&this.setSelectedIndices(c,e)},setSelectedIndices:function(d,g){if(d.ismultiselect){var f=d.selectedindices||(IndexJL?[null]:[]);var b=d.selecteditems||(IndexJL?[null]:[]);var c=d.focusedindex;var a=$KU.inArray(f,c);if(a[0]){f.splice(a[1],1);b.splice(a[1],1);if(d.rowfocusskin){var e=this.getRowSkin(d,c);g.className=e||""}}else{f.push(c);b.push(d.data[c]);d.rowfocusskin&&(g.className=d.rowfocusskin)}d.selectedindices=(f.length>IndexJL)?f:null;d.selecteditems=(b.length>IndexJL)?b:null}},setSelectedItems:function(c,f){if(c.selectedindices){c.selecteditems=IndexJL?[null]:[];for(var b=IndexJL;b<c.selectedindices.length;b++){c.data&&c.data[c.selectedindices[b]]&&c.selecteditems.push(c.data[c.selectedindices[b]])}}if(f){var a=$KU.getNodeByModel(c);if(a){var d=a.tBodies[0].rows;for(var b=0;b<d.length;b++){if((c.selectedindices&&$KU.inArray(c.selectedindices,b+IndexJL)[0])||(!c.ismultiselect&&c.selectedindex==b+IndexJL)){d[b].className=c.rowfocusskin}else{var e=this.getRowSkin(c,b+IndexJL);d[b].className=e||""}}}}},getRowSkin:function(c,b){var e=c.rownormalskin||c.skin||"";var d=c.rowalternateskin||c.alternateskin||"";var a=c.data[b]["metainfo"];return(a&&a.skin)?a.skin:(((parseInt(b,10)-IndexJL)%2!=0&&d)?d:e)},updateIndices:function(d,e,b){if(d.data&&d.data.length>IndexJL){var f=d.selectedindices;if(e=="addat"){for(var c=IndexJL;c<f.length;c++){if(f[c]>=b){f[c]=f[c]+1}}}else{var a=$KU.inArray(f,b);a[0]&&f.splice(a[1],1);for(var c=IndexJL;c<f.length;c++){if(f[c]>=b){f[c]=f[c]-1}}}d.selectedindices=f.length>IndexJL?f:null;this.setSelectedItems(d)}else{d.selectedindices=d.selecteditems=null}},setData:function(b,a){b.focusedindex=b.focuseditem=b.selectedindex=b.selecteditem=b.selectedindices=b.selecteditems=null;$KU.isArray(a)&&this.modifyContent(b,a,"setdata")},addAll:function(c,a,b){$KU.isArray(a)&&this.modifyContent(c,a,"addall")},removeAll:function(a){a.focusedindex=a.focuseditem=a.selectedindex=a.selecteditem=a.selectedindices=a.selecteditems=null;this.modifyContent(a,IndexJL?[null]:[],"removeall")},removeAt:function(b,a){(!isNaN(a)&&a>=IndexJL)&&this.modifyContent(b,[],"removeat",a)},setDataAt:function(c,a,b){(!isNaN(b)&&b>=IndexJL&&a instanceof Object)&&this.modifyContent(c,a,"setdataat",b)},addDataAt:function(c,a,b){(!isNaN(b)&&b>=IndexJL&&a instanceof Object)&&this.modifyContent(c,a,"addat",b)},setCellData:function(a,d,b,c){(!isNaN(d)&&c)&&this.modifyContent(a,c,"setcelldata",d,b)},setHeaderCellDataAt:function(a,b,c){(b&&c)&&this.modifyContent(a,c,"setheadercelldata","",b)},applyCellSkin:function(b,d,c,a){!isNaN(d)&&this.modifyContent(b,a,"applycellskin",d,c)},selectAll:function(b,a){this.modifyContent(b,a,"selectall")},setTBodyInnerHTML:function(a,c,d){if(!$KU.isIE){a.innerHTML=c}else{var b=this.createTemp();if(d=="setdata"){b.innerHTML="<table>"+c+"</table>";while(a.children.length>0){a.removeChild(a.children[0])}while(b.firstChild.children.length>0){a.appendChild(b.firstChild.children[0])}}else{b.innerHTML="<table><tbody>"+c+"</tbody></table>";if(a.tagName=="TABLE"){a.appendChild(b.firstChild.firstChild)}else{a.parentNode.replaceChild(b.firstChild.firstChild,a)}}}},setTRInnerHTML:function(d,c,b){if(!$KU.isIE){d.innerHTML=c}else{var a=this.createTemp();a.innerHTML="<table><tbody><tr class='"+d.className+"' index='"+b+"'>"+c+"</tr></tbody></table>";d.parentNode.replaceChild(a.firstChild.firstChild.firstChild,d)}},createTemp:function(){var a=document.getElementById("__temp");if(!a){a=document.createElement("div");a.id="__temp"}return a},modifyContent:function(g,v,r,e,p){if(g){if(r!="setcelldata"&&r!="applycellskin"&&r!="selectall"){g.canUpdateUI=false;$KW.Utils.updateContent(g,"data",v,r,e);g.canUpdateUI=true}if(g.data){g.rowcount=g.data.length-IndexJL}var f=$KU.getNodeByModel(g);if(g.enablescrollbar==1&&g.dockingheader){f=$KU.getElementById(g.pf+"_"+g.id+"_body").childNodes[0]}var m=f&&(f.tBodies[0]||f);if(m){switch(r){case"setdata":var t=this.headerBuilder(g.columnheadersconfig,g);var d=this.appendRowTag(g,t,true);var k=this.createBody(g,v);d+=this.appendRowTag(g,k,false,1,false,true);this.setTBodyInnerHTML(f,d,"setdata");break;case"setdataat":var v=IndexJL?[null,v]:[v];var q=m.rows[e-IndexJL];if(q){var d=this.createBody(g,v)[0].join("")}this.setTRInnerHTML(q,d,e);break;case"addall":var e=m.rows.length;var k=this.createBody(g,v);var d=m.innerHTML+this.appendRowTag(g,k,false,e+1,false,false);this.setTBodyInnerHTML(m,d);if(g.enablescrollbar==1&&g.dockingheader){$KU.isIE&&(m=$KU.getElementById(g.pf+"_"+g.id+"_body").childNodes[0]);var l=m.rows[e];l&&l.scrollIntoView(true)}break;case"addat":var n=(e<=IndexJL)?0:(e>g.rowcount?g.rowcount:e);var c=document.createElement("div");var v=IndexJL?[null,v]:[v];c.innerHTML="<table><tr index="+n+$KW.Utils.getBaseHtml(g,{tabpaneID:f.getAttribute("ktabpaneid")})+"></tr></table>";var d=this.createBody(g,v)[0].join("");var a=c.firstChild.rows[0];if(e>=m.rows.length){m.appendChild(a)}else{m.insertBefore(a,m.rows[e-IndexJL])}this.setTRInnerHTML(a,d,e);break;case"setcelldata":case"applycellskin":case"setheadercelldata":var j=$KU.inArray(g.columnids,p);if(j[0]){var h=g.data[e];var u=m.rows[e-IndexJL];if(u){if(r=="setcelldata"){h[p]=v;u.cells[j[1]].innerHTML=v}else{var o=h.metainfo||{};o[p+"_skin"]=v;h.metainfo=o;u.cells[j[1]].className+=" "+v}}}break;case"removeall":this.setTBodyInnerHTML(m,"");break;case"removeat":m.rows[e-IndexJL]&&m.removeChild(m.rows[e-IndexJL]);break;case"selectall":if(g.ismultiselect&&g.data&&v){var b=IndexJL?[null]:[];for(var s=IndexJL;s<g.data.length;s++){b.push(s)}g.selectedindices=b}if(!v){g.selectedindices=g.selecteditems=null}this.setSelectedItems(g,true);break;default:}if(r=="addat"||r=="removeat"){this.adjustNodeIndex(m);g.ismultiselect&&g.selectedindices&&this.updateIndices(g,r,e)}this.toggleVisibilty(g,g.data);if(r=="addat"||r=="removeat"||r=="addall"){this.applyRowSkin(g)}}}},adjustNodeIndex:function(b){var c=b.childNodes;if(c){for(var a=0;a<c.length;a++){c[a].setAttribute("index",a+1)}}},addArray:function(c,b){for(var a=0;a<b.length;a++){c.push(b[a])}return c},toggleVisibilty:function(a,c){var b=$KU.getNodeByModel(a);if(c&&c.length>0&&a.isvisible){b.style.display="";$KU.removeClassName(b,"hide")}else{b.style.display="none"}},applyRowSkin:function(d){var c=$KU.getNodeByModel(d);var f=c.tBodies[0].rows;var h=d.rownormalskin||d.skin||"";var e=d.rowalternateskin||d.alternateskin||"";if(h||e){for(var b=0;b<f.length;b++){var a=d.data[b+IndexJL]["metainfo"];var g=(a&&a.skin)?a.skin:((b%2!=0&&e)?e:h);if(d.ismultiselect&&d.rowfocusskin&&d.selectedindices&&$KU.inArray(d.selectedindices,b+IndexJL)[0]){f[b].className=d.rowfocusskin}else{f[b].className=g}}}},applyCellBorder:function(c){var a=$KU.getNodeByModel(c);c.cellBorder="thin "+c.gridlinestyle+" #"+c.gridlinecolor.substr(0,6);if(a){var b=function(f){for(var e=0;e<f.length;e++){var g=f[e];for(var d=0;d<g.cells.length;d++){g.cells[d].style.border=c.cellBorder}}};b(a.tHead&&a.tHead.rows);if(c.enablescrollbar==1&&c.dockingheader){a=$KU.getElementById(c.pf+"_"+c.id+"_body").childNodes[0]}b(a.tBodies[0].rows)}}};
$KW.Map={formID:null,mapID:null,map:null,navigateToArgs:null,navigateToLocationArgs:null,mapScriptRequested:false,mapScriptLoaded:false,currentLatitude:null,currentLongitude:null,currentZoom:15,routeToLocationArgs:null,initialize:function(){kony.events.addEvent("click","Kinfowindow",this.mapInfoWindowEventHandler);kony.events.addEvent("click","Kstaticmap",this.mapEventHandler);kony.events.addEvent("onorientationchange","Map",this.setMapsHeight)},initializeView:function(a){if(document.querySelectorAll("div[name=map_canvas]").length>0){$KW.Map.loadMapScripts()}$KW.Map.setMapsHeight(a)},updateView:function(g,j,e,h){switch(j){case"address":case"locationdata":if((g.mapsrc==="static")||$KU.isBlackBerryNTH||($KU.isWindowsPhone&&$KU.isIE9)){var l=document.getElementById(g.pf+"_static_map");if(!l){return}var m=l.getAttribute("src");if(j=="locationdata"){var f=this.getMarkerDataforStaticMaps(g);if(m.indexOf("&markers")!=-1){l.src=m;l.src=l.src.replace(/center=(.*)$/,"");var b="center="+(!!e.length&&e[0].lat||0)+","+(!!e.length&&e[0].lon||0)+"&";l.src+=b;l.src+=m.match(/markers=(.*)$/)[0]+f}else{l.src=m+"&markers="+f}}else{if(m.indexOf("&markers")!=-1){m=m.replace(/markers=(.*)$/,"").replace("&markers=","")}l.src=m.replace(/center=(.*)&/,"center="+e.location+"&markers=color:red%7C"+e.location)}}else{if($KW.Map.mapScriptLoaded){var d=$KU.getElementById("__MainContainer");if(!d){$KW.Map.isMainContaineraVailable=false}else{this.setUpInteractiveCanvasMap()}}else{$KW.Map.loadMapScripts()}}break;case"zoom":case"zoomlevel":case"mode":if($KU.isBlackBerryNTH||($KU.isWindowsPhone&&$KU.isIE9)){var l=document.getElementById(g.pf+"_static_map");if(!l){return}var m=l.getAttribute("src");var a="";switch(parseInt(g.mode,10)){case 2:a="satellite";break;case 3:a="hybrid";break;case 5:a="polygon";break;case 7:a="terrain";break;default:a="normal"}if(j=="mode"){l.src=m.replace(/maptype=(.*)&mobile/,("maptype="+a+"&mobile"))}else{if(j=="zoom"||j=="zoomlevel"){l.src=m.replace(/zoom(.*)&size/,"zoom="+parseInt(e)+"&size")}}}else{var i=document.querySelectorAll("[name=map_canvas]")[0];i&&this.setUpInteractiveCanvasMap()}break;case"defaultpinimage":var i=document.querySelectorAll("[name=map_canvas]")[0];if((g&&g.mapsrc==="static")||$KU.isBlackBerryNTH||($KU.isWindowsPhone&&$KU.isIE9)){var c=$KU.getImageURL(e);c=g.newPinimage=location.origin+"/"+c;this.setUpInteractiveCanvasMap()}else{g.defaultpinimage=e;i&&this.setUpInteractiveCanvasMap()}break;case"containerheightreference":if(e>0){g.containerheightreference=e}var k=$KU.getNodeByModel(g);if(k){k.style.height=$KW.Map.calculateMapHeight(g)+"px"}break;case"containerheight":g.containerheight=e;var k=$KU.getNodeByModel(g);if(k){k.style.height=$KW.Map.calculateMapHeight(g)+"px"}break}},loadMapScripts:function(){if("undefined"===typeof google&&!$KW.Map.mapScriptRequested){$KW.Map.mapScriptRequested=true;var e=document.querySelectorAll("[name=map_canvas]")[0];$KW.Map.mapID=e&&e.id.split("_")[1]||"";var c=kony.model.getWidgetModel($KW.Map.formID,$KW.Map.mapID);var b=c&&c.mapClientId;var d=document.createElement("script");d.type="text/javascript";d.src="//maps-api-ssl.google.com/maps/api/js?sensor=false"+(!!b&&("&client="+b)||"")+"&callback=$KW.Map.setUpInteractiveCanvasMap";document.body.appendChild(d)}else{return}var a=$KU.getElementById("__MainContainer");if(!a){$KW.Map.isMainContaineraVailable=false}else{$KW.Map.isMainContaineraVailable=true}},mapEventHandler:function(b,f){var h=f.id;var e=document.getElementById(f.getAttribute("kformname")+"_static_map");var g=e.getAttribute("src");var a=g.match(/center=(.*)&/);var d=a[1].split(",");if(h.indexOf("_left")!=-1){d[1]=parseFloat(d[1])-0.002;e.src=g.replace(/center=(.*)&/,"center="+d[0]+","+d[1]+"&")}else{if(h.indexOf("_right")!=-1){d[1]=parseFloat(d[1])+0.002;e.src=g.replace(/center=(.*)&/,"center="+d[0]+","+d[1]+"&")}else{if(h.indexOf("_up")!=-1){d[0]=parseFloat(d[0])-0.002;e.src=g.replace(/center=(.*)&/,"center="+d[0]+","+d[1]+"&")}else{if(h.indexOf("_down")!=-1){d[0]=parseFloat(d[0])+0.002;e.src=g.replace(/center=(.*)&/,"center="+d[0]+","+d[1]+"&")}else{if(h.indexOf("_zoomin")!=-1){var c=g.match(/zoom=(.*)&size/);c=parseInt(c[1])+1;e.src=g.replace(/zoom(.*)&size/,"zoom="+c+"&size")}else{if(h.indexOf("_zoomout")!=-1){var c=g.match(/zoom=(.*)&size/);c=parseInt(c[1])-1;e.src=g.replace(/zoom(.*)&size/,"zoom="+c+"&size")}}}}}}},mapInfoWindowEventHandler:function(c,f){while(!f.getAttribute("kwidgettype")){f=f.parentNode}var e=f.getAttribute("kinfoid");var a=$KU.getElementID(e);var g=f.getAttribute("mappointno");var b=kony.model.getWidgetModel($KW.Map.formID,a);var d=$KU.returnEventReference(b.onselection);if(isNaN(parseInt(g,10))){d&&d.call(b,b,b[b.id+"navigatetoloc"])}else{d&&d.call(b,b,b.locationdata[parseInt(g,10)])}},render:function(mapModel,context){this.formID=mapModel.pf;this.mapID=mapModel.id;var computedSkin=$KW.skins.getWidgetSkinList(mapModel,context);var htmlString="",controls="";var mapsrc=mapModel.mapsrc||mapModel.mapsource;if((mapsrc==="static")||$KU.isBlackBerryNTH||($KU.isWindowsPhone&&$KU.isIE9)){var visibility=(!mapModel.isvisible)?"hide":"";var mapMode="";switch(parseInt(mapModel.mode,10)){case 2:mapMode="satellite";break;case 3:mapMode="hybrid";break;case 5:mapMode="polygon";break;case 7:mapMode="terrain";break;default:mapMode="normal"}var mapdata=eval(mapModel.locationdata||mapModel.address);var centrallat=0;var centrallon=0;var markers="";if(mapdata&&mapdata[IndexJL]){centrallat=(mapdata[IndexJL].lat==undefined)?mapdata[IndexJL][IndexJL]:mapdata[IndexJL].lat;centrallon=(mapdata[IndexJL].lat==undefined)?mapdata[IndexJL][1+IndexJL]:mapdata[IndexJL].lon;markers=this.getMarkerDataforStaticMaps(mapModel)}var upimage=$KU.getImageURL(mapModel.upimg?mapModel.upimg:"tupF.png");var downimage=$KU.getImageURL(mapModel.downimg?mapModel.downimg:"tdownF.png");var rightimage=$KU.getImageURL(mapModel.rightimg?mapModel.rightimg:"trightF.png");var leftimage=$KU.getImageURL(mapModel.leftimg?mapModel.leftimg:"tleftF.png");var zoominimage=$KU.getImageURL(mapModel.zoomin?mapModel.zoomin:"zoomin.png");var zoomoutimage=$KU.getImageURL(mapModel.zoomout?mapModel.zoomout:"zoomout.png");controls="<table><tr><td><img kwidgettype ='Kstaticmap' kformname='"+mapModel.pf+"' id='"+mapModel.id+"_up_event' src = '"+upimage+"'/></td><td><img kwidgettype ='Kstaticmap' kformname='"+mapModel.pf+"' id='"+mapModel.id+"_down_event' src = '"+downimage+"'/></td><td><img kwidgettype ='Kstaticmap' kformname='"+mapModel.pf+"' id='"+mapModel.id+"_right_event' src = '"+rightimage+"'/></td><td><img kwidgettype ='Kstaticmap' kformname='"+mapModel.pf+"' id='"+mapModel.id+"_left_event' src = '"+leftimage+"'/></td><td><img kwidgettype ='Kstaticmap' kformname='"+mapModel.pf+"' id='"+mapModel.id+"_zoomin_event' src = '"+zoominimage+"'/></td><td><img kwidgettype ='Kstaticmap' kformname='"+mapModel.pf+"' id='"+mapModel.id+"_zoomout_event' src = '"+zoomoutimage+"'/></td></tr></table>";if(mapModel.disabled){controls="<table style='position:relative;'><tr><td><div style='background:#fff;bottom:0;left:0;opacity:0.5;filter: progid:DXImageTransform.Microsoft.Alpha(Opacity=50);filter:alpha(opacity=50);position:absolute;right:0;top:0;z-index:2147483647' class='google_map_mask'></div><img kwidgettype ='Kstaticmap' kformname='"+mapModel.pf+"' id='"+mapModel.id+"_up_event' src = '"+upimage+"'/></td><td><img kwidgettype ='Kstaticmap' kformname='"+mapModel.pf+"' id='"+mapModel.id+"_down_event' src = '"+downimage+"'/></td><td><img kwidgettype ='Kstaticmap' kformname='"+mapModel.pf+"' id='"+mapModel.id+"_right_event' src = '"+rightimage+"'/></td><td><img kwidgettype ='Kstaticmap' kformname='"+mapModel.pf+"' id='"+mapModel.id+"_left_event' src = '"+leftimage+"'/></td><td><img kwidgettype ='Kstaticmap' kformname='"+mapModel.pf+"' id='"+mapModel.id+"_zoomin_event' src = '"+zoominimage+"'/></td><td><img kwidgettype ='Kstaticmap' kformname='"+mapModel.pf+"' id='"+mapModel.id+"_zoomout_event' src = '"+zoomoutimage+"'/></td></tr></table>"}htmlString="<div id='"+mapModel.pf+"_"+mapModel.id+"'class='"+visibility+"' style='"+$KW.skins.getMarginSkin(mapModel,context)+$KW.skins.getPaddingSkin(mapModel)+"' kwidgettype='Map' >"+controls;htmlString+="<img id='"+mapModel.pf+"_static_map' alt='Map Widget' style='width:100%;' src='http://maps.google.com/maps/api/staticmap?sensor=false&zoom=15&size=400x400&format=png32&maptype="+mapMode+"&mobile=true&center="+centrallat+","+centrallon+"&markers="+markers+"'/></div>"}else{if(mapsrc=="native"){mapModel.widgetdata="http://maps.google.com/maps?q=17.447326,78.371358";htmlString="<a style='text-decoration:none;' href='"+mapModel.widgetdata+"'>Google Map Name</a>"}else{var isPolygonview="";if(mapModel.mapview==="5"||mapModel.mode=="5"){isPolygonview=" mapview='polygon' "}htmlString="<div tpwidgettype='googlemap' kformname= '"+mapModel.pf+"' id='"+mapModel.pf+"_"+mapModel.id+"' name='map_canvas'"+isPolygonview+" style='height:500px;"+$KW.skins.getMarginSkin(mapModel,context)+$KW.skins.getPaddingSkin(mapModel)+"' class='"+computedSkin+"' konywidgetdata='"+mapModel.widgetdata+"'></div>"}}return htmlString},getMarkerDataforStaticMaps:function(mapModel){var mapdata=eval(mapModel.locationdata||mapModel.address);var markers="";for(var i=IndexJL;i<mapdata.length;i++){var lat=(mapdata[IndexJL].lat==undefined)?mapdata[i][IndexJL]:mapdata[i].lat;var lon=(mapdata[IndexJL].lat==undefined)?mapdata[i][1+IndexJL]:mapdata[i].lon;(typeof mapModel.newPinimage!=undefined)&&(markers+="icon:"+mapModel.newPinimage+"%7C");markers+=lat+","+lon;if(i!=mapdata.length){markers+="&markers="}}return markers},setUpInteractiveCanvasMap:function(){if("undefined"===typeof google){$KG.mapScriptLoaded=false;$KW.Map.mapScriptLoaded=false;return}$KG.mapScriptLoaded=true;$KW.Map.mapScriptLoaded=true;var mapModel=kony.model.getWidgetModel($KW.Map.formID,$KW.Map.mapID);mapModel.markers=[];if(mapModel&&mapModel.mapsrc==="static"&&($KU.isBlackBerryNTH||($KU.isWindowsPhone&&$KU.isIE9))){var mapElem=document.getElementById(mapModel.pf+"_static_map");var imgsrc=mapElem.getAttribute("src");var markers=this.getMarkerDataforStaticMaps(mapModel);imgsrc=imgsrc.replace(/markers=(.*)$/,"");mapElem.src=imgsrc+"&markers="+markers}else{var mapCanvasElement=document.querySelectorAll("[name=map_canvas]")[0];$KG.mapScriptLoaded="false";if(mapCanvasElement){try{var mapModel=kony.model.getWidgetModel($KW.Map.formID,$KW.Map.mapID);switch(parseInt(mapModel.mode,10)){case 2:var mapMode=google.maps.MapTypeId.SATELLITE;break;case 3:var mapMode=google.maps.MapTypeId.HYBRID;break;case 7:var mapMode=google.maps.MapTypeId.TERRAIN;break;default:var mapMode=google.maps.MapTypeId.ROADMAP}}catch(e){window.console&&console.log("google : map script has not loaded yet");return}var mapview=mapCanvasElement.getAttribute("mapview");var mapdata=eval(mapModel.locationdata||mapModel.address);var mapjsondata=mapdata;var centralzoom=mapModel.zoomlevel||15;var myOptions={zoom:centralzoom,disableDefaultUI:true,zoomControl:true,navigationControl:true,mapTypeControl:mapModel.displaymaptypecontrols,scaleControl:true,mapTypeId:mapMode};var map;if(mapdata){var geocoder=new google.maps.Geocoder();if(mapdata.location){map=new google.maps.Map(mapCanvasElement,myOptions);geocoder.geocode({address:mapdata.location},function(results,status){if(status==google.maps.GeocoderStatus.OK){map.setCenter(results[0].geometry.location);var marker=new google.maps.Marker({map:map,position:results[0].geometry.location})}})}else{if(mapdata.length>=1+IndexJL){var centrallat=mapdata[IndexJL].lat,centrallon=mapdata[IndexJL].lon;var points=[],myLatlng,myOptions;if(mapdata[IndexJL].lat==undefined){centrallat=mapdata[IndexJL][IndexJL];centrallon=mapdata[IndexJL][1+IndexJL]}myLatlng=new google.maps.LatLng(centrallat,centrallon);myOptions.center=myLatlng,myOptions.zoomControl=undefined;map=new google.maps.Map(mapCanvasElement,myOptions);$KW.Map.map=map;if(typeof InfoBox==="undefined"){var script=document.createElement("script");script.type="text/javascript";script.src="//google-maps-utility-library-v3.googlecode.com/svn/trunk/infobox/src/infobox.js";document.body.appendChild(script);script.onload=function(){infobox=new InfoBox()}}if(mapview==null&&mapModel.mode!="5"){var infowindow=null;infowindow=new google.maps.InfoWindow({content:"holding..."});var mapid=mapCanvasElement.getAttribute("id");var contentStringEnd="</div>";for(var i=IndexJL;i<(mapdata.length);i++){var contentString='<div kwidgettype="Kinfowindow" kinfoid="'+mapid+'"';var urlt="";var imageURL="";if(mapdata[IndexJL].lat==undefined){imageURL=(mapdata[i][4+IndexJL]||mapModel.defaultpinimage)}else{imageURL=(mapdata[i].image||mapModel.defaultpinimage)}urlt=$KU.getImageURL(imageURL);var myLatlng1=new google.maps.LatLng(mapdata[i].lat,mapdata[i].lon);if(mapdata[IndexJL].lat==undefined){urlt=$KU.getImageURL(mapdata[i][4+IndexJL]);myLatlng1=new google.maps.LatLng(mapdata[i][IndexJL],mapdata[i][1+IndexJL])}var coData=mapdata[i].calloutData||mapdata[i].calloutdata;var mapInfoTemplateData=(coData&&coData.template)||mapModel.callouttemplate;if(mapInfoTemplateData){this.setParentForTemplateChildren(mapInfoTemplateData,mapInfoTemplateData.children,mapInfoTemplateData);var data="";coData&&(data=this.ConvertDataMaptoData(mapModel,coData));data&&$KW.Utils.updateLayoutData(mapModel,mapInfoTemplateData,data);contentString=$KW.HBox.render(mapInfoTemplateData,{topLevelBox:true})}var marker1=new google.maps.Marker({position:myLatlng1,map:map,icon:urlt,html:(mapdata[IndexJL].lat==undefined)?mapdata[i][3+IndexJL]:mapdata[i].desc,hdrdescp:(mapdata[IndexJL].lat==undefined)?mapdata[i][2+IndexJL]:mapdata[i].name,indexpoint:i,template:mapInfoTemplateData,contentString:contentString,showcallout:(mapdata[IndexJL].lat==undefined)?mapdata[i][5+IndexJL]:mapdata[i].showcallout});mapModel.markers.push(marker1);new google.maps.event.addListener(marker1,"click",function(){if(!this.eventFromNavigateTo){var pinClickEvent=$KU.returnEventReference(mapModel.onpinclick);pinClickEvent&&pinClickEvent.call(mapModel,mapModel,mapModel.locationdata[parseInt(this.indexpoint)])}if(this.showcallout||this.showcallout==undefined||this.forceShowcallout){if(this.template){var docwidth=(window&&window.innerWidth)||document.width;if(this.template.containerWeight<1||this.template.containerWeight>100){this.template.containerWeight=80}var infobox_width=this.template.containerWeight&&((docwidth*this.template.containerWeight*0.01)+"px")||"280px";var infobox_left=parseInt(infobox_width,10)/-2;infobox.content_=this.contentString,infobox.disableAutoPan_=false,infobox.position_=this.position,infobox.maxWidth_=450,infobox.pixelOffset_=new google.maps.Size(infobox_left,0),infobox.zIndex_=10,infobox.boxStyle_={opacity:1,width:infobox_width,background:"none"},infobox.enableEventPropagation_=true,infobox.closeBoxURL_="",infobox.infoBoxClearance_=new google.maps.Size(0,0);infobox.open(this.map,this)}else{infowindow.setContent(this.contentString+' mappointno="'+this.indexpoint+'"><b kwidgettype="Kinfowindow" kinfoid="'+mapid+'" mappointno="'+this.indexpoint+'">'+this.hdrdescp+"</b> <br />"+this.html+contentStringEnd);infowindow.open(this.map,this)}}this.forceShowcallout=false;this.eventFromNavigateTo=false});marker1.setMap(map)}}else{var polyPoint="";for(var i=IndexJL;i<(mapdata.length);i++){if(mapdata[IndexJL].lat==undefined){polyPoint=new google.maps.LatLng(mapdata[i][IndexJL],mapdata[i][IndexJL])}else{polyPoint=new google.maps.LatLng(mapdata[i].lat,mapdata[i].lon)}points.push(polyPoint)}var bermudaTriangle=new google.maps.Polygon({paths:points,strokeColor:"#FF0000",strokeOpacity:0.8,strokeWeight:3,fillColor:"#FF0000",fillOpacity:0.35});bermudaTriangle.setMap(map)}}else{if(mapdata.length==0){myOptions.center=new google.maps.LatLng(0,0);map=new google.maps.Map(mapCanvasElement,myOptions);$KW.Map.map=map}}}}else{myOptions.center=new google.maps.LatLng(0,0);map=new google.maps.Map(mapCanvasElement,myOptions);$KW.Map.map=map}$KW.Map.setEnabledMap(mapModel,mapCanvasElement);if($KW.Map.navigateToArgs){$KW.Map.navigateTo($KW.Map.navigateToArgs.mapModel,$KW.Map.navigateToArgs.index,$KW.Map.navigateToArgs.showCallOut)}if($KW.Map.navigateToLocationArgs){$KW.Map.navigateToLocation($KW.Map.navigateToLocationArgs.mapModel,$KW.Map.navigateToLocationArgs.locationData,$KW.Map.navigateToLocationArgs.showCallOut,$KW.Map.navigateToLocationArgs.dropPin)}if($KW.Map.routeToLocationArgs){$KW.Map.navigateToLocation($KW.Map.routeToLocationArgs.mapModel,$KW.Map.routeToLocationArgs.startlocationData,$KW.Map.routeToLocationArgs.endlocationData,$KW.Map.routeToLocationArgs.waypointslocation,$KW.Map.routeToLocationArgs.routeConfig)}}}},navigateTo:function(f,g,a){if(!this.navigateToArgs){this.navigateToArgs={mapModel:f,index:g,showCallOut:a}}if(!this.map){return}var g=parseInt(g);var h=this.map;var d="";var e="";var c=f.locationdata;if(g<1&&g>=c.length){return}if(c[g]){d=c[g].lat;e=c[g].lon;if(c[g].lat==undefined){d=c[g][IndexJL];e=c[g][1+IndexJL]}}h.setCenter(new google.maps.LatLng(d,e));if(a){var b=this.getMarkerByIndex(g,c,f);b.forceShowcallout=true;b.eventFromNavigateTo=true;google.maps.event.trigger(b,"click")}this.navigateToArgs=null},navigateToLocation:function(d,i,j,g){if(!this.navigateToLocationArgs){this.navigateToLocationArgs={mapModel:d,locationData:i,showCallOut:j,dropPin:g}}if(!this.map){return}var m=d.locationdata;var l="navigatetoloc";var c=this.map;var o=(i.lat)?i.lat:i[IndexJL];var b=(i.lon)?i.lon:i[1+IndexJL];var k=(i.lat==undefined)?i[3+IndexJL]:i.desc;var a=(i.lat==undefined)?i[2+IndexJL]:i.name;var f=(i.lat==undefined)?i[4+IndexJL]:(i.image||d.defaultpinimage);var n=(g)?$KU.getImageURL(f):null;var n="";if(g){g=true;n=$KU.getImageURL(f)}else{if(typeof(marker)!="undefined"){marker.setMap(null)}}if(typeof(infowindow)!="undefined"){infowindow.close()}marker=new google.maps.Marker({position:new google.maps.LatLng(o,b),map:c,icon:n,html:k,hdrdescp:a,visible:g});if(!g){marker.setMap(null)}c.setCenter(new google.maps.LatLng(o,b));d[d.id+"navigatetoloc"]=i;var h='<div kwidgettype="Kinfowindow" kinfoid="'+d.id+'"';var e="</div>";if(j){infowindow=new google.maps.InfoWindow({content:h+' mappointno="'+l+'"><b>'+a+"</b> <br />"+k+e});if(i&&i.showcallout){new google.maps.event.addListener(marker,"click",function(){infowindow.open(this.map,this)})}infowindow.open(c,marker)}this.navigateToLocationArgs=null},dismissCallout:function(b,a){if(typeof infobox!="undefined"){infobox.close()}},getMarkerByIndex:function(index,locationDataList,mapWidget){if(!this.map){return}if(mapWidget.markers.length){marker=mapWidget.markers[index];return marker}if(!locationDataList){var locationDataList=eval(mapWidget.locationdata)}var map=this.map;var urlt=null;var imageURL=(locationDataList[index].lat==undefined)?locationDataList[index][4+IndexJL]:(locationDataList[index].image||mapWidget.defaultpinimage);urlt=$KU.getImageURL(imageURL);var lat=(locationDataList[index].lat==undefined)?locationDataList[index][IndexJL]:locationDataList[index].lat;var lon=(locationDataList[index].lat==undefined)?locationDataList[index][1+IndexJL]:locationDataList[index].lon;var desc=(locationDataList[index].lat==undefined)?locationDataList[index][3+IndexJL]:locationDataList[index].desc;var name=(locationDataList[index].lat==undefined)?locationDataList[index][2+IndexJL]:locationDataList[index].name;var marker=new google.maps.Marker({position:new google.maps.LatLng(lat,lon),map:map,icon:urlt,html:desc,hdrdescp:name,indexpoint:index});return marker},routeLocations:function(c,i,h,g,f){if(!this.map){return}markers={};var j={draggable:true,suppressMarkers:true,polylineOptions:{strokeColor:f.lineColor,strokeOpacity:1,strokeWeight:f.lineWidth}};directionsService=new google.maps.DirectionsService();directionsDisplay=new google.maps.DirectionsRenderer(j);geocoder=new google.maps.Geocoder();var b=new google.maps.LatLng(i.lat,i.lon);var a=new google.maps.LatLng(h.lat,h.lon);var d=document.querySelectorAll("[name=map_canvas]")[0];var k={zoom:13,mapTypeId:google.maps.MapTypeId.ROADMAP,center:b};map=new google.maps.Map(d,k);directionsDisplay.setMap(map);this.map=map;this.RenderTheDirection(b,a,g);var e=[i,h,g];this.CreateMarker(e)},ConvertDataMaptoData:function(Model,data){var map=Model.locationdata;var masterdata={};var keys=$KU.getkeys(map);var newmap={};for(var i=0;i<keys.length;i++){newmap[map[keys[i]]]=keys[i]}var newkeys=$KU.getkeys(newmap);for(var j=0;j<newkeys.length;j++){var value=data[newkeys[j]];if(value&&typeof value!="object"&&typeof value!=="number"&&value.toLowerCase().indexOf("i18n.getlocalizedstring")!=-1){masterdata[newkeys[j]]=eval(value)}else{masterdata[keys[j]]=value}}return masterdata},CreateMarker:function(d){$KG.__markers={};var l=kony.model.getWidgetModel(this.formID,this.mapID);var j=0;var g=document.querySelectorAll("[name=map_canvas]")[0];var k=g.getAttribute("id");var f='<div kwidgettype="Kinfowindow" kinfoid="'+k+'"';var e="</div>";for(var h=IndexJL;h<(d.length-1);h++){var a=h;imageURL=d[h].image;urlt=$KU.getImageURL(imageURL);var c=new google.maps.LatLng(d[h].lat,d[h].lon);var b=new google.maps.Marker({id:a,position:c,map:map,icon:urlt,html:d[h].desc,hdrdescp:d[h].name,indexpoint:h,draggable:true});$KG.__markers[a]=b;google.maps.event.addListener(b,"dragend",function(i){return function(){geocoder.geocode({latLng:b.getPosition()},function(n,m){if(m==google.maps.GeocoderStatus.OK){$KW.Map.RenderTheDirection($KG.__markers[0].getPosition(),$KG.__markers[1].getPosition(),d[2])}})}}(b));new google.maps.event.addListener(b,"click",function(){l.onpinselect&&l.onpinselect(l.locationdata[parseInt(this.indexpoint)]);if(this.showcallout||this.showcallout==undefined){var i=new google.maps.InfoWindow({content:f+' mappointno="'+j+'"><b>'+name+"</b> <br />"+desc+e});i.setContent(f+' mappointno="'+this.indexpoint+'"><b>'+this.hdrdescp+"</b> <br />"+this.html+e);i.open(map,this)}});b.setMap(map)}},RenderTheDirection:function(e,f,b){var a=[];if(b&&b!=undefined){for(var c=0;c<b.length;c++){a[c]=new google.maps.LatLng(b[c].lat,b[c].lon);a[c]={location:a[c]+""}}}var d={origin:e,destination:f,waypoints:a,travelMode:google.maps.TravelMode.DRIVING};directionsService.route(d,function(g,h){if(h==google.maps.DirectionsStatus.OK){directionsDisplay.setDirections(g)}})},getInfoWindowByIndex:function(index,locationDataList){if(!this.map){return}if(!locationDataList){var mapWidget=kony.model.getWidgetModel(this.formID,this.mapID);var locationDataList=eval(mapWidget.locationdata)}var mapCanvasElement=document.querySelectorAll("[name=map_canvas]")[0];var mapid=mapCanvasElement.getAttribute("id");var contentString='<div kwidgettype="Kinfowindow" kinfoid="'+mapid+'"';var contentStringEnd="</div>";var desc=(locationDataList[index].lat==undefined)?locationDataList[index][3+IndexJL]:locationDataList[index].desc;var name=(locationDataList[index].lat==undefined)?locationDataList[index][2+IndexJL]:locationDataList[index].name;return new google.maps.InfoWindow({content:contentString+' mappointno="'+index+'"><b>'+name+"</b> <br />"+desc+contentStringEnd})},setParentForTemplateChildren:function(d,c,a){d.pf=a.id;if(c&&c.length>0){for(var b=0;b<c.length;b++){d[c[b]].pf=a.id;this.setParentForTemplateChildren(d[c[b]],d[c[b]].children,a)}}kony.ui.Form2.prototype.createFormLevelHierarchy.call(a,a.ownchildrenref)},setMapsHeight:function(g){var h=document.querySelectorAll("#"+g+" div[tpwidgettype='googlemap']");if(h){for(var e=0;e<h.length;e++){var d=h[e];var a=d.getAttribute("id").split("_")[1];var c=d.getAttribute("id").split("_")[0];var f=d.getAttribute("ktabpaneid");var b=kony.model.getWidgetModel(c,a,f);d.style.height=$KW.Map.calculateMapHeight(b)+"px"}}},calculateMapHeight:function(c){var a=c.containerheight;var b="";if(a>0){if(c.containerheightreference===constants.MAP_HEIGHT_BY_FORM_REFERENCE||(c.pf==c.parent)){var g=document.getElementById(c.pf+"_scroller");var f=(g&&g.offsetHeight)||window.innerHeight||document.body.clientHeight;b=Math.round((a*f)/100)}else{if(c.containerheightreference===constants.MAP_HEIGHT_BY_PARENT_WIDTH){var e=$KU.getElementById(c.pf+"_"+c.parent);var d=(e&&e.offsetWidth);b=Math.round((a*d)/100)}}}else{b="500"}return b},setEnabledMap:function(b,c){var d=c;if(b&&(b.mapsrc==="static"||$KU.isBlackBerryNTH||($KU.isWindowsPhone&&$KU.isIE9))){d=c.getElementsByTagName("table")[0]}if(!d){return}if(b.disabled===true||c.getAttribute("kdisabled")==="true"){var a=document.createElement("div");a.style.background="#fff";a.style.bottom="0";a.style.left="0";a.style.opacity="0.5";a.style.filter="progid:DXImageTransform.Microsoft.Alpha(Opacity=50)";a.style.filter="alpha(opacity=50)";a.style.position="absolute";a.style.right="0";a.style.top="0";a.style.zIndex="2147483647";a.className="google_map_mask";if(!!d&&!d.querySelectorAll(".google_map_mask")[0]){b.oldPosition=d.style.position;d.style.position="relative";d.appendChild(a)}}if(b.disabled===false||c.getAttribute("kdisabled")==="false"&&d){var a=d.querySelectorAll(".google_map_mask")[0];d.style.position=!!b.oldPosition&&b.oldPosition;!!a&&a.parentNode.removeChild(a)}}};
$KW.TabPane={ANIMATION_DELAY:500,initialize:function(){kony.events.addEvent("click","Tab",this.eventHandler)},initializeView:function(a){this.toggleDisable(a);setTimeout(function(){$KW.TabPane.setTabsHeight(a)},1)},updateView:function(f,j,e,g){var c=f.viewtype;switch(j){case"activeskin":if(c==="tabview"){for(var h=0;h<f.children.length;h++){var d=$KU.getElementById(f.pf+"_"+f.children[h]+"_Body");var l=$KU.getElementById(f.pf+"_"+f.children[h]+"_Li");var k=$KU.getElementById(f.pf+"_"+f.children[h]+"_A");if(d&&d.getAttribute("activebody")==="1"){$KU.removeClassName(l,g+"li");$KU.removeClassName(k,g+"lia");$KU.addClassName(l,e+"li");$KU.addClassName(k,e+"lia")}}}else{for(var h=0;h<f.children.length;h++){var m=f.children[h];var b=$KU.getElementById(f.pf+"_"+m+"_Header");if(b){if(b.getAttribute("active")==="1"){$KU.removeClassName(b,g);$KU.addClassName(b,e)}}}}break;case"inactiveskin":if(c==="tabview"){for(var h=0;h<f.children.length;h++){var d=$KU.getElementById(f.pf+"_"+f.children[h]+"_Body");var l=$KU.getElementById(f.pf+"_"+f.children[h]+"_Li");var k=$KU.getElementById(f.pf+"_"+f.children[h]+"_A");if(d&&d.getAttribute("activebody")==="0"){$KU.removeClassName(l,g+"li");$KU.removeClassName(k,g+"lia");$KU.addClassName(l,e+"li");$KU.addClassName(k,e+"lia")}}}else{for(var h=0;h<f.children.length;h++){var m=f.children[h];var b=$KU.getElementById(f.pf+"_"+m+"_Header");if(b){if(b.getAttribute("active")==="0"){$KU.removeClassName(b,g);$KU.addClassName(b,e)}}}}break;case"activetab":var a=$KU.getElementById(f.pf+"_"+f.id);if(e>=0&&e<f.children.length){f.activetab=e;if(f.activetabs){f.activetabs[IndexJL]=e}this.repaint(a,f)}break;case"activetabs":var a=$KU.getElementById(f.pf+"_"+f.id);if(e[IndexJL]>=0&&e[IndexJL]<f.children.length){f.activetabs=e;f.activetab=e[IndexJL];this.repaint(a,f)}break;case"viewconfig":var a=$KU.getElementById(f.pf+"_"+f.id);this.repaint(a,f);break;case"viewtype":var a=$KU.getElementById(f.pf+"_"+f.id);f.viewtype=e;if(f.viewconfig){f.toggletabs=f.viewconfig.collapsibleviewconfig.toggletabs}this.repaint(a,f);break}},render:function(d,a){var b=d.viewtype;var c="";if(b=="tabview"){this.adjustActiveTabs(d);c=this.generateTabView(d,a)}else{if(d.toggletabs===true){this.adjustActiveTabs(d);c=this.generateAccordionView(d,a)}else{c=this.generateCollapsibleView(d,a)}}return c},repaint:function(b,a){if(b){if(a.viewtype==="tabview"||a.viewtype==constants.TABPANE_VIEW_TYPE_PAGEVIEW){b.innerHTML=$KW.TabPane.generateTabView(a,a.context,true)}else{if(a.viewtype==="collapsibleview"&&a.toggletabs==="true"){b.innerHTML=$KW.TabPane.generateAccordionView(a,a.context,true);setTimeout(function(){$KW.TabPane.setTabsHeight(a.pf)},1)}else{b.innerHTML=$KW.TabPane.generateCollapsibleView(a,a.context,true);setTimeout(function(){$KW.TabPane.setTabsHeight(a.pf)},1)}}}},generateTabView:function(o,b,h){var m="";var l=kony.model.getWidgetModel(o.pf,o.id);var n=$KW.skins.getMarginSkin(o,b)+$KW.skins.getPaddingSkin(o);var k=(!o.isvisible)?" hide ":"";var g=" ktabpaneid='"+o.id+"' kformname='"+o.pf+"' ";var f=o.pf+"_"+o.id;var c;if(!h){m+="<div id = '"+f+"' class='"+k+"' style='"+n+"' kformname='"+o.pf+"' kwidgettype='TabPane'>"}m+="<div id = '"+f+"_Header'>";m+="<ul id = '"+f+"_Ul' class='middleleftalign' style='padding-bottom: 3px;'>";for(var e=0;e<o.children.length;e++){var a=l[o.children[e]];m+=this.generateTabViewLi(o,a,e)}m+="</ul>";m+="</div>";m+="<div id = '"+f+"_Body'>";for(var d=0;d<o.children.length;d++){var a=l[o.children[d]];b.tabpaneID=o.id;o.context=b;m+=this.generateTabViewBody(o,a,d,b)}m+="</div>";if(!h){m+="</div>"}return m},generateTabViewLi:function(h,b,d){var a=h.activeskin||"";var e=h.inactiveskin||"";var f=" ktabpaneid='"+h.id+"' kformname='"+h.pf+"' ";var g="";var c=b.pf+"_"+b.id;g+="<li id = '"+c+"_Li' index="+d+" style='display:inline' class='"+(d!=(h.activetab-IndexJL)?e:a)+"li' kwidgettype='Tab'"+f+">";g+="<a id = '"+c+"_A' style='display:inline-block' index="+d+" kwidgettype='Tab'"+f+"href='#' class='"+(d!=(h.activetab-IndexJL)?e:a)+((e||a)?"lia'":"'")+">";if(b.image){g+="<img src='"+$KU.getImageURL(b.image)+"' />"}if(b.tabname){g+="<div ";if(b.image){g+=" style='float:right' "}g+=">"+b.tabname+"</div>"}g+="</a>";g+="</li>";return g},generateTabViewBody:function(g,a,b,d){var f="";var e=" ktabpaneid='"+g.id+"' kformname='"+g.pf+"' ";var c=$KW.skins.getMarginSkin(a,d)+$KW.skins.getPaddingSkin(a);tabId=a.pf+"_"+a.id;f+="<div id = '"+tabId+"_Body' kwidgettype='tabviewTabBody'"+e;if(b!=(g.activetab-IndexJL)){f+="class='hide "+((a.skin)?a.skin:"")+"' activebody='0' ";f+="class='hide "+((a.skin)?a.skin:"")+"' activebody='0' "}else{f+="class='show "+((a.skin)?a.skin:"")+"' activebody='1' "}f+=" style='"+c+"'>";f+=this.renderTab(g,a,d);f+="</div>";return f},generateCollapsibleView:function(j,b,d){var f=kony.model.getWidgetModel(j.pf,j.id);var g="";var h=$KW.skins.getMarginSkin(j,b)+$KW.skins.getPaddingSkin(j);var e=(!j.isvisible)?" hide ":"";if(!d){g+="<div class='"+e+"' style='"+h+"' id = '"+j.pf+"_"+j.id+"' kformname='"+j.pf+"' kwidgettype='TabPane'>"}b.tabpaneID=j.id;j.context=b;for(var c=0;c<j.children.length;c++){var a=f[j.children[c]];b.tabpaneID=j.id;j.context=b;g+=this.generateCollapsibleViewTab(j,a,c,b)}if(!d){g+="</div>"}return g},generateCollapsibleViewTab:function(k,a,g,b){var j="";var f=k.activeskin||"";var h=k.inactiveskin||"";var e=" ktabpaneid='"+k.id+"' kformname='"+k.pf+"' ";var m=k.collapsedimage?$KU.getImageURL(k.collapsedimage):"";var d=k.expandedimage?$KU.getImageURL(k.expandedimage):"";var i=$KW.skins.getMarginSkin(a,b)+$KW.skins.getPaddingSkin(a);var l=this.isActiveTab(k,a);var c=a.pf+"_"+a.id;j+="<div id = '"+c+"_Tab'>";j+="<div id = '"+c+"_Header' index="+g+e+"kwidgettype='Tab' class='"+(l?f:h)+"'"+(l?" active='1'":" active='0'")+">";j+="<div class = 'ktable kwt100' style='text-decoration: inherit;table-layout: auto;'>";j+="<div class = 'krow kwt100' >";if(k.imageposition=="left"){j+="<div class = 'kcell kwt2 middleleftalign' >";j+="<img ";if(l){if(k.collapsedimage){j+="src='"+m+"'"}}else{if(k.expandedimage){j+="src='"+d+"'"}}j+=" id='"+c+"_Img' kwidgettype='Tab'"+e+"/>";j+="</div>"}j+="<div class = 'kcell kwt98 middleleftalign' >";if(a.image){j+="<div style='float:left'><img src='"+$KU.getImageURL(a.image)+"' /></div>"}j+="<div id = '"+c+"_Div' kwidgettype='Tab' "+e;if(k.tabnamealignment){j+="style='text-align:"+k.tabnamealignment+"' "}j+=" >";if(a.tabname){j+=a.tabname}j+="</div>";j+="</div>";if(k.imageposition==="right"){j+="<div class = 'kcell kwt2 middleleftalign' >";j+="<img style='vertical-align: middle' ";if(l){if(k.collapsedimage){j+="src='"+m+"'"}}else{if(k.expandedimage){j+="src='"+d+"'"}}j+=" id='"+c+"_Img' kwidgettype='Tab'"+e+"/>";j+="</div>"}j+="</div></div>";j+="</div>";j+="<div id = '"+c+"_Body' class='"+(l?"tabactivebody ":"tabinactivebody ")+(a.skin||"")+"' kwidgettype='collapsibleTabBody' style='display:none;"+i+"' >";b.tabpaneID=k.id;k.context=b;j+=this.renderTab(k,a,b);j+="</div>";j+="</div>";return j},isActiveTab:function(d,a){for(var c=0;c<d.children.length;c++){if(d.children[c]==a.id){break}}for(var b=IndexJL;b<d.activetabs.length;b++){if(d.activetabs[b]==(c+IndexJL)){return true}}return false},generateAccordionView:function(o,b,h){var l=kony.model.getWidgetModel(o.pf,o.id);var m="";var n=$KW.skins.getMarginSkin(o,b)+$KW.skins.getPaddingSkin(o);var j=(!o.isvisible)?" hide ":"";if(!h){m+="<div class='"+j+"' style='"+n+"' id = '"+o.pf+"_"+o.id+"' kformname='"+o.pf+"' kwidgettype='TabPane'>"}var g=o.activeskin||"";var k=o.inactiveskin||"";var c;var f=" ktabpaneid='"+o.id+"' kformname='"+o.pf+"' ";var p=o.collapsedimage?$KU.getImageURL(o.collapsedimage):"";var d=o.expandedimage?$KU.getImageURL(o.expandedimage):"";b.tabpaneID=o.id;o.context=b;for(var e=0;e<o.children.length;e++){var a=l[o.children[e]];m+=this.generateAccordionViewTab(o,a,e,b)}if(!h){m+="</div>"}return m},generateAccordionViewTab:function(k,a,g,b){var c=a.pf+"_"+a.id;var e=" ktabpaneid='"+k.id+"' kformname='"+k.pf+"' ";var f=k.activeskin||"";var h=k.inactiveskin||"";var l=k.collapsedimage?$KU.getImageURL(k.collapsedimage):"";var d=k.expandedimage?$KU.getImageURL(k.expandedimage):"";var j=$KW.skins.getMarginSkin(a,b)+$KW.skins.getPaddingSkin(a);var i="";i+="<div id = '"+c+"_Tab'>";i+="<div id = '"+c+"_Header' index="+g+e+"kwidgettype='Tab' class='"+((g==(k.activetab-IndexJL))?f+"' active='1'>":h+"' active='0'>");i+="<div class = 'ktable kwt100' style='text-decoration: inherit;table-layout: auto;'>";i+="<div class = 'krow kwt100' >";if(k.imageposition==="left"){i+="<div class = 'kcell kwt2 middleleftalign' >";i+="<img ";if(g==(k.activetab-IndexJL)){if(k.collapsedimage){i+="src='"+l+"'"}}else{if(k.expandedimage){i+="src='"+d+"'"}}i+=" id='"+c+"_Img' kwidgettype='Tab'"+e+"/>";i+="</div>"}i+="<div class = 'kcell kwt98 middleleftalign' >";if(a.image){i+="<div style='float:left'><img src='"+$KU.getImageURL(a.image)+"' /></div>"}i+="<div id = '"+c+"_Div' kwidgettype='Tab'"+e;if(k.tabnamealignment){i+="style='text-align:"+k.tabnamealignment+"' "}i+=" >";if(a.tabname){i+=a.tabname}i+="</div>";i+="</div>";if(k.imageposition==="right"){i+="<div class = 'kcell kwt2 middleleftalign' >";i+="<img ";if(g==(k.activetab-IndexJL)){if(k.collapsedimage){i+="src='"+l+"'"}}else{if(k.expandedimage){i+="src='"+d+"'"}}i+=" id='"+c+"_Img' kwidgettype='Tab'"+e+"/>";i+="</div>"}i+="</div></div>";i+="</div>";i+="<div id = '"+c+"_Body' class='"+(g==(k.activetab-IndexJL)?"tabactivebody ":"tabinactivebody ")+(a.skin||"")+"' kwidgettype='collapsibleTabBody' style='display:none;"+j+"' >";i+=this.renderTab(k,a,b);i+="</div>";i+="</div>";return i},renderTab:function(f,a,c){var d="";c=c||{};if(a.children){c.tabpaneID=f.id;if(a.layouttype==1){d=$KW.Grid.render(a,c)}else{for(var b=0;b<a.children.length;b++){var e=f[a.children[b]];c.topLevelBox=true;d+=$KW[e.wType].render(e,c);c.topLevelBox=false}}c.tabpaneID=""}return d},setTabsHeight:function(j){var e=document.querySelectorAll("#"+j+" div[kwidgettype='tabviewTabBody']");var b;if(e){for(var f=0;f<e.length;f++){var l=e[f];var h=l.getAttribute("id").split("_")[1];var k=l.getAttribute("ktabpaneid");var g=l.getAttribute("kformname");var a=kony.model.getWidgetModel(g,h,k);if(l.getAttribute("activebody")==="1"){b=$KU.returnEventReference(a.oninit);a.oninit&&b.call(a,a);if(a.oninit){delete a.oninit}}}}var d=document.querySelectorAll("#"+j+" div[kwidgettype='collapsibleTabBody']");if(d){for(var f=0;f<d.length;f++){var c=d[f];var h=c.parentNode.getAttribute("id").split("_")[1];var k=c.previousSibling.getAttribute("ktabpaneid");var g=c.previousSibling.getAttribute("kformname");var a=kony.model.getWidgetModel(g,h,k);if(c.previousSibling.getAttribute("active")==="1"){b=$KU.returnEventReference(a.oninit);a.oninit&&b.call(a,a);$KW.TabPane.expandTab(a,c)}else{$KW.TabPane.collapseTab(a,c)}if(c.previousSibling.getAttribute("active")==="1"){if(a.oninit){delete a.oninit}}}}},toggleDisable:function(f){var b=document.querySelectorAll("#"+f+" div[kwidgettype='TabPane']");for(var e=0;e<b.length;e++){var g=$KU.getModelByNode(b[e]);g.disabled!=undefined&&$KW.Widget.setenabled(g,(g.disabled==true?false:true));var d=g.children;if(d){for(var c=0;c<d.length;c++){var a=window[g.pf][g.id][d[c]];(a&&a.disabled!=undefined)&&$KW.Widget.setenabled(a,(a.disabled==true?false:true))}}}},collapseTab:function(a,b){b.style.height=b.scrollHeight+"px";var c=a.transDuration?parseInt(a.transDuration):$KW.TabPane.ANIMATION_DELAY;setTimeout(function(){b.style.overflow="hidden";b.style[vendor+"Transition"]="height "+c+"ms ease";b.style.height="0px"},1);setTimeout(function(){$KU.addClassName(b,"hide")},c)},expandTab:function(a,b){b.style.display="block";b.style.overflow="hidden";$KU.removeClassName(b,"hide");var c=a.transDuration?parseInt(a.transDuration):$KW.TabPane.ANIMATION_DELAY;b.style[vendor+"Transition"]="height "+c+"ms ease";b.style.height=b.scrollHeight+"px";setTimeout(function(){$KW.TabPane.setTabsHeightAuto(b)},c+100)},setTabsHeightAuto:function(a){a.style[vendor+"Transition"]="";a.style.height="auto"},addTab:function(f,a,d,b,c,e){f.addTab(a,d,b,c,e)},addChildTab:function(f,a){var b=$KU.getNodeByModel(f);var d=a.pf+"_"+a.id+"_Li";var e=$KU.getElementById(d);if(b&&!e){var c=f.children.length;this.addChildTabAt(f,a,c)}},removeTabAt:function(k,h,d){h=parseInt(h);if(h>=IndexJL&&!d){h=h-IndexJL}if(h>=0&&h<=k.children.length){var b=k[k.children[h]];if(b){_konyConstNS.ContainerWidget.prototype.remove.call(k,b)}if(k.viewtype=="tabview"||(k.toggletabs&&(k.toggletabs===true))){if(k.activetab==(h+IndexJL)){k.activetab=IndexJL;k.activetabs[IndexJL]=k.activetab;this.updateView(k,"activetab",k.activetab,k.activetab);return}if(k.activetab>(h+IndexJL)){k.activetab-=1;k.activetabs[IndexJL]=k.activetab}}else{var e=$KU.inArray(k.activetabs,parseInt(h)+IndexJL);if(e[0]){k.activetabs.splice(e[1],1)}if(k.activetabs.length==IndexJL){if(IndexJL){k.activetabs=[null,1]}else{k.activetabs=[0]}this.updateView(k,"activetabs",k.activetabs,k.activetabs);return}else{for(var f=IndexJL;f<k.activetabs.length;f++){var l=k.activetabs[f];if(l>h){k.activetabs[f]=l-1}}}}if(k.viewtype=="tabview"){var g=$KU.getNodeByModel(k);if(g){var j=$KU.getElementById(k.pf+"_"+k.id+"_Ul");if(j.children[h]){j.removeChild(j.children[h])}var c=$KU.getElementById(k.pf+"_"+k.id+"_Body");if(c.children[h]){c.removeChild(c.children[h])}}}else{var a=$KU.getElementById(b.pf+"_"+b.id+"_Tab");if(a){a.parentNode.removeChild(a)}}this.adjustTabIndex(k);$KW.TabPane.initializeView(k.pf)}},removeTabById:function(e,a){if(a&&a.id){a=a.id}if(e.viewtype=="tabview"){var d=$KU.getElementById(e.pf+"_"+a+"_Li");if(d){var b=d.getAttribute("index");$KW.TabPane.removeTabAt(e,b,true)}}else{var c=$KU.getElementById(e.pf+"_"+a+"_Header");if(c){var b=c.getAttribute("index");$KW.TabPane.removeTabAt(e,b,true)}}},addTabAt:function(f,b,e,c,d,a){f.addTabAt(b,e,c,d,a)},addChildTabAt:function(o,a,e){e=parseInt(e);var k=$KU.getNodeByModel(o);if(e<IndexJL){e=IndexJL}if(e>=o.children.length){e=o.children.length-1+IndexJL}if(o.viewtype=="tabview"){var t=a.pf+"_"+a.id+"_Li";var q=$KU.getElementById(t);if(k&&!q){var u=a.pf+"_"+a.id;var b="";var c=o.activeskin||"";var n=o.inactiveskin||"";var p=" ktabpaneid='"+o.id+"' kformname='"+o.pf+"'";var s=$KU.getElementById(o.pf+"_"+o.id+"_Ul");var g=$KU.getElementById(o.pf+"_"+o.id+"_Body");if(e<o.activetab){o.activetab+=1;o.activetabs[IndexJL]=o.activetab}else{if(e==o.activetab){if(s.childNodes.length>0){var j=s.childNodes[e];var f=s.childNodes[e].childNodes[0];var v=g.childNodes[e];$KU.removeClassName(j,o.activeskin+"li");$KU.addClassName(j,o.inactiveskin+"li");$KU.removeClassName(f,o.activeskin+"lia");$KU.addClassName(f,o.inactiveskin+"lia");$KU.removeClassName(v,"show");$KU.addClassName(v,"hide");v.setAttribute("activebody","0")}}}b=this.generateTabViewLi(o,a,e);var d=document.createElement("div");d.innerHTML=b;if(s.children[e-IndexJL]){s.insertBefore(d.children[0],s.children[e-IndexJL])}else{s.appendChild(d.children[0])}b=this.generateTabViewBody(o,a,e,o.context);d=document.createElement("div");d.innerHTML=b;if(g.children[e-IndexJL]){g.insertBefore(d.children[0],g.children[e-IndexJL])}else{g.appendChild(d.children[0])}}}else{if(o.viewtype==="collapsibleview"){var l=$KU.getElementById(a.pf+"_"+a.id+"_Tab");if(k&&!l){if(o.toggletabs===false){b=this.generateCollapsibleViewTab(o,a,e,o.context)}else{b=this.generateAccordionViewTab(o,a,e,o.context)}d=document.createElement("div");d.innerHTML=b;var h=$KU.getNodeByModel(o);if(h.children[e-IndexJL]){h.insertBefore(d.children[0],h.children[e-IndexJL])}else{h.appendChild(d.children[0])}if(o.toggletabs){l=$KU.getElementById(a.pf+"_"+a.id+"_Tab");this.collapseTab(a,l.children[1])}for(var m=IndexJL;m<o.activetabs.length;m++){var r=o.activetabs[m];if(r>=e){o.activetabs[m]=r+1}}o.activetab=o.activetabs[IndexJL]}}}this.adjustTabIndex(o);k&&$KW.Utils.initializeNewWidgets(a.ownchildrenref);$KW.TabPane.initializeView(o.pf)},adjustTabIndex:function(g){var a=$KU.getNodeByModel(g);if(a){if(g.viewtype=="tabview"){var b=$KU.getElementById(g.pf+"_"+g.id+"_Ul");for(var e=0;e<b.children.length;e++){var d=b.children[e];d.setAttribute("index",e);d.children[0].setAttribute("index",e)}}else{for(var c=0;c<a.children.length;c++){var f=a.children[c];f.children[0].setAttribute("index",c)}}}},eventHandler:function(x,D,a,s){var C=D.getAttribute("id");var h=D.getAttribute("ktabpaneid");var l=D.getAttribute("kformname");var n=C.split("_");var v=n[1];var f=kony.model.getWidgetModel(l,v,h);var c=f.transDuration?parseInt(f.transDuration):$KW.TabPane.ANIMATION_DELAY;var B=kony.model.getWidgetModel(l,h);var w=$KU.returnEventReference(f.oninit);var d=false;if(f.oninit){w.call(f,f)}var e=$KU.getElementById(n[0]+"_"+v+"_Body");var m=$KU.getElementById(n[0]+"_"+v+"_Header");var b=$KU.getElementById(n[0]+"_"+v+"_Img");var g=$KU.getElementById(n[0]+"_"+v+"_Li");if(B.viewtype==="collapsibleview"&&B.toggletabs===false){if(e.style.height==="auto"){$KW.TabPane.collapseTab(f,e);if(B.inactiveskin){setTimeout(function(){if(B.inactiveskin){m.className=B.inactiveskin}},c)}m.setAttribute("active","0");var p=m.getAttribute("index");var k=$KU.inArray(B.activetabs,parseInt(p)+IndexJL);if(k[0]){B.activetabs.splice(k[1],1)}if(B.expandedimage&&b){setTimeout(function(){b.src=$KU.getImageURL(B.expandedimage)},c)}}else{d=true;e.style.display="block";$KW.TabPane.expandTab(f,e);if(B.activeskin){m.className=B.activeskin}m.setAttribute("active","1");var p=m.getAttribute("index");var k=$KU.inArray(B.activeTabs,parseInt(p)+IndexJL);if(!k[0]){B.activetabs.push(parseInt(p)+IndexJL);if(IndexJL){$KI.table.sort(B.activetabs)}else{B.activetabs.sort()}}if(B.collapsedimage&&b){b.src=$KU.getImageURL(B.collapsedimage)}}}else{if(B.viewtype==="tabview"){for(var A=0;A<B.children.length;A++){var y=$KU.getElementById(n[0]+"_"+B.children[A]+"_Body");var q=$KU.getElementById(n[0]+"_"+B.children[A]+"_Li");var o=$KU.getElementById(n[0]+"_"+B.children[A]+"_A");if(B.children[A]===v){y.className="show "+((B[B.children[A]].skin)?B[B.children[A]].skin:"");if(B.activeskin){$KU.removeClassName(q,B.inactiveskin+"li");$KU.removeClassName(o,B.inactiveskin+"lia");$KU.addClassName(q,B.activeskin+"li");$KU.addClassName(o,B.activeskin+"lia");y.setAttribute("activebody","1")}B.activetab=A+IndexJL;B.activetabs[IndexJL]=B.activetab}else{y.className="hide "+((B[B.children[A]].skin)?B[B.children[A]].skin:"");y.setAttribute("activebody","0");$KU.removeClassName(q,B.activeskin+"li");$KU.removeClassName(o,B.activeskin+"lia");$KU.addClassName(q,B.inactiveskin+"li");$KU.addClassName(o,B.inactiveskin+"lia")}}}else{if(B.viewtype==="collapsibleview"&&B.toggletabs===true){var z=m.getAttribute("active");for(var A=0;A<B.children.length;A++){var r=$KU.getElementById(n[0]+"_"+B.children[A]+"_Body");var u=$KU.getElementById(n[0]+"_"+B.children[A]+"_Header");var t=$KU.getElementById(n[0]+"_"+B.children[A]+"_Img");if(B.children[A]===v){if(e.style.height==="0px"){d=true;$KW.TabPane.expandTab(f,e);if(B.activeskin){m.className=B.activeskin}m.setAttribute("active","1");if(B.collapsedimage&&b){b.src=$KU.getImageURL(B.collapsedimage)}if(B.activetab==0){B.activetab=A+IndexJL;B.activetabs[IndexJL]=B.activetab}}else{$KW.TabPane.collapseTab(f,e);if(B.inactiveskin){setTimeout(function(){m.className=B.inactiveskin;m.setAttribute("active","0")},c)}if(B.expandedimage&&b){setTimeout(function(){b.src=$KU.getImageURL(B.expandedimage)},c)}B.activetab=0;if(IndexJL){B.activetabs[IndexJL]=B.activetab}else{B.activetabs=[]}}if(B.activetab!=0){B.activetab=A+IndexJL;B.activetabs[IndexJL]=B.activetab}}else{if(r.style.height!=="0px"){r.style.display="block";$KW.TabPane.collapseTab(f,r);if(B.inactiveskin){u.className=B.inactiveskin}if(B.expandedimage&&b){t.src=$KU.getImageURL(B.expandedimage)}u.setAttribute("active","0")}}}}}}if(f.oninit){delete f.oninit}$KW.Utils.reinitializeWidgets(B);var j=$KU.returnEventReference(B.onclick||B.ontabclick);((s==true||typeof s=="undefined")&&(B.onclick||B.ontabclick))&&j.call(f,f,B.activetab,d);if($KW.Map&&$KW.Map.map&&google){$KW.Map.setMapsHeight(B.pf);google.maps.event.trigger($KW.Map.map,"resize")}},adjustActiveTabs:function(b){var a=new Array();if(IndexJL){a[0]=null}a[IndexJL]=b.activetabs[IndexJL];b.activetabs=a}};
$KW.Switch={initialize:function(){kony.events.addEvent("click","Switch",this.eventHandler);kony.events.addEvent("onorientationchange","Switch",this.adjustSwitchWidth)},initializeView:function(a){this.adjustSwitchWidth(a,true);this.adjustSwitchHeight(a)},updateView:function(e,c,b,a){var d=$KU.getNodeByModel(e);if(!d){return}switch(c){case"selectedindex":if($KU.isIOS7){this.adjustSwitch(e,d,"all 0.4s ease-in-out")}else{this.adjustSwitch(e,d,"all 0.125s ease-in-out")}break}},addA11YAttribute:function(a,b,c){if(!a.accessibilityConfig||c){if(a.leftsidetext&&a.selectedIndex===0){b.setAttribute("aria-label",a.leftsidetext)}else{if(a.rightsidetext){b.setAttribute("aria-label",a.rightsidetext)}}}},render:function(c,b){var e=$KW.skins.getWidgetSkinList(c,b);var a=$KW.skins.getMarginSkin(c,b)+" "+$KW.skins.getPaddingSkin(c);var k=c.leftsidetext||"ON";var d=c.rightsidetext||"OFF";var m="";if(c.accessibilityConfig==undefined){if(c.leftsidetext&&c.selectedIndex===0){m=" aria-label='"+c.leftsidetext+"' "}else{if(c.rightsidetext){m=" aria-label='"+c.rightsidetext+"' "}}}if($KU.isIOS7){k="";d=""}c.selectedindex=c.selectedindex||IndexJL+1;if(kony.appinit.isIE9||kony.appinit.isIE8){var h="<div"+$KW.Utils.getBaseHtml(c,b)+"class='ktable kwt100 switch "+e+"' style='"+a+";position:relative'><div class='krow kwt100 switchRow'><div class='kcell kwt50 "+(c.skin?(c.skin+"on"):"on")+"' id='"+c.id+"_on'>"+k+"</div><div class='switchThumb thumb kwt50' id='"+c.id+"_thumb' style='left:"+(["40%","0%"][c.selectedindex])+"''></div><div class='kcell kwt50 "+(c.skin?(c.skin+"off"):"off")+"' id='"+c.id+"_off'>"+d+"</div></div></div>"}else{if($KU.isIOS7){var g=["","background       : #4FD065","background-image : none","height   : 31px;","padding  : 0","position : relative","width    : 51px","-webkit-border-radius: 15.5px;",""].join(";");var i=["","border     : 0","background : #FFF","height     : 28px","position   : relative","width      : 28px","top        : 1.5px","z-index    : 3","-webkit-border-radius:14px","-webkit-box-shadow:1px 1px 3px 0 rgba(0,0,0,0.3)",""].join(";");var j=["","display:none",""].join(";");var l=["","display:none",""].join(";");var f=["","background       : #FFF","background-image : none","border   : 1px solid #ccc","height   : 31px","left     : 0","margin   : 0","padding  : 0","position : absolute","top      : 0","width    : 51px","z-index  : 2","-webkit-border-radius:15.5px",""].join(";");var h="<div role='option' aria-selected='"+["true","false"][c.selectedIndex]+"' "+m+$KW.Utils.getBaseHtml(c,b)+"class='switch "+e+"' style='"+a+g+"'><div class='"+(c.skin?(c.skin+"on"):"on")+"' id='"+c.id+"_on' style='"+j+"'>"+k+"</div><div class='thumb' id='"+c.id+"_thumb' style='"+i+"'><span style='"+l+"'></span></div><div class=' "+(c.skin?(c.skin+"off"):"off")+"' id='"+c.id+"_off' style='"+f+"'>"+d+"</div></div>"}else{var h="<div role='option' aria-selected='"+["true","false"][c.selectedIndex]+"' "+m+$KW.Utils.getBaseHtml(c,b)+"class='switch "+e+"' style='"+a+"'><div aria-hidden='true' class='"+(c.skin?(c.skin+"on"):"on")+"' id='"+c.id+"_on'>"+k+"</div><div aria-hidden='true' class='thumb' id='"+c.id+"_thumb'> <span></span></div><div aria-hidden='true' class=' "+(c.skin?(c.skin+"off"):"off")+"' id='"+c.id+"_off'>"+d+"</div></div>"}}return h},adjustSwitchWidth:function(e,d){var c=document.querySelectorAll("#"+e+" div[kwidgettype='Switch'], div[class~='popupmain'] div[kwidgettype='Switch']");for(var b=0;b<c.length;b++){var a=$KU.getModelByNode(c[b]);$KW.Switch.adjustWidth(a,c[b],d)}},adjustWidth:function(b,d,e){if(!(kony.appinit.isIE9||kony.appinit.isIE8)){if($KU.isIOS7){var c=Math.ceil(d.offsetWidth*(parseInt(d.style.paddingLeft)*0.01));var g=Math.ceil(d.offsetWidth*(parseInt(d.style.paddingRight)*0.01));b.width=Math.floor(d.clientWidth);b.swidth=b.width+(d.clientWidth%2)+6;if(e==true){kony.events.addEventListener(d,"touchstart",function(h){return function(i){kony.events.preventDefault(i);$KW.Switch.toggleSwitch(h)}}(b))}$KW.Switch.adjustSwitch(b,d,"none")}else{d.children[0].style.marginRight="-6px";d.children[2].style.marginLeft="-6px";var c=Math.ceil(d.offsetWidth*(parseInt(d.style.paddingLeft)*0.01));var g=Math.ceil(d.offsetWidth*(parseInt(d.style.paddingRight)*0.01));b.width=(Math.floor((d.clientWidth)-(c+g))/2);b.swidth=b.width+(d.clientWidth%2)+6;d.children[0].style.width=(b.swidth-1)+"px";d.children[2].style.width=b.swidth+"px";d.children[1].childNodes[1].style.width=b.width+"px";if(e==true){if(typeof cvox!=="undefined"){kony.events.addEventListener(d,"click",function(h){return function(i){kony.events.preventDefault(i);$KW.Switch.toggleSwitch(h)}}(b))}else{kony.events.addEventListener(d,"touchstart",function(h){return function(i){kony.events.preventDefault(i);$KW.Switch.toggleSwitch(h)}}(b))}}$KW.Switch.adjustSwitch(b,d,"none")}}else{b.isParse=false;if(parseInt(d.style.paddingLeft)>0){b.isParse=true;var f=0;var a=0;if(!b.paddingInPixel){f=Math.ceil(d.offsetWidth*(parseInt(d.style.paddingLeft)*0.01));a=Math.ceil(d.offsetWidth*(parseInt(d.style.paddingRight)*0.01))}d=d.firstChild;d.children[1].style.left=d.offsetLeft;b.leftValue=d.offsetLeft}if(!b.isParse){d=d.firstChild}d.children[1].style.width=d.children[0].offsetWidth}},toggleSwitch:function(c){var e=$KU.getNodeByModel(c);var f=e.getAttribute("kdisabled");if(e&&f!="true"){this.applyTrans(e,$KU.isIOS7&&"all 0.4s ease-in-out"||"all 0.125s ease-in-out");if(c.selectedindex==IndexJL){c.selectedindex=IndexJL+1;if(kony.appinit.isIE9||kony.appinit.isIE8){c.widthVal=[0,50][c.selectedindex];if(parseInt(e.style.paddingLeft)>0){var d=e.firstChild;c.widthVal=d.offsetLeft;c.orgwidthVal=parseInt(d.children[1].style.left);c.orgwidthVal=(c.orgwidthVal)-(c.orgwidthVal%10);c.orgwidthVal=c.orgwidthVal-c.widthVal;c.orgwidthVal1=c.orgwidthVal}$KI.timer.schedule(c.id,this.toogleSwitchIE(c,c.selectedindex),0.05,true)}else{var b=0;if(!c.paddingInPixel){b=Math.ceil(e.offsetWidth*(parseInt(e.style.paddingLeft)*0.02))}if($KU.isIOS7){e.children[1].style[vendor+"Transform"]=translateOpen+21.5+"px,0"+translateClose;e.children[2].style[vendor+"Transform"]="scale(0.01)"}else{e.children[0].style[vendor+"Transform"]=translateOpen+(-(c.width+b+8))+"px,0"+translateClose;e.children[1].style[vendor+"Transform"]=translateOpen+(-c.width)+"px,0"+translateClose;e.children[2].style[vendor+"Transform"]=translateOpen+(-c.width)+"px,0"+translateClose}}}else{c.selectedindex=IndexJL;if(kony.appinit.isIE9||kony.appinit.isIE8){if(parseInt(e.style.paddingRight)>0){var d=e.firstChild;c.orgwidthVal=d?d.offsetLeft+d.firstChild.offsetWidth:[0,50][c.selectedindex];c.orgwidthVal=(c.orgwidthVal)-(c.orgwidthVal%10)}c.widthVal=[0,50][c.selectedindex];$KI.timer.schedule(c.id,this.toogleSwitchIE(c,c.selectedindex),0.05,true)}else{var g=0;if(!c.paddingInPixel){g=Math.ceil(e.offsetWidth*(parseInt(e.style.paddingRight)*0.01))}e.children[0].style[vendor+"Transform"]=translateOpen+"0,0"+translateClose;if($KU.isIOS7){e.children[1].style[vendor+"Transform"]=translateOpen+1.5+"px,0"+translateClose;e.children[2].style[vendor+"Transform"]="scale(1)"}else{e.children[1].style[vendor+"Transform"]=translateOpen+"0,0"+translateClose;e.children[2].style[vendor+"Transform"]=translateOpen+g+"px,0"+translateClose}}}var a=$KU.returnEventReference(c.onslide||c.onslidercallback);e.setAttribute("aria-selected",[true,false][c.selectedIndex]);$KW.Switch.addA11YAttribute(c,e,true);a&&a.call(c,c)}},toogleSwitchIE:function(a,b){return function(){var c=false;var d=$KU.getNodeByModel(a);d=d.firstChild;if(b){if(a.orgwidthVal){a.orgwidthVal1-=Math.floor(a.orgwidthVal/5);d.children[1].style.left=a.orgwidthVal1+a.widthVal+"px";if(a.orgwidthVal1>=0||a.orgwidthVal1<=5){c=true;d.children[1].style.left=a.widthVal+"px";a.orgwidthVal=null;a.orgwidthVal1=null}}else{a.widthVal-=10;d.children[1].style.left=a.widthVal+"%";if(a.widthVal==0){c=true}}}else{if(a.orgwidthVal){a.widthVal+=a.orgwidthVal/5;d.children[1].style.left=a.widthVal+"px";if(a.widthVal==a.orgwidthVal){c=true;a.orgwidthVal=null;a.orgwidthVal1=null}}else{a.widthVal+=10;d.children[1].style.left=a.widthVal+"%";if(a.widthVal==50){c=true}}}if(c){$KI.timer.cancel(a.id)}}},adjustSwitch:function(b,d,c){if(kony.appinit.isIE9||kony.appinit.isIE8){d=d.firstChild}this.applyTrans(d,c);if(b.selectedindex==IndexJL){d.children[0].style[vendor+"Transform"]=translateOpen+"0,0"+translateClose;$KU.isIOS7&&(d.children[1].style[vendor+"Transform"]=translateOpen+"1.5px,0"+translateClose)||(d.children[1].style[vendor+"Transform"]=translateOpen+"0,0"+translateClose);$KU.isIOS7&&(d.children[2].style[vendor+"Transform"]="scale(1)")||(d.children[2].style[vendor+"Transform"]=translateOpen+"7px,0"+translateClose)}else{if(!b.paddingInPixel){var a=Math.ceil(d.offsetWidth*(parseInt(d.style.paddingLeft)*0.02))}d.children[0].style[vendor+"Transform"]=translateOpen+(-(b.width+a+6))+"px,0"+translateClose;$KU.isIOS7&&(d.children[1].style[vendor+"Transform"]=translateOpen+21.5+"px,0"+translateClose)||(d.children[1].style[vendor+"Transform"]=translateOpen+(-b.width)+"px,0"+translateClose);$KU.isIOS7&&(d.children[2].style[vendor+"Transform"]="scale(0.01)")||(d.children[2].style[vendor+"Transform"]=translateOpen+(-b.width)+"px,0"+translateClose)}},applyTrans:function(b,a){if(!(kony.appinit.isIE9||kony.appinit.isIE8)){b.children[1].style[vendor+"Transition"]=a;b.children[0].style[vendor+"Transition"]=a;b.children[2].style[vendor+"Transition"]=a}},eventHandler:function(b,c){var a=$KU.getModelByNode(c);$KW.Switch.toggleSwitch(a)},adjustThumbHeight:function(b,a){if(kony.appinit.isIE9||kony.appinit.isIE8){b=b.firstChild}a.target.naturalHeight=a.target.naturalHeight||a.target.height;b.children[0].style.height=b.children[2].style.height=(a.target.naturalHeight+"px");b.children[1].childNodes[1].style.height=((a.target.naturalHeight-2)+"px")},adjustSwitchHeight:function(d){var c=document.querySelectorAll("#"+d+" div[kwidgettype='Switch']");for(var b=0;b<c.length;b++){var a=$KU.getModelByNode(c[b]);$KW.Switch.adjustHeight(a,c[b])}},adjustHeight:function(b,c){if(!(kony.appinit.isIE9||kony.appinit.isIE8)){if($KU.isIOS7){return}c.children[0].style.minHeight="27px";c.children[2].style.minHeight="27px"}if(c.style.padding&&(kony.appinit.isIE9||kony.appinit.isIE8)){var d=c.firstChild;var e=d.offsetTop;d.children[1].style.top=(e)+"px"}if(b.skin){var a=$KU.getCSSPropertyFromRule((b.skin+"on"),"background-image")}if(a){var f=a.replace(/url\(([^\)]*)\)/,"$1");$KU.imagePreloader(f,function(g){return function(h){kony.events.preventDefault(h);$KW.Switch.adjustThumbHeight(g,h)}}(c))}}};
$KW.Popup={updateView:function(f,d,c,a){switch(d){case"ismodal":case"transparencybehindthepopup":var e=1-(f.transparencybehindthepopup/100);var b=document.getElementById("__popuplayer");var g=document.getElementById(f.id+"_container");if(b){if(kony.appinit.isIE7||kony.appinit.isIE8){b.style.filter="alpha(opacity="+(e*100)+")"}else{b.style.opacity=e}}if(d=="ismodal"&&g){$KW.Popup.modalPopupWorker(f,g)}break}},render:function(d){if($KG.localization){$KI.i18n.translateFormModel(d)}var a=d.id;if(d.enableScroll){$KW.Form.checkBackwardCompatibility(d);$KW.Form.render(d);var a=$KG.transitAll?(a+"_container"):($KG.needScroller?a+"_scroller":a);$KW.Scroller.initializeFormScroller(a);return}var n=1-(d.transparencybehindthepopup/100);var q=(d.ismodal&&d.popupbgcolor)?"background-color:"+d.popupbgcolor:"";var j=$KW.skins.getMarPadAdjustedContainerWeightSkin(d)+" "+(d.skin||"");var o="";o="<div id='__popuplayer' style='opacity:"+n+";"+q+"'"+(!d.ismodal&&!(d.ptran||d.ptranOut)&&d.context?"":" class='popuplayer absoluteContainer'")+"></div>";o+="<form id='"+a+"' class='"+j+"' style='z-index:9;position: absolute;"+$KW.skins.getPaddingSkin(d)+(!d.skin?"background-color:white":"")+"'>";if(d.children){for(var k=0;k<d.children.length;k++){o+=$KW.Form.generateWidget(d,d[d.children[k]])}}o+="</form>";var b=document.createElement("div");b.id=a+"_container";b.className="popupmain popupcontainer absoluteContainer";b.style.visibility="hidden";b.innerHTML=o;$KW.Popup.zIndex=$KW.Popup.zIndex||10;b.style.zIndex=++$KW.Popup.zIndex;$KW.Popup.modalPopupWorker(d,b);var f=$KU.getElementById("__MainContainer");if(!f){var h=$KG.stickyScroll?"main_container":"";o="<div id='__MainContainer' class='"+h+"'></div>";document.body.innerHTML=o;f=$KU.getElementById("__MainContainer")}f.appendChild(b);if($KG.relativeScroll){if(!d.context){b.__scrollTop=document.body.scrollTop;setTimeout(function(){window.scrollTo(0,1)},1);if(n==1){var l=document.getElementById("header_container");var p=document.getElementById("footer_container");var g=document.getElementById("appmenu_container");var c=document.getElementById($KG.__currentForm.id);l&&(l.style.display="none");p&&(p.style.display="none");g&&(g.style.display="none");c&&(c.style.display="none")}}var e=document.getElementById("__MainContainer").clientHeight;var m=b.children[0];if(e<(window.innerHeight||document.body.clientHeight)){if(n==1&&!d.context){b.style.height=(window.innerHeight||document.body.clientHeight)+"px"}if(d.ismodal){m.style.height=(window.innerHeight||document.body.clientHeight)+"px"}}else{if(n==1&&!d.context){b.style.height=e+"px"}if(d.ismodal){m.style.height=e+"px"}}}b.setAttribute("dummy","");b.children[0].setAttribute("dummy","");b.children[1].setAttribute("dummy","")},modalPopupWorker:function(b,a){if(b.ismodal==false||($KU.isWindowsPhone&&$KU.isIE9)){a.onclick=function(c){c=c||window.event;var d=c.target||c.srcElement;if(d.id=="__popuplayer"){if(!b.ismodal){$KW.Popup.dismiss(b,true)}kony.events.stopPropagation(c);kony.events.preventDefault(c)}}}else{a.onclick=null}},show:function(d){$KW.Calendar&&$KW.Calendar.__dp.destroyCalendar();!kony.system.activity.hasActivity()&&$KW.Utils.removeBlockUISkin();var a=$KU.getElementById(d.id+"_container");if(a){this.dismiss(d)}var f=parseInt(d.containerheight,10);if(d.header||d.footer){if(!f){d.containerheight="80"}}if(d.containerheight&&!$KU.isBlackBerryNTH){d.enableScroll=true}else{d.enableScroll=false}this.render(d);var g=$KU.getElementById(d.id+"_container");if($KU.getPlatformName()=="androidtablet"){g.style[vendor+"Transform"]="translate3d(0,0,0)"}var b=d.context;if(b&&b.widget&&b.isenabled&&!d.enableScroll){var e=b.widget;var c=$KU.getNodeByModel(e);if(c&&$KU.getPosition(c).top==0){g.style.top=c.offsetHeight+"px"}}$KW.TPW.renderWidget(d.id);a=g.children[1];if(!$KG.disableTransition||$KU.isBlackBerryNTH){$KW.Form.initializeTouchWidgets(d.id)}else{a.parentNode.style.visibility="visible";$KW.Form.initializeView(d.id)}if(!d.context&&!d.enableScroll){if($KU.isWindowsPhone&&$KU.isIE9){a.style.left=Math.floor((100-Math.floor((a.offsetWidth*100)/a.parentNode.offsetWidth))/2)+"%";g.style.top=0;window.scrollTo(0,1)}else{this.adjustPosition(d,a)}}if((!$KG.disableTransition||$KU.isBlackBerryNTH)){this.applyTransition(d,a)}$KW.Form.accessibilityTitleCall(d,true)},adjustPosition:function(c,a){var b=c.ismodal?a:a.parentNode;var e=Math.floor((100-Math.floor((a.offsetHeight*100)/(window.innerHeight||document.body.clientHeight)))/2)+"%";var d=Math.floor((100-Math.floor((a.offsetWidth*100)/(window.innerWidth||document.body.clientWidth)))/2)+"%";if(parseInt(e,10)<0){b.style.top=0}else{b.style.top=e}b.style.left=d},dismiss:function(d,b){var a=d?$KU.getElementById(d.id+"_container"):document.querySelector("div[class~='popupmain']");if(a){var c=a.children[1];if(!d){d=window[c.id]}if(b){$KW.Popup.domremove(c.id)}else{if((d.ptranOut&&d.ptranOut.toLowerCase()!="none")&&(!$KG.disableTransition||$KU.isBlackBerryNTH)){this.applyTransition(d,c,true)}else{$KW.Popup.domremove(c.id)}}var e=$KU.returnEventReference(d.onhide||d.onHide);e&&e.call(d,d)}},domremove:function(b){var h=$KU.getElementById(b);if(h){b=b.split("_")[0];var c=$KG.allforms[b];if(c.enableScroll){$KW.Form.destroyTouchWidgets($KG.transitAll?(c.id+"_container"):($KG.needScroller?c.id+"_scroller":c.id));h=$KU.getElementById(b+"_group")}$KW.Form.destroyTouchWidgets(c.id,true);var i=h.parentNode;var g=i.children[0].style.opacity;i.parentNode.removeChild(i);if($KG.relativeScroll&&!c.context){if(g==1){var f=document.getElementById("header_container");var j=document.getElementById("footer_container");var e=document.getElementById("appmenu_container");var a=document.getElementById($KG.__currentForm.id);f&&(f.style.display="");j&&(j.style.display="");e&&(e.style.display="");a&&(a.style.display="")}var d=i.__scrollTop;d&&setTimeout(function(k){return function(){window.scrollTo(0,k)}}(d),1);delete i.__scrollTop}}},applyTransition:function(e,h,l){var d=(e.transitionduration&&e.transitionduration>=0)?e.transitionduration:1;if(l&&!e.ismodal){h.parentNode.style.height=""}var g=h.offsetHeight;var j=h.offsetWidth;var k=!l?(e.ptran):(e.ptranOut);e.height=Math.floor(g+(Math.abs(h.parentNode.offsetHeight-g)/2));e.width=Math.floor(j+((h.parentNode.offsetWidth-j)/2));if(k=="rightCenter"){e.width=h.parentNode.offsetWidth+j}if(k=="bottomCenter"){e.height=h.parentNode.offsetHeight+g}var i=($KU.isOrientationSupported&&!$KU.isAndroid)?"onorientationchange":"onresize";kony.events.addEvent(i,"popup",$KW.Popup.adjustPopupDimensions.bind(null,e,h));h.style[vendor+"AnimationDuration"]=d+"s";this.setAnchorPosition(e,h,l);var m=$KW.Utils.getKonyStyleSheetIndex(document.styleSheets);var f=document.styleSheets[m];if(k){var b="AnimationEnd";if(kony.appinit.isFirefox||$KU.isIE10||$KU.isIE11){b=b.toLowerCase()}else{b=vendor+b}kony.events.addEventListener(h,b,$KW.Popup.animationEnd(e.id,!!l))}else{if(!e.ismodal){h.parentNode.style.height="auto"}}switch(k){case"topCenter":case"bottomCenter":var a=(k=="topCenter")?("-"+e.height):e.height;if(l){f.insertRule("@-"+vendor+"-keyframes "+e.id+"endanimation { from { -"+vendor+"-transform: translateY(0px); } to {-"+vendor+"-transform: translateY( "+a+"px);} }",f.cssRules.length);h.style[vendor+"AnimationName"]=e.id+"endanimation"}else{f.insertRule("@-"+vendor+"-keyframes "+e.id+"animation { from { -"+vendor+"-transform: translateY( "+a+"px); } to {-"+vendor+"-transform: translateY(0px);} }",f.cssRules.length);h.style[vendor+"AnimationName"]=e.id+"animation"}break;case"leftCenter":case"rightCenter":var c=(k=="leftCenter")?("-"+e.width):e.width;if(l){f.insertRule("@-"+vendor+"-keyframes "+e.id+"endanimation { from { -"+vendor+"-transform: translateX( 0px); } to {-"+vendor+"-transform: translateX("+c+"px);} }",f.cssRules.length);h.style[vendor+"AnimationName"]=e.id+"endanimation"}else{f.insertRule("@-"+vendor+"-keyframes "+e.id+"animation { from { -"+vendor+"-transform: translateX( "+c+"px); } to {-"+vendor+"-transform: translateX(0px);} }",f.cssRules.length);h.style[vendor+"AnimationName"]=e.id+"animation"}break;case"fadeAnimation":if(l){h.style[vendor+"AnimationName"]=$KW.formEndTransitionsMatrix[k]}else{h.style[vendor+"AnimationName"]=$KW.formTransitionsMatrix[k]}break;case"slidedown":if(l){f.insertRule("@-"+vendor+"-keyframes "+e.id+"endanimation { from {height:"+g+"px;} to {height:0px;} }",f.cssRules.length);h.style[vendor+"AnimationName"]=e.id+"endanimation"}else{h.style.overflow="hidden";f.insertRule("@-"+vendor+"-keyframes "+e.id+"animation { from {height:0px;} to {height:"+g+"px;} }",f.cssRules.length);h.style[vendor+"AnimationName"]=e.id+"animation"}break}h.parentNode.style.visibility="visible"},setAnchorPosition:function(g,i,n){var c=g.context;if(c&&c.widget){if(g.enableScroll&&!g.ismodal){i=i.parentNode}var f=c.widget;var d;if(f.wType=="Form"){d=document.getElementById(f.id)}else{d=$KU.getNodeByModel(f)}if(d){var h=i.offsetHeight;var m=i.offsetWidth;var l=!n?(g.ptran):(g.ptranOut);var k=$KU.getPosition(d);var e=k.top;var a;var b=$KU.getAnchorPosition(g,i);if(c.anchor=="bottom"){i.style.left=b.leftPos+"px";a=e+d.clientHeight;if(c.isenabled==true&&e==0){i.style.top=0;g.height=(l=="bottomCenter")?(h+(window.innerHeight||document.body.clientHeight)-a):(h+a)}else{if((window.innerHeight||document.body.clientHeight)==a){i.style.bottom="0px";g.height=(l=="bottomCenter")?h:(h+a)}else{if((window.innerHeight||document.body.clientHeight)-a>h){i.style.top=a+"px";g.height=(l=="bottomCenter")?(h+(window.innerHeight||document.body.clientHeight)-a):(h+a)}else{if(e>h){i.style.top=(e-h)+"px";g.height=(l=="bottomCenter")?(h+(window.innerHeight||document.body.clientHeight)-e):(h+e)}else{if($KG.relativeScroll){i.style.top=a+"px";g.height=(l=="bottomCenter")?(h+(window.innerHeight||document.body.clientHeight)-a):(h+a)}else{i.style.top=Math.floor((100-Math.floor((h*100)/i.parentNode.offsetHeight))/2)+"%";i.style.left=Math.floor((100-Math.floor((m*100)/i.parentNode.offsetWidth))/2)+"%"}}}}}}if(c.anchor=="top"){i.style.left=b.leftPos+"px";if(!e){i.style.top=0}else{if(e>h){i.style.top=(e-h)+"px";g.height=(l=="bottomCenter")?(h+(window.innerHeight||document.body.clientHeight)-e):(h+e)}else{i.style.top=Math.floor((100-Math.floor((h*100)/i.parentNode.offsetHeight))/2)+"%";i.style.left=Math.floor((100-Math.floor((m*100)/i.parentNode.offsetWidth))/2)+"%"}}}if(c.anchor=="left"||c.anchor=="right"){i.style.top=b.topPos+"px";i.style.left=b.leftPos+"px"}i.style.position="absolute";if(g.enableScroll){i.style.marginTop=0}}}if(!g.ismodal){var j=$KU.getElementById(g.id+"_container");if(j){j.style.height="auto"}}},adjustPopupDimensions:function(f,h){if(!document.getElementById(h.id)){return}if(h.id.split("_")[1]=="group"){var i=parseInt(f.containerheight,10);var c=$KW.skins.getMarPadAdjustedContainerWeightSkin(f).substr(3);var a="";if(c!=100){var e=(window.innerWidth||document.body.clientWidth)*c/(2*100);a+="left:50%;margin-left:-"+e+"px;width:"+c+"% !important;"}if(i!=100){var b=(window.innerHeight||document.body.clientHeight)*i/(2*100);a+="top:50%;margin-top:-"+b+"px;height:"+i+"% !important;"}a+="visibility:visible;";if(f.ismodal){h.style.cssText=a}else{h.parentNode.style.cssText=a}}else{if(!f.context){$KW.Popup.adjustPosition(f,h)}}$KW.Popup.setAnchorPosition(f,h);if($KG.relativeScroll&&f.ismodal){var g=h.previousSibling;var d=document.getElementById("__MainContainer").clientHeight;if(d<(window.innerHeight||document.body.clientHeight)){g.style.height=(window.innerHeight||document.body.clientHeight)+"px"}else{g.style.height=d+"px"}}},animationEnd:function(b,a){return function(){var i="AnimationEnd";if(kony.appinit.isFirefox||$KU.isIE10||$KU.isIE11){i=i.toLowerCase()}else{i=vendor+i}kony.events.removeEventListener(e,i,arguments.callee);var e=$KU.getElementById(b);var g=$KG.allforms[b];if(e){if(a){$KW.Popup.domremove(b)}else{if(!g.ismodal){e.parentNode.style.height="auto"}}}e.style[vendor+"AnimationName"]="";var h=a?b+"endanimation":b+"animation";var d=$KW.Utils.getKonyStyleSheetIndex(document.styleSheets);var c=document.styleSheets[d];var f=c.cssRules.length-1;if(c.cssRules[f]&&c.cssRules[f].name==h){if(c.deleteRule){c.deleteRule(f)}else{c.removeRule(f)}}}},setcontext:function(b,a){if(b instanceof Object&&a instanceof Object){b.context=a}},add:function(){var a=arguments[0];if("add" in a){var b=[].slice.call(arguments,1);a.add(b)}},addAt:function(c,b,a){if(b==null){return}c.addAt&&c.addAt(b,a)},widgets:function(a){if(a.widgets){return a.widgets()}},remove:function(b,a){b.remove&&b.remove(a)},removeAt:function(b,a){b.removeAt&&b.removeAt(a)},scrollToBeginning:function(a){if(!a){return}var c=$KG[a.id+"_scroller"];var b=($KU.isWindowsPhone&&$KU.isIE9)?0:1;c?c.scrollTo(0,c.minScrollY,500):$KW.Utils.scrollToElement(document.getElementById(a.id)||null,500,null,b)},scrollToEnd:function(b){if(!b){return}var c=$KG[b.id+"_scroller"];if(c){c.scrollTo(0,c.maxScrollY,500)}else{var a=document.body.scrollHeight-(!($KU.isWindowsPhone&&$KU.isIE9)?(window.innerHeight||document.body.clientHeight):0);$KW.Utils.scrollToElement(document.getElementById(b.id)||null,500,null,a)}},scrollToWidget:function(b,a){$KW.Widget.setfocus(a,b)},handleshow:function(a){if("show" in a){a.show()}},destroy:function(a){if("destroy" in a){a.destroy(a)}},dismissPopup:function(a){if(!a||window[a].wType!="Popup"){var b=document.querySelector("div.popupcontainer");if(b){var c=b.id.split("_")[0];if(window[c]&&window[c].wType=="Popup"){if(!window[c].ismodal){$KW.Popup.dismiss(null,true);return true}}}}return false}};
$KW.RichText={initialize:function(){kony.events.addEvent("click","RichText",this.eventHandler)},updateView:function(e,c,b,a){var d=$KU.getNodeByModel(e);if(!d){return}switch(c){case"text":d.innerHTML=b;break;case"linkskin":this.setLinkSkin(e);break;case"linkfocusskin":this.setLinkFocusSkin(e);break}},render:function(a,b){if($KU.isAndroid){this.setLinkSkin(a);this.setLinkFocusSkin(a)}var c=$KW.skins.getWidgetSkinList(a,b);var d="<div"+$KW.Utils.getBaseHtml(a,b)+"class='"+c+"' style='"+$KW.skins.getMarginSkin(a,b)+$KW.skins.getPaddingSkin(a);if(b.ispercent===false){d+="display:inline-block;"+(b.layoutDir?("float:"+b.layoutDir):"")}d+=";text-align:"+$KW.skins.getContentAlignment(a)+"'>"+a.text+"</div>";if($KW.Utils.isWidgetDisabled(a,b)){d=d.replace(/href=["'].*?["']/g,"href='javascript:void(0)'")}return d},eventHandler:function(b,f,d){var c=$KU.getModelByNode(f),a=f.getAttribute("kcontainerID");if(a){$KW.Utils.updateContainerData(c,f,true)}else{if(c.onclick){var e=$KU.returnEventReference(c.onclick);if(d){e&&e.call(c,c,d[0],{href:d[1]})}else{e&&e.call(c,c)}}}},setLinkSkin:function(c){var b=c.linkskin;if(!b){return}var d=c.pf+"_"+c.id;var a="#"+d+" > a";$KW.Utils.applyStyle(b,a)},setLinkFocusSkin:function(b){var c=b.linkfocusskin;if(!c){return}var d=b.pf+"_"+b.id;var a="#"+d+" > a:active";$KW.Utils.applyStyle(c,a)}};
$KW.HBox={initialize:function(){kony.events.addEvent("click","HBox",this.eventHandler);kony.events.addEvent("onorientationchange","HBox",this.orientationHandler)},orientationHandler:function(h,c){var g=document.querySelectorAll("div[aspect-ratio]");for(var d=0;d<g.length;d++){var f=g[d];var a=f.getAttribute("aspect-ratio");var e=f.clientWidth;var b=Math.round(1/a*e);f.style.height=b+"px"}},updateView:function(d,c,b,a){},getExtraNodeWidth:function(b){var c=0;for(var a=0;a<b.children.length;a++){c+=b[b.children[a]].containerweight}return(100-c)},render:function(m,a){if(!m.buiskin){m.buiskin=m.blockeduiskin}var b=kony.model.getWidgetModel(m.pf,a.tabpaneID);var e=$KW.skins.getWidgetAlignmentSkin(m);var h=a.topLevelBox;var g=$KW.skins.getSplitSkinsBetweenWidgetAndParentDiv(m,a);var f=g[2];f+=" "+$KW.skins.getWidgetAlignmentSkin(m);var l="";if(!h){l+="<div class = 'krow kwt100' >";l+="<div class = 'kcell kwt100' >"}f+=!$KW.Utils.isWidgetVisible(m,a)?" hide":"";var j=" table-layout:fixed;"+$KW.skins.getMarginSkin(m,a)+$KW.skins.getPaddingSkin(m);l+="<div  class = 'ktable "+f+"'"+$KW.Utils.getBaseHtml(m,a)+" style='"+j+"'>";l+="<div class = 'krow "+e+" kwt100' >";if(m.children){for(var d=0;d<m.children.length;d++){var c=m[m.children[d]];a.vLine=(c.wType=="Line")?true:false;if(c.wType==="HBox"||c.wType==="VBox"){a.topLevelBox=false;a.ispercent=m.percent;if(c.wType=="HBox"){l+=$KW.HBox.render(c,a)}else{l+=$KW.VBox.render(c,a)}}else{if(m.percent===true){a.ispercent=true;var n;if(c.containerweight){n="kwt"+c.containerweight}else{n="auto"}var k=$KW.skins.getWidgetAlignmentSkin(c);l+="<div class = 'kcell "+n+" "+k+(c.wType=="TPW"?" konycustomcss":"")+"' style='"+$KW.skins.getChildMarginAsPaddingSkin(c)+"' >"}else{a.ispercent=false}l+=$KW[c.wType].render(c,a);if(m.percent===true){l+="</div>"}}}if($KG.appbehaviors.adherePercentageStrictly==true&&m.percent===true){m.dummyNodeWidth=this.getExtraNodeWidth(m);l+="<div class = 'kcell kwt"+m.dummyNodeWidth+"'  ></div>"}}l+="</div></div>";if(!h){l+="</div></div>"}return l},eventHandler:function(b,d){var c=$KU.getModelByNode(d),a=d.getAttribute("kcontainerID");c.blockeduiskin&&$KW.Utils.applyBlockUISkin(c);if(a){$KW.Utils.updateContainerData(c,d,true)}else{if(c.onclick){c.onclick(c)}else{kony.events.executeBoxEvent(c)}}},setProgressIndicator:function(b){var a=$KW.Utils.setProgressIndicator(b);b.parentNode.insertBefore(a,b)},addChild:function(b,d){var c=$KU.getNodeByModel(b);if(c&&d.length>0){var e=document.createElement("div");e.innerHTML=$KW.HBox.appendChildren(b,d);if(b.wType=="HBox"||b.orientation==constants.BOX_LAYOUT_HORIZONTAL){c=c.children[0]}while(e.children.length>0){c.appendChild(e.children[0])}if(kony.appinit.isIE&&b.wType=="ScrollBox"&&b.orientation==constants.BOX_LAYOUT_HORIZONTAL){$KW.ScrollBox.adjustScrollChildrenWidth(b)}$KW.Utils.initializeNewWidgets(d);if($KG.appbehaviors.adherePercentageStrictly==true&&b.orientation==constants.BOX_LAYOUT_HORIZONTAL){for(var a=0;a<d.length;a++){b.dummyNodeWidth-=d[a].containerweight}c.lastChild.className="kcell kwt"+b.dummyNodeWidth}}},addChildat:function(c,e,a){var d=$KU.getNodeByModel(c);if(d){var f=document.createElement("div");f.innerHTML=$KW.HBox.appendChildren(c,e);if(c.wType=="HBox"||c.orientation==constants.BOX_LAYOUT_HORIZONTAL){d=d.children[0]}a=a<0?0:a;if(kony.appinit.isIE&&!d.childNodes[a]){d.appendChild(f.childNodes[0])}else{d.insertBefore(f.childNodes[0],d.childNodes[a])}if(kony.appinit.isIE&&c.wType=="ScrollBox"&&c.orientation==constants.BOX_LAYOUT_HORIZONTAL){$KW.ScrollBox.adjustScrollChildrenWidth(c)}$KW.Utils.initializeNewWidgets(e);if($KG.appbehaviors.adherePercentageStrictly==true&&c.orientation==constants.BOX_LAYOUT_HORIZONTAL){for(var b=0;b<e.length;b++){c.dummyNodeWidth-=e[b].containerweight}d.lastChild.className="kcell kwt"+c.dummyNodeWidth}}},appendChildren:function(g,h){var f="";var a=new $KW.WidgetGenerationContext(g.pf);for(var d=0;d<h.length;d++){var c=h[d];if(c.wType==="HBox"||c.wType==="VBox"){a.toplevel=false;if(c.wType=="HBox"){f+=$KW.HBox.render(c,a)}else{f+=$KW.VBox.render(c,a)}}else{if(g.wType=="HBox"||g.orientation==constants.BOX_LAYOUT_HORIZONTAL){if(g.percent==true){a.ispercent=true;var j="kwt"+c.containerweight;var e=$KW.skins.getWidgetAlignmentSkin(c);f+="<div class = 'kcell "+j+" "+e+"' style='"+$KW.skins.getChildMarginAsPaddingSkin(c)+"' >"}else{a.ispercent=false}f+=$KW[c.wType].render(c,a);if(g.percent==true){f+="</div>"}}else{var b=" krow kwt100 ";f+="<div class = '"+b+"' >";layoutDirection=$KW.skins.getWidgetAlignmentSkin(c);b="kwt100";b+=" kcell "+layoutDirection;f+="<div class = '"+b+"' style='"+$KW.skins.getChildMarginAsPaddingSkin(c)+"' >";f+=$KW[c.wType].render(c,a);f+="</div></div>"}}}return f},add:function(){var a=arguments[0];if(a&&"add" in a){var b=[].slice.call(arguments,1);a.add(b)}},addAt:function(b,c,a){if(c==null){return}b&&b.addAt(c,a)},remove:function(a,b){a&&a.remove(b)},removeAt:function(b,a){return b&&b.removeAt(a)},widgets:function(a){return a&&a.widgets()},DOMremove:function(b,c){var d=$KU.getNodeByModel(b);if(d&&c){if(b.wType=="HBox"||(b.wType=="ScrollBox"&&b.orientation==constants.BOX_LAYOUT_HORIZONTAL)){d=d.children[0]}for(var a=0;a<b.children.length;a++){if(c.id==b.children[a]){d.removeChild(d.children[a]);break}}}},resetWidthScrollBox:function(f,d){var e=document.getElementById(f.pf+"_"+f.id+"_parent"),b=0,a=document.getElementById(f.pf+"_"+f.id+"_scrollee");for(var c=IndexJL;c<f.children.length;c++){if(d.id==f.children[c]){continue}if(window[f.pf][f.children[c]]){b+=window[f.pf][f.children[c]].containerWeight}}a.style.width=(e.offsetWidth*(b/100)<e.offsetWidth)?(e.offsetWidth+"px"):(e.offsetWidth*(b/100)+"px")}};
$KW.ScrollBox={initialize:function(){kony.events.addEvent("click","ScrollBox",this.eventHandler);kony.events.addEvent("onorientationchange","ScrollBox",this.adjustBoxDimensions)},initializeView:function(a){this.adjustBoxDimensions(a)},updateView:function(f,m,d,h){switch(m){case"heightreference":case"containerheightreference":if(d>0){f.containerheightreference=f.heightreference=d;var k=$KU.getNodeByModel(f);k&&$KW.ScrollBox.adjustDimensionsByNode(f,k)}break;case"container_height":case"containerheight":f.containerheight=f.container_height=d;var k=$KU.getNodeByModel(f);k&&$KW.ScrollBox.adjustDimensionsByNode(f,k);break;case"totalWt":var k=$KU.getNodeByModel(f);if(k&&f.orientation==constants.BOX_LAYOUT_HORIZONTAL){k.parentNode.style.width=d+"%";var c=$KG[f.pf+"_"+f.id+"_scroller"];c&&c.refresh()}break;case"showscrollbars":if(f.scrollArrowConfig||f.scrollarrowconfig){return}var g=f.pf+"_"+f.id+"_scroller";var c=$KG[g];if(!c){return}if(c.hScroll){c.hScrollbar=d;!!d&&c._scrollbar("h")}if(c.vScroll){c.vScrollbar=d;!!d&&c._scrollbar("v")}break;case"scrollingevents":break;case"onpull":case"onpush":var l=f.pf+"_"+f.id+"_scrollee";var e=f.pf+"_"+f.id+"_scroller";var n=$KU.getElementById(l);if(!n){return}var a=document.createElement("div");if(m=="onpull"){var b=document.querySelector("#"+e+" #pullDown");if(b){return}a.innerHTML=$KU.getPullString();n.insertAdjacentElement("afterBegin",a.childNodes[0])}else{var j=document.querySelector("#"+e+" #pullUp");if(j){return}a.innerHTML=$KU.getPushString();n.insertAdjacentElement("afterEnd",a.childNodes[0])}case"onreachingbeginning":case"onreachingend":var e=f.pf+"_"+f.id+"_scroller";var i=document.getElementById(e);if(!i){return}var c=$KG[e];c&&c.destroy();$KW.Scroller.initialize([i]);break}},render:function(b,a){var c="";a.scrollBoxID=b.id;if(IndexJL){this.setarrowconfigs(b)}if($KU.isBlackBerryNTH||$KU.isWindowsPhone){b.scrollbar="arrows";if(b.orientation==constants.BOX_LAYOUT_HORIZONTAL){b.leftarrowimage=b.leftarrowimage||"prvarw.png";b.rightarrowimage=b.rightarrowimage||"nxtarw.png"}else{b.toparrowimage=b.toparrowimage||"toparw.png";b.bottomarrowimage=b.bottomarrowimage||"botarw.png"}}var d=$KU.getAccessibilityValues(b);if(d.indexOf("aria-hidden")>0){d=""}if(b.orientation==constants.BOX_LAYOUT_HORIZONTAL){c=$KW.ScrollBox.renderHBox(b,a,d)}else{c=$KW.ScrollBox.renderVBox(b,a,d)}a.scrollBoxID="";return c},renderHBox:function(s,c,d){var a=kony.model.getWidgetModel(s.pf,c.tabpaneID);var f="";var q=$KW.skins.getWidgetAlignmentSkin(s);var g=s.pf+"_"+s.id;var r=s.scrollingevents;var n="";var e="",j="";j+=$KW.skins.getMarginSkin(s,c);j+=$KW.skins.getPaddingSkin(s);if(c.topLevelBox){var l=$KW.skins.getSplitSkinsBetweenWidgetAndParentDiv(s,c);e=l[2];e+=" "+$KW.skins.getWidgetAlignmentSkin(s)}else{f+="<div class = 'krow kwt100' >";f+="<div class = 'kcell kwt100' >";l=$KW.skins.getSplitSkinsBetweenWidgetAndParentDiv(s,c);e=l[2];e+=" "+$KW.skins.getWidgetAlignmentSkin(s)}e+=(!$KW.Utils.isWidgetVisible(s,c))?" hide":"";var t=s.percent?"text-align: left; vertical-align:top;":"";f+="<div "+d+" id='"+g+"_parent' class ='scrollerX "+e+"' style='"+j+t+"'>";if(s.scrollbar=="arrows"&&s.leftarrowimage&&s.rightarrowimage){f+=$KW.touch.fadeHImages(s)}var k=$KW.stringifyScrolldirection[s.scrolldirection];if(s.percent==false&&s.totalWt<100){s.totalWt=100}f+="<div id='"+g+"_scroller' kwidgettype='KScrollBox' name='touchcontainer_KScroller' widgetType='hbox'  swipeDirection='"+k+"' class ='kwt100 scrollerX'  >";f+="<div style='display:inline-block;xheight:100%;width:"+s.totalWt+"%' id='"+g+"_scrollee' kwidgettype='KTouchscroller' class=''>";e="kwt100";f+="<div style='table-layout:fixed' class = 'ktable kwt100'"+$KW.Utils.getBaseHtml(s,c)+">";f+="<div class = 'krow "+q+" kwt100' >";var p=s.children?s.children.length:0;for(var o=0;o<p;o++){var m=a[s.children[o]];c.vLine=(m.wType=="Line")?true:false;if(m.wType==="HBox"||m.wType==="VBox"||m.wType==="ScrollBox"){c.topLevelBox=false;if(m.wType=="HBox"){f+=$KW.HBox.render(m,c)}else{f+=$KW.VBox.render(m,c)}}else{if(s.percent==true){c.ispercent=true;if(s.totalWt&&kony.appinit.isIE){n=Math.floor((100*m.containerweight)/s.totalWt)}var b=$KW.skins.getMarAdjustedContainerWeightSkin(m,(n||""));var h=$KW.skins.getWidgetAlignmentSkin(m);f+="<div class = 'kcell "+b+" "+h+"' style='"+$KW.skins.getChildMarginAsPaddingSkin(m)+"' >"}else{c.ispercent=false}f+=$KW[m.wType].render(m,c);if(s.percent){f+="</div>"}}}if($KG.appbehaviors.adherePercentageStrictly==true&&s.percent===true){s.dummyNodeWidth=$KW.HBox.getExtraNodeWidth(s);f+="<div class = 'kcell kwt"+s.dummyNodeWidth+"'  ></div>"}f+="</div></div>";f+="</div></div>";f+="</div>";if(!c.topLevelBox){f+="</div></div>"}return f},renderVBox:function(o,b,q){var d=kony.model.getWidgetModel(o.pf,b.tabpaneID);var m=b.toplevel;var h=$KW.skins.getWidgetAlignmentSkin(o);var n="";var k=o.pf+"_"+o.id;var g=$KW.skins.getWidgetSkin(o,b)+" "+$KW.skins.getMarPadAdjustedContainerWeightSkin(o,100);var p=o.scrollingevents;var a="";a+=" "+$KW.skins.getMarginSkin(o,b);a+=" "+$KW.skins.getPaddingSkin(o);g+=g+(!$KW.Utils.isWidgetVisible(o,b)?" hide":"");n+="<div "+q+" id='"+k+"_parent' class ='scrollerX "+g+"' style='"+a+"'>";if(o.scrollbar=="arrows"&&o.bottomarrowimage&&o.toparrowimage){n+=$KW.touch.fadeVImages(o)}var r=$KW.stringifyScrolldirection[o.scrolldirection];n+="<div id='"+k+"_scroller' kwidgettype='KScrollBox' name='touchcontainer_KScroller' widgetType='vbox' swipeDirection='"+r+"' class ='scrollerX'>";n+="<div id='"+k+"_scrollee' style='xheight:100%;"+(r=="vertical"?"white-space: pre-line;":"")+"' kwidgettype='KTouchscroller' class='scrolleeX'>";n+=(p&&p.onpull)?$KU.getPullString():"";if(m){n+="<div style='table-layout:fixed' class = '"+g+"' id='"+k+"' kformname='"+o.pf+"'>"}else{var c="kwt100 "+h+(!$KW.Utils.isWidgetVisible(o,b)?" hide":"");var j=$KW.skins.getSplitSkinsBetweenWidgetAndParentDiv(o,b);c=j[2];n+="<div style='table-layout:fixed' class='ktable kwt100'"+$KW.Utils.getBaseHtml(o,b)+">"}var l=o.children?o.children.length:0;for(var f=0;f<l;f++){var e=d[o.children[f]];if(e.wType==="HBox"||e.wType==="VBox"||e.wType==="ScrollBox"){b.topLevelBox=false;if(e.wType=="HBox"){b.ispercent=o.percent;n+=$KW.HBox.render(e,b)}else{n+=$KW.VBox.render(e,b)}}else{c=" krow kwt100 ";n+="<div class = '"+c+"' >";h=$KW.skins.getWidgetAlignmentSkin(e);c=$KW.skins.getMarAdjustedContainerWeightSkin(e,"100");c+=" kcell "+h;n+="<div class = '"+c+"' >";n+=$KW[e.wType].render(e,b);n+="</div></div>"}}n+="</div>";if(m){n+="</div>"}n+=(p&&p.onpush)?$KU.getPushString():"";n+="</div></div>";n+="</div>";return n},eventHandler:function(a,e,c){var d=$KU.getModelByNode(e);e.getAttribute("kcontainerID")&&$KW.Utils.updateContainerData(d,e,!d.onclick);var b=$KU.returnEventReference(d.onclick);b&&b.call(d,d)},adjustBoxDimensions:function(d){var a=document.querySelectorAll("#"+d+" div[kwidgettype='ScrollBox'], div[class~='popupmain']  div[kwidgettype='ScrollBox']");for(var c=0;c<a.length;c++){var b=$KU.getModelByNode(a[c]);$KW.ScrollBox.adjustDimensionsByNode(b,a[c])}},adjustDimensionsByNode:function(l,n){var f=$KU.getElementById(n.id+"_scroller");var e=$KU.getElementById(n.id+"_parent");var o=$KW.stringifyScrolldirection[l.scrolldirection];if(o!="horizontal"){var h=l.containerheight||l.container_height;var a=0;if(h>0&&(l.containerheightreference||l.heightreference)){if([l.containerheightreference,l.heightreference].contains(constants.SCROLLBOX_HEIGHT_BY_FORM_REFERENCE)){var d=document.getElementById(l.pf+"_scroller");var g=(d&&d.offsetHeight)||window.innerHeight||document.body.clientHeight;a=Math.round((h*g)/100)}else{if([l.containerheightreference,l.heightreference].contains(constants.SCROLLBOX_HEIGHT_BY_PARENT_WIDTH)){var k=$KU.getElementById(l.pf+"_"+l.parent);var m=(k&&k.offsetWidth)||f.parentNode.offsetWidth;a=Math.round((h*m)/100)}else{var d=document.getElementById(l.pf+"_scroller");var g=(d&&d.offsetHeight)||window.innerHeight||document.body.clientHeight;a=Math.round((h*g)/100)}}var c=parseInt($KU.getStyle(e,"border-top-width").replace("px",""),10)+parseInt($KU.getStyle(e,"border-bottom-width").replace("px",""),10);var j=parseInt($KU.getStyle(e,"padding-top").replace("px",""),10)+parseInt($KU.getStyle(e,"padding-bottom").replace("px",""),10);e.style.height=a+"px";a=a-c-j;f.style.height=a+"px";var b=$KG[f.id];b&&b.refresh()}if(l.scrollbar=="arrows"&&l.bottomarrowimage&&l.toparrowimage){var i=e.childNodes[0];i.style.height=a+"px";i.style.top=$KU.getStyle(e,"padding-top");if(f.childNodes[0].clientHeight>e.clientHeight){$KU.applyFade(i.childNodes[1],"fadeIn",500)}}$KW.ScrollBox.adjustArrowPosition(n.id)}},adjustArrowPosition:function(c){var a=document.querySelectorAll("#"+c+"_scrollFades_V > div");var b=document.querySelectorAll("#"+c+"_scrollFades_H > div");if(b.length>0){b[0].style.top=Math.floor((b[0].parentNode.offsetHeight-(b[0].childNodes[0].naturalHeight||b[0].childNodes[0].height))/2)+"px";b[1].style.top=Math.floor((b[1].parentNode.offsetHeight-(b[1].childNodes[0].naturalHeight||b[1].childNodes[0].height))/2)+"px"}if(a.length>0){a[0].style.left=Math.floor((a[0].parentNode.offsetWidth-(a[0].childNodes[0].naturalHeight||a[0].childNodes[0].height))/2)+"px";a[1].style.left=Math.floor((a[1].parentNode.offsetWidth-(a[1].childNodes[0].naturalHeight||a[0].childNodes[0].height))/2)+"px"}},setarrowconfigs:function(b){var a=b.scrollarrowconfig;if(a){b.scrollbar="arrows"}if(a&&a.length>=4){b.leftarrowimage=a[IndexJL];b.toparrowimage=a[IndexJL+1];b.rightarrowimage=a[IndexJL+2];b.bottomarrowimage=a[IndexJL+3]}},scrollToBeginning:function(a){var c=$KU.getNodeByModel(a);if(c){var b=$KG[a.pf+"_scroller"];if(b){b.scrollTo(0,c.offsetTop,500)}else{window.scrollTo(0,c.offsetTop)}var d=$KG[a.pf+"_"+a.id+"_scroller"];if(d){if(a.orientation==constants.BOX_LAYOUT_HORIZONTAL){d.scrollTo(d.minScrollX,0,500)}else{d.scrollTo(0,d.minScrollY,500)}}}},scrollToEnd:function(a){$KW.Widget.setfocus(a);var b=$KG[a.pf+"_"+a.id+"_scroller"];if(b){if(a.orientation==constants.BOX_LAYOUT_HORIZONTAL){b.scrollTo(b.maxScrollX,0,500)}else{b.scrollTo(0,b.maxScrollY,500)}}},adjustScrollChildrenWidth:function(g){var d=$KU.getNodeByModel(g);if(g.percent&&g.totalWt&&kony.appinit.isIE){var j=d.firstChild;var h=j.childNodes;var c=g.totalWt||0;for(var b=0;b<h.length;b++){var a=g[h[b].firstChild.id.split("_")[1]];var e=Math.floor((100*a.containerweight)/g.totalWt);var f=kony.widgets.skins.getMarAdjustedContainerWeightSkin(a,e||"");h[b].className=h[b].className.replace(new RegExp("(^|\\s+)kwt([0-9]+)(\\s+|$)")," ");$KU.addClassName(h[b],f)}}},recalculateScrollBoxWidth:function(d){if(d.orientation!=constants.BOX_LAYOUT_HORIZONTAL){return}var c=d.ownchildrenref;var e=0;for(var b=0;b<c.length;b++){e+=c[b].containerweight}d.totalWt=e;var a=$KU.getNodeByModel(d);if(a==null){return}a.parentNode.style.width=e+"%";var f=$KG[d.pf+"_"+d.id+"_scroller"];f&&f.refresh()}};
$KW.Video=$KW.Audio=$KW.Media={initializeView:function(d){if(!$KU.isAndroid){return}var b=document.querySelectorAll("#"+d+" video");for(var a=0;a<b.length;a++){var c=b[a];kony.events.addEventListener(c,"click",function(e){e=e||window.event;if(e.srcElement.getAttribute("kdisabled")=="true"){kony.events.stopPropagation(e);kony.events.preventDefault(e);return}else{e.srcElement.play()}},false);kony.events.addEventListener(c,"playing",function(e){e=e||window.event;e.srcElement.playing=true},false)}},updateView:function(e,c,b,a){var d=$KU.getNodeByModel(e);if(!d){return}switch(c){case"source":d.parentNode.innerHTML=this.render(e,{formID:e.pf});break}},render:function(f,c){var g=$KW.skins.getWidgetSkinList(f,c);var j=$KW.Utils.getBaseHtml(f,c);var h=c.tabpaneID?(" ktabpaneid="+c.tabpaneID):"";var d=f.autoplay?" autoplay='autoplay'":"";var l=f.poster?(" poster="+$KU.getImageURL(f.poster)):"";var b=" style='"+$KW.skins.getMarginSkin(f,c)+";"+$KW.skins.getPaddingSkin(f)+"'";var i=f.loop?" loop='loop'":"";var m=(f.controls||f.controls==undefined)?" controls='controls'":"";var e=f.heightwidth;if(e){e=e.split(",");e=(e[1]!="0"?(" width="+e[1]+"px "):"")+(e[0]!="0"?("height="+e[0]+"px "):"")}var k="";if(f.wType=="Video"){k="<video"+j+m+e+d+l+i+h}else{k="<audio"+j+" controls='controls'"+d+i+h}k+=b;var a=this.getSrc(f);k+=" class = '"+g+a[1]+"'>";if(f.wType=="Video"){k+=a[0]+(f.text||"")+"</video>"}else{k+=a[0]+(f.text||"")+"</audio>"}return k},getSrc:function(c){var j=false;var b=$KU.getPlatform();if(b.name=="android"&&b.version<=2.2){j=true}var g=c.wType.toLowerCase();var e=skin="";var h=count=0;var a=c.source;if($KU.isArray(a)){for(var d=1;d<a.length;d++){h++;if(a[d][2]){var f=g+"/"+a[d][1];e+="<source src='"+a[d][2]+"'"+(a[d][1]=="mp4"&&j?"":" type='"+f+"'")+"/>"}else{count++}}}else{for(var k in a){h++;if(a[k]){var f=g+"/"+k;e+="<source src='"+a[k]+"'"+(k=="mp4"&&j?"":" type='"+f+"'")+"/>"}else{count++}}}if(h==count&&c.isvisible){skin=" hide"}return[e,skin]},eventHandler:function(a,b){}};
$KW.Calendar={initialize:function(){kony.events.addEvent("click","Calendar",this.eventHandler);kony.events.addEvent("onorientationchange","Calendar",$KW.Calendar.__dp.reposition)},initializeView:function(a){$KW.Calendar.__dp.days=(function(){if($KG.i18nArray&&$KG.i18nArray["weekdayI18Nkey"]){var f=$KG.i18nArray&&$KG.i18nArray["weekdayI18Nkey"]?kony.i18n.getLocalizedString("weekdayI18Nkey"):null;if(f){return f.split(",")}else{return["SUN","MON","TUE","WED","THU","FRI","SAT"]}}else{var f=[];if($KG.i18nArray){var h,b,i,c,d,g,e;h=$KG.i18nArray["platform.calendar.sunday"]?kony.i18n.getLocalizedString("platform.calendar.sunday"):"SUN";h&&f.push(h);b=$KG.i18nArray["platform.calendar.monday"]?kony.i18n.getLocalizedString("platform.calendar.monday"):"MON";b&&f.push(b);i=$KG.i18nArray["platform.calendar.tuesday"]?kony.i18n.getLocalizedString("platform.calendar.tuesday"):"TUE";i&&f.push(i);c=$KG.i18nArray["platform.calendar.wednesday"]?kony.i18n.getLocalizedString("platform.calendar.wednesday"):"WED";c&&f.push(c);d=$KG.i18nArray["platform.calendar.thursday"]?kony.i18n.getLocalizedString("platform.calendar.thursday"):"THU";d&&f.push(d);g=$KG.i18nArray["platform.calendar.friday"]?kony.i18n.getLocalizedString("platform.calendar.friday"):"FRI";g&&f.push(g);e=$KG.i18nArray["platform.calendar.saturday"]?kony.i18n.getLocalizedString("platform.calendar.saturday"):"SAT";e&&f.push(e)}if(f!=[]){return f}else{return["SUN","MON","TUE","WED","THU","FRI","SAT"]}}}());$KW.Calendar.__dp.months=(function(){if($KG.i18nArray&&$KG.i18nArray["monthI18Nkey"]){var j=$KG.i18nArray&&$KG.i18nArray["monthI18Nkey"]?kony.i18n.getLocalizedString("monthI18Nkey"):null;if(j){return j.split(",")}else{return["January","February","March","April","May","June","July","August","September","October","November","December"]}}else{var j=[];if($KG.i18nArray){var d,n,l,h,b,k,g,c,f,i,e,m;d=$KG.i18nArray["platform.calendar.january"]?kony.i18n.getLocalizedString("platform.calendar.january"):"January";d&&j.push(d);n=$KG.i18nArray["platform.calendar.february"]?kony.i18n.getLocalizedString("platform.calendar.february"):"February";n&&j.push(n);l=$KG.i18nArray["platform.calendar.march"]?kony.i18n.getLocalizedString("platform.calendar.march"):"March";l&&j.push(l);h=$KG.i18nArray["platform.calendar.april"]?kony.i18n.getLocalizedString("platform.calendar.april"):"April";h&&j.push(h);b=$KG.i18nArray["platform.calendar.may"]?kony.i18n.getLocalizedString("platform.calendar.may"):"May";b&&j.push(b);k=$KG.i18nArray["platform.calendar.june"]?kony.i18n.getLocalizedString("platform.calendar.june"):"June";k&&j.push(k);g=$KG.i18nArray["platform.calendar.july"]?kony.i18n.getLocalizedString("platform.calendar.july"):"July";g&&j.push(g);c=$KG.i18nArray["platform.calendar.august"]?kony.i18n.getLocalizedString("platform.calendar.august"):"August";c&&j.push(c);f=$KG.i18nArray["platform.calendar.september"]?kony.i18n.getLocalizedString("platform.calendar.september"):"September";f&&j.push(f);i=$KG.i18nArray["platform.calendar.october"]?kony.i18n.getLocalizedString("platform.calendar.october"):"October";i&&j.push(i);e=$KG.i18nArray["platform.calendar.november"]?kony.i18n.getLocalizedString("platform.calendar.november"):"November";e&&j.push(e);i18December=$KG.i18nArray["platform.calendar.december"]?kony.i18n.getLocalizedString("platform.calendar.december"):"December";i18December&&j.push(i18December)}if(j!=[]){return j}else{return["January","February","March","April","May","June","July","August","September","October","November","December"]}}}())},setcontext:function(b,a){if(b instanceof Object&&a instanceof Object){b.context=a}},updateView:function(e,i,d,f){var h=$KU.getNodeByModel(e);switch(i){case"date":e.luadate=d;var c=$KW.Calendar.DateFormater;var b=$KW.Calendar.ideDateToString(e.date);e.entereddate=b;var j=$KU.isValidDate(b,"dd/mm/yyyy");if(j){if(!kony.appinit.isMobile&&!kony.appinit.isTablet&&kony.appinit.isIE8){var g=document.getElementById(e.id);g.value="";$KU.removeClassName(g,"konyplaceholder");g.value=b}else{e.day=d[IndexJL+0];e.month=d[IndexJL+1];e.year=d[IndexJL+2];this.updateCalDOMNode(e,true)}}break;case"datecomponents":e.day=d[IndexJL+0];e.month=d[IndexJL+1];e.year=d[IndexJL+2];e.hour=0;e.minutes=0;e.seconds=0;this.updateCalDOMNode(e,true);break;case"placeholder":var a=document.getElementById(e.id);if(a&&(a.value.indexOf("/")>-1||a.value.indexOf("-")>-1)){return false}d=d||e.dateformat||e.format;if(e.placeholder!=d){e.placeholder=d}a&&a.setAttribute("placeholder",e.placeholder);break;case"calendaricon":if(h){h.childNodes[1].src=$KU.getImageURL(d)}e.Image=d;break;case"dateformat":this.updateCalDOMNode(e,true);break;case"validstartdate":case"startdate":e.startdate=d;break;case"validenddate":case"enddate":e.enddate=d;break;case"titleonpopup":e.title=d;break}},render:function(d,a){d.placeholder=d.placeholder||d.dateformat||d.format;var g=$KW.skins.getWidgetSkinList(d,a);var i="";var h="text";var c=$KW.Calendar.DateFormater;var m=d.Image?$KU.getImageURL(d.Image):$KU.getImageURL("calbtn.gif");var f=$KW.skins.getMarginSkin(d,a)+$KW.skins.getPaddingSkin(d);if(d.viewtype===constants.CALENDAR_VIEW_TYPE_GRID_POPUP||d.viewtype=="default"){var o={};if(d.date instanceof Array){d.luadate=d.date;d.entereddate=d.date;if(d.date&&d.date.length>IndexJL){var e=[d.date[0+IndexJL],d.date[1+IndexJL],d.date[2+IndexJL]];var n=$KW.Calendar.__dp.dateFormatter(d.dateformat,e);if(n!=false){d.dateComponents=n.date;d.formatteddate=n.string}d.day=n.date[0];d.month=n.date[1];d.year=n.date[2];d.selectdate=o.selectdate;d.pagedate=o.pagedate}else{d.day=null;d.month=null;d.year=null}d.hour=d.minutes=d.seconds=0}else{d.formatteddate=d.date}$KW.Calendar.updateCalDOMNode(d,false);var j=$KW.skins.getContentAlignment(d);if(a.ispercent===false){f+=" display: inline-block;"}if(kony.appinit.isAndroid||kony.appinit.isiPhone){i="<div role='option' "+$KW.Utils.getBaseHtml(d,a)+"class = '"+g+"'"}else{i="<div "+$KW.Utils.getBaseHtml(d,a)+"class = '"+g+"'"}i+=" style='"+($KU.isAndroid?"position:relative;":"")+("text-align:"+j+"; vertical-align: middle;")+f+(a.ispercent===false?"display:inline-block":"")+"'>";var b=(a.container?(d.id+"_"+a.container.counter):d.id);if(!kony.appinit.isWindowsPhone&&!kony.appinit.isBlackBerry10){i+="<input id='"+b+"' style='-"+vendor+"-appearance: none; text-align: inherit; vertical-align: middle;background:transparent;width:50%;text-decoration:inherit;' name='calBody' readonly"}else{if(kony.appinit.isWindowsPhone||kony.appinit.isBlackBerry10){i+="<input id='"+b+"' style='-"+vendor+"-appearance: none; text-align: inherit; vertical-align: middle;background:transparent;width:50%;text-decoration:inherit;' name='calBody' disabled='disabled'"}}i+=(d.placeholder)?" placeholder='"+d.placeholder+"'":"";i+=(d.title)?" title='"+d.title+"'":"";i+=(d.disabled)?" disabled='true'":"";i+=(d.date)?" value='"+(d.formatteddate||"")+"'":"";var k=$KW.Utils.isWidgetDisabled(d,a)||false;i+=k?' kdisabled="true" disabled="true" ':"";i+=" type='text' />";var l=(d.accessibilityconfig&&d.accessibilityconfig.hint)?d.accessibilityconfig.hint:"Calendar";i+="<img type='image' style='float:right;vertical-align:middle' xalign='right' src='"+m+"' onload='$KW.Calendar.setCalElementStyle(this,false)' ";i+=(d.title)?" title='"+d.title+"'":"";i+=" />";if($KU.isAndroid){i+="<div style='position:absolute;width:100%;height:100%;background:transparent;top:0;left:0'><div style='width:100%;height:100%;background:transparent;'></div></div>"}i+="</div>"}return i},setCurrentDate:function(b){var a=new Date();b.datecomponents=[];b.datecomponents[IndexJL+0]=0;b.datecomponents[IndexJL+1]=a.getMonth()+1;b.datecomponents[IndexJL+2]=a.getFullYear();b.datecomponents[IndexJL+3]=0;b.datecomponents[IndexJL+4]=0;b.datecomponents[IndexJL+5]=0},eventHandler:function(Q,c){var f=2099;var A=1900;var G=document.getElementById("calendar_close_link");var U=document.getElementById("-k-w-c-cal-title");if(G!=null||G!=undefined){G.style.visibility="visible"}if(U){U.style.visibility="visible"}if(c.getAttribute("k-w-c-id")){var I=c.getAttribute("k-w-c-id")}else{var I=c.getAttribute("id")}I=I.split("-")[0];var P=$KU.getElementID(I);I=I.split("_").length>2?I.substring(0,I.lastIndexOf("_")):I;var t=kony.model.getWidgetModel(c.getAttribute("kformname"),$KU.getElementID(I),c.getAttribute("ktabpaneid"));var F=t.title;var d=t;if(!d.viewconfig){d.viewconfig={gridconfig:""}}var k=t.startdate;var w=t.enddate;if(!d){return}var K=d.viewconfig.gridconfig||d.viewconfig.gridConfig||{};var S=$KW.Calendar.__dp.months;if(c.className.indexOf("-kony-w-c-yemo")>-1){t.currentSelectedyearMonth=c.innerHTML.split(",");for(var af=0;af<S.length;af++){if(t.currentSelectedyearMonth[0]==S[af]){t.currentSelectedMonth=af}}}if(c.className.indexOf("-kony-w-c-next-nav")>-1){var J=document.getElementById(c.getAttribute("k-w-c-id")+"-k-w-c-datepicker");var ab=document.querySelectorAll("#"+J.id+" .-kony-w-c-popup-container")[0];var q=ab.getAttribute("month"),m=ab.getAttribute("year");if(Number(m)<f){var B=$KW.Calendar.__dp.series(m,q,(d.noofmonths||1)*1+1);B.splice(0,1);var C,L=document.getElementById(c.getAttribute("k-w-c-id"))}else{if(Number(m)==f){if(Number(q)<12){var B=$KW.Calendar.__dp.series(m,q,(d.noofmonths||1)*1+1);B.splice(0,1);var C,L=document.getElementById(c.getAttribute("k-w-c-id"))}}}$KW.Calendar.__dp.show(t,B,C,L);c.blur();var W=document.getElementsByClassName("-kony-w-c-yemo")[0];if(W){W.focus()}return}else{if(c.className.indexOf("-kony-w-c-prev-nav")>-1){var J=document.getElementById(c.getAttribute("k-w-c-id")+"-k-w-c-datepicker");var ab=document.querySelectorAll("#"+J.id+" .-kony-w-c-popup-container")[0];var q=ab.getAttribute("month"),m=ab.getAttribute("year");if(q==1){q=12;m=m-1}else{q=q-1}if(Number(m)>A){var B=$KW.Calendar.__dp.series(m,q,(d.noofmonths||1));var C,L=document.getElementById(c.getAttribute("k-w-c-id"))}else{if(Number(m)==A){if(Number(q)>0){var B=$KW.Calendar.__dp.series(m,q,(d.noofmonths||1));var C,L=document.getElementById(c.getAttribute("k-w-c-id"))}}}$KW.Calendar.__dp.show(t,B,C,L);var W=document.getElementsByClassName("-kony-w-c-yemo")[0];if(W){W.focus()}return}else{if(c.getAttribute("k-w-c-hold-day")){var H=document.getElementById(c.getAttribute("k-w-c-id"));H.className=H.className.replace("konyplaceholder","");var v=$KW.Calendar.__dp.dateFormatter(d.dateformat,c.getAttribute("k-w-c-hold-day").split(","));if(v!=false){d.dateComponents=v.date;if(kony.appinit.isIE7||kony.appinit.isIE8||IndexJL==1){v.date[3]=(t.hour!=0)?t.hour:new Date().getHours();v.date[4]=(t.minutes!=0)?t.minutes:new Date().getMinutes();v.date[5]=(t.seconds!=0)?t.seconds:new Date().getSeconds();d.date=v.date;d.datecomponents=v.date;d.day=v.date[0];d.month=v.date[1];d.year=v.date[2];t.formatteddate=v.string}if(H){var l=document.getElementById($KW.Calendar.__dp.invoked[H.id].i);l.value=v.string;$KU.removeClassName(l,"konyplaceholder")}}var D=new Date();if(IndexJL==1&&d.datecomponents[0]!=null){d.datecomponents=[null].concat(d.datecomponents)}d._startG=[0,d.datecomponents[1+IndexJL],d.datecomponents[2+IndexJL]];d.month=d.datecomponents[1+IndexJL];d.day=d.datecomponents[0+IndexJL];d.year=d.datecomponents[2+IndexJL];var D=new Date();d.minutes=D.getMinutes();d.hour=D.getHours();d.seconds=D.getSeconds();var n=H;if(n&&n.getAttribute("kcontainerID")){$KW.Utils.updateContainerData(d,n,false,true)}if(!d.containerId){var R=$KU.returnEventReference(d.ondone||d.onselection);R&&R.call(d,d)}var T=t.accessibilityconfig?(t.accessibilityconfig.a11yLabel+" "+t.date):("Calendar "+t.date);H.setAttribute("aria-label",T);if(t.accessibilityconfig){setTimeout(function(){$KW.Calendar.__dp.destroyCalendar()},3000)}else{$KW.Calendar.__dp.destroyCalendar()}H.focus();return}else{if(c.className.indexOf("-kony-w-c-yemo")>-1){G.style.visibility="hidden";if(U){U.style.visibility="hidden"}var L=c.getAttribute("k-w-c-id");var r=document.getElementById(L+"-k-w-c-datepicker");var z;if(c.innerText==undefined){z=c.textContent.split(",")}else{z=c.innerText.split(",")}var O=z[1].trim();var g=$KW.Calendar.__dp.navigatorTemplate(d,L,O,"fromYearMonth");var ab=document.createElement("div");ab.innerHTML=g;ab.style.position="absolute";ab.style.height=ab.style.width="100%";ab.className="-k-w-c-navigator-scrim";ab.style["background-color"]="White";ab.id=L+"-k-w-c-navigator-scrim";ab.setAttribute("w-type","Calendar");ab.firstChild.position="absolute";ab.firstChild.style["background-color"]="white";var j=r;j.appendChild(ab);var X=ab.clientHeight,ac=ab.firstChild.clientHeight,ae=ab.clientWidth,h=ab.firstChild.clientWidth;ab.firstChild.position="absolute";ab.firstChild.style.top=((X-ac)/2)+"px";ab.firstChild.style.left=((ae-h)/2)+"px";ab.style.top=ab.style.left="0px";return false}}}}if(c.className.indexOf("-kony-w-c-navigator-month")>-1){G.style.visibility="hidden";if(U){U.style.visibility="hidden"}var L=c.getAttribute("k-w-c-id"),e=document.querySelectorAll("#"+L+"-k-w-c-datepicker  .-kony-w-c-navigator-month-selected");for(aa=0;aa<e.length;aa++){if(e[aa]!=c){$KW.Calendar.__dp.removeClass(e[aa],"-kony-w-c-navigator-month-selected");$KW.Calendar.__dp.addClass(e[aa],"-kony-w-c-navigator-month")}}$KW.Calendar.__dp.addClass(c,"-kony-w-c-navigator-month-selected");var Z=document.querySelectorAll("#"+L+"-k-w-c-datepicker .-k-w-c-nav-selected-ym")[0];var s=document.querySelectorAll("#"+L+"-k-w-c-datepicker .-kony-w-c-navigator-year-selected")[0];if(s){var N=s.getAttribute("k-w-c-hold")*1}var o=document.querySelectorAll("#"+L+"-k-w-c-datepicker .-kony-w-c-navigator-month-selected")[0];if(o){var M=$KW.Calendar.__dp.months[(o.getAttribute("k-w-c-hold")*1)-1]}Z.innerHTML=(M||"")+" "+(N||"");return false}else{if(c.className.indexOf("-kony-w-c-navigator-year")>-1){G.style.visibility="hidden";if(U){U.style.visibility="hidden"}var L=c.getAttribute("k-w-c-id"),e=document.querySelectorAll("#"+L+"-k-w-c-datepicker  .-kony-w-c-navigator-year-selected");for(aa=0;aa<e.length;aa++){if(e[aa]!=c){$KW.Calendar.__dp.removeClass(e[aa],"-kony-w-c-navigator-year-selected");$KW.Calendar.__dp.addClass(e[aa],"-kony-w-c-navigator-year")}}$KW.Calendar.__dp.addClass(c,"-kony-w-c-navigator-year-selected");var Z=document.querySelectorAll("#"+L+"-k-w-c-datepicker .-k-w-c-nav-selected-ym")[0];var s=document.querySelectorAll("#"+L+"-k-w-c-datepicker .-kony-w-c-navigator-year-selected")[0];if(s){var N=s.getAttribute("k-w-c-hold")*1}var o=document.querySelectorAll("#"+L+"-k-w-c-datepicker .-kony-w-c-navigator-month-selected")[0];if(o){var M=$KW.Calendar.__dp.months[(o.getAttribute("k-w-c-hold")*1)-1]}Z.innerHTML=(M||"")+" "+(N||"");return false}else{if(c.className.indexOf("-kony-w-c-cancel-nav")>-1){var L=c.getAttribute("k-w-c-id");var V=document.querySelector("#"+L+"-k-w-c-datepicker .-kony-w-c-navigator-month-selected");var p=document.querySelector("#"+L+"-k-w-c-datepicker .-kony-w-c-navigator-year-selected");V&&$KW.Calendar.__dp.removeClass(V,"-kony-w-c-navigator-month-selected");p&&$KW.Calendar.__dp.removeClass(p,"-kony-w-c-navigator-year-selected");if(V||p){G.style.visibility="hidden";if(U){U.style.visibility="hidden"}var Z=document.querySelectorAll("#"+L+"-k-w-c-datepicker .-k-w-c-nav-selected-ym")[0];Z.innerHTML=""}else{var ag=document.getElementById(L+"-k-w-c-navigator-scrim");ag.parentNode.removeChild(ag)}return false}else{if(c.className.indexOf("-kony-w-c-go-nav")>-1){var L=c.getAttribute("k-w-c-id"),s=document.querySelectorAll("#"+L+"-k-w-c-datepicker .-kony-w-c-navigator-year-selected")[0];if(s){var N=s.getAttribute("k-w-c-hold")*1}var o=document.querySelectorAll("#"+L+"-k-w-c-datepicker .-kony-w-c-navigator-month-selected")[0];if(o){var M=o.getAttribute("k-w-c-hold")*1}var ad=N?N:t.currentSelectedyearMonth[1].trim();var q=M?M:t.currentSelectedMonth+1;if((q>0&&!(q>=1&&q<=12))){G.style.visibility="hidden";if(U){U.style.visibility="hidden"}alert(d.navigatorAlert);return false}number=parseInt(ad,10);if(ad||q){var ag=document.getElementById(L+"-k-w-c-navigator-scrim");ag.parentNode.removeChild(ag);var Y=[];var B=$KW.Calendar.__dp.series((ad||d.year||new Date().getFullYear()),(q||d.month||new Date().getMonth()+1),(d.noofmonths||1)*1+1);var u;$KW.Calendar.__dp.show(d,B,C,document.getElementById(L))}else{G.style.visibility="hidden";if(U){U.style.visibility="hidden"}alert(d.navigatorAlert);return false}return false}else{if(c.className.indexOf("-kony-w-c-left-ym-p")>-1){G.style.visibility="hidden";if(U){U.style.visibility="hidden"}var L=c.getAttribute("k-w-c-id"),e=document.querySelectorAll("#"+L+"-k-w-c-navigator-scrim .-kony-w-c-navigator-year");for(var aa=0;aa<e.length;aa++){if(e[e.length-1].innerHTML==""){e[aa].style.visibility="visible";this.cellVisibility=true;if((e[aa-1]!=undefined)&&e[aa-1].innerHTML!=""){e[aa].innerHTML=(Number(e[aa-1].innerHTML)+1);e[aa].setAttribute("k-w-c-hold",(Number(e[aa].innerHTML)))}else{e[aa].innerHTML=(Number(e[aa].innerHTML)-16);e[aa].setAttribute("k-w-c-hold",(Number(e[aa].innerHTML)))}$KW.Calendar.__dp.removeClass(e[aa],"-kony-w-c-navigator-year-selected")}else{var m=e[aa].getAttribute("k-w-c-hold")*1;if(m-16>=A){e[aa].innerHTML=m-16;e[aa].setAttribute("k-w-c-hold",(m-16));if(m-A<=16){for(var b=aa-1;b>=0;b--){e[b].innerHTML="";e[b].style.visibility="hidden";this.cellVisibility=false}}else{e[aa].style.visibility="visible";e[aa].setAttribute("k-w-c-hold",(m-16));$KW.Calendar.__dp.removeClass(e[aa],"-kony-w-c-navigator-year-selected")}}}}return false}else{if(c.className.indexOf("-kony-w-c-right-ym-p")>-1){G.style.visibility="hidden";if(U){U.style.visibility="hidden"}var L=c.getAttribute("k-w-c-id");var e=document.querySelectorAll("#"+L+"-k-w-c-navigator-scrim .-kony-w-c-navigator-year");for(var aa=0;aa<e.length;aa++){if(e[aa].innerHTML==""&&this.cellVisibility==false){e[aa].style.visibility="visible";if((e[aa-1]!=undefined)&&e[aa-1].innerHTML!=""){e[aa].innerHTML=(Number(e[aa-1].innerHTML)+1);e[aa].setAttribute("k-w-c-hold",(Number(e[aa].innerHTML)))}else{e[aa].innerHTML=(Number(e[e.length-1].innerHTML)+1);e[aa].setAttribute("k-w-c-hold",(Number(e[e.length-1].innerHTML)+1))}$KW.Calendar.__dp.removeClass(e[aa],"-kony-w-c-navigator-year-selected")}else{var m=e[aa].getAttribute("k-w-c-hold")*1;if(m+16<=f){e[aa].innerHTML=m+16;e[aa].setAttribute("k-w-c-hold",(m+16));if(Number(e[aa].innerHTML)==f){for(var b=aa+1;b<16;b++){e[b].innerHTML="";e[b].style.visibility="hidden"}}else{e[aa].style.visibility="visible";this.cellVisibility=true;e[aa].setAttribute("k-w-c-hold",(m+16));$KW.Calendar.__dp.removeClass(e[aa],"-kony-w-c-navigator-year-selected")}}}}return false}else{if(c.className.indexOf("-k-w-c-close-picker")>-1){var L=c.getAttribute("k-w-c-id");ag=document.getElementById(L+"-k-w-c-datepicker");var H=$KU.getNodeByModel(t);if(H){H=H.childNodes[0];if(H.value==""){$KW.Calendar.clear(t)}}ag.parentNode.removeChild(ag);$KW.Calendar.__dp.destroyCalendar();return}else{if(I==d.id){return false}}}}}}}}$KW.Calendar.__dp.reAssignData(t);if(c.nodeName=="INPUT"||c.nodeName=="IMG"){t.__id=c.parentNode.id}else{t.__id=c.id;if(c.firstChild){t.__input=c.firstChild.id}else{return false}}$KW.Calendar&&$KW.Calendar.__dp.destroyCalendar(1);var C;$KW.Calendar&&$KW.Calendar.__dp.show(t,C,C,c);var W=document.getElementsByClassName("-kony-w-c-yemo")[0];if(W){W.focus()}},updateCalDOMNode:function(d,b){var c="";var f="",g="";if(!d.datecomponents){if(!d.datecomponents){return false}}if(IndexJL==1&&d.datecomponents[0]!=null){d.datecomponents=[null].concat(d.datecomponents)}d.day=d.datecomponents[0+IndexJL];d.month=d.datecomponents[1+IndexJL];d.year=d.datecomponents[2+IndexJL];if(d.day&&d.month&&d.year){var a=$KW.Calendar.__dp.dateFormatter(d.dateformat,[d.day,d.month,d.year]);if(a!=false){c=a.string}var e=document.getElementById(d.id);if(e&&b){e.value=c}d.formatteddate=c;d.selectdate=g+"/"+f+"/"+d.year;d.pagedate=g+"/"+d.year}else{d.formatteddate=c}},clear:function(b){var a=$KU.getNodeByModel(b);if(a){a=a.childNodes[0];a.value=""}b.datecomponents=null;b.entereddate=null;b.date=null;b.formatteddate=null;b.day=null;b.month=null;b.year=null;b.seconds=null;b.minutes=null;b.hour=null;if(!kony.utils.placeholderSupported&&a){b.placeholder=b.placeholder||b.dateformat||b.format;a.value=b.placeholder;$KU.addClassName(a,"konyplaceholder")}},setEnableAll:function(a){a.datesGroup="";a.datesGroupSimplified=""},navigateToPreviousMonth:function(b){$KW.Calendar.__dp.reAssignData(b);var c=b.displayedMonths[0],d=b.displayedMonths[1];if(c==1){c=12;d=d-1}else{c=c-1}var a=$KW.Calendar.__dp.series(d,c,(b.noofmonths||1));$KW.Calendar.displayedMonth(b,a[0][0],a[0][1])},navigateToNextMonth:function(b){$KW.Calendar.__dp.reAssignData(b);var a=$KW.Calendar.__dp.series(b.displayedMonths[1],b.displayedMonths[0],(b.noofmonths||1)*1+1);a.splice(0,1);$KW.Calendar.displayedMonth(b,a[0][0],a[0][1])},enableRangeOfDates:function(d,b,e,i,a){d.datesState=(a==true?1:0);var g=new Date(b[2+IndexJL],b[1+IndexJL]-1,b[0+IndexJL]);var h=new Date(e[2+IndexJL],e[1+IndexJL]-1,e[0+IndexJL]);d.datesGroupSkin=i;var f=d.datesGroup;var c=[];c.push.apply(c,$KW.Calendar.__dp.between(g,h));d.datesGroupSimplified=c},setEnabled:function(d,k,b,l,a){if(IndexJL==1&&arguments.length==4){a=l;l=b;b=0}d.datesState=(a==true?1:0);d.datesGroupSkin=l;var c=[];if(k&&k.length>IndexJL&&k[IndexJL] instanceof Array){d.datesGroup=k;var f=d.datesGroup;for(var e=0+IndexJL;e<f.length;e++){var i=f[e];if(+i.length==i.length){c.push(new Date(i[2+IndexJL],i[1+IndexJL]-1,i[0+IndexJL]).setHours(0,0,0,0))}}}else{var h=new Date(k[2+IndexJL],k[1+IndexJL]-1,k[0+IndexJL]);var g=new Date(b[2+IndexJL],b[1+IndexJL]-1,b[0+IndexJL]);c.push.apply(c,$KW.Calendar.__dp.between(h,g))}d.datesGroupSimplified=c},setDateSkin:function(b,e,d){for(var c=0+IndexJL,a=e.length;c<a;c++){b.specialDates=b.specialDates?b.specialDates:{};if(!b.specialDates[d]){b.specialDates[d]=e}else{b.specialDates[d].push.apply(b.specialDates[d],e)}}},formatDate:function(date){if(date){try{if(date instanceof Array){date=eval(date);date=date[1+IndexJL]+"/"+date[IndexJL]+"/"+date[2+IndexJL]}}catch(e){date=""}}return date},ideDateToString:function(date){if(date){try{if(date instanceof Array){date=eval(date);date=date[IndexJL]+"/"+date[1+IndexJL]+"/"+date[2+IndexJL]}}catch(e){date=""}}return date},setCalStyle:function(f,a){var g=document.getElementById("container_c");var c=$KU.isAndroid?($KU.isAndroid_HTC?250:100):0;if(g&&$KG.relativeScroll){setTimeout(function(){g.style.top=E.getDocumentScrollTop()+5+"px"},c)}var b=document.getElementsByName("calBody");if(b){for(var d=0;d<b.length;d++){var e=b[d];$KW.Calendar.setCalElementStyle(e,true)}}},adjustCalendars:function(a){var b=document.querySelectorAll("#"+a.pf+"_"+a.id+" input[name='calBody']");for(var c=0;c<b.length;c++){var d=b[c];$KW.Calendar.setCalElementStyle(d,true)}},setCalElementStyle:function(f,p){if(!p){f=f.previousSibling}var j=f.parentNode;var g=$KU.getModelByNode(j);if(j.style.display!="inline-block"){var m=f.nextSibling;var o=f.parentNode.parentNode;f.style.fontFamily=$KU.getStyle(j,"font-family");f.style.fontSize=$KU.getStyle(j,"font-size");f.style.color=$KU.getStyle(j,"color");f.style.fontWeight=$KU.getStyle(j,"font-weight");f.style.fontStyle=$KU.getStyle(j,"font-style");if(g&&g.calimgheight){m.style.height=g.calimgheight}else{m.style.height=f.clientHeight+"px"}m.style.width="auto";if(kony.appinit.isIE7){f.style["float"]="left";f.style.borderStyle="none"}var b=$KU.getStyle(j,"border-top-left-radius");var c=$KU.getStyle(j,"border-bottom-left-radius");var d=$KU.getStyle(j,"border-top-right-radius");var e=$KU.getStyle(j,"border-bottom-right-radius");var n=blr=trr=brr=0;if(b){n=parseInt(b.substring(0,b.indexOf("p")))}if(c){blr=parseInt(c.substring(0,c.indexOf("p")))}if(d){trr=parseInt(d.substring(0,d.indexOf("p")))}if(e){brr=parseInt(e.substring(0,e.indexOf("p")))}var h=0;var k=0;if(n<=blr){h=parseInt(blr/2);f.style.marginLeft=h+"px"}else{h=parseInt(n/2);f.style.marginLeft=h+"px"}if(trr<=brr){k=parseInt(brr/2);m.style.marginRight=k+"px"}else{k=parseInt(trr/2);m.style.marginRight=k+"px"}var r=$KU.getStyle(j,"width");var q=$KU.getStyle(o,"width");if(q=="100%"){q=o.clientWidth+"px"}var l=parseInt(q.substring(0,q.indexOf("p")));var a=$KU.getStyle(m,"width");if(a=="auto"){a=m.clientWidth+"px"}if(a!="auto"){var i=parseInt(a.substring(0,a.indexOf("p")));f.style.width=((l-(2*i)-h-k)/l)*100+"%"}}}};if(!Array.prototype.indexOf){Array.prototype.indexOf=function(b){for(var a=0;a<this.length;a++){if(this[a]===b){return a}}return -1}}if(!document.querySelectorAll){(function(b,a){b=document,a=b.createStyleSheet();b.querySelectorAll=function(g,h,f,e,d){d=b.all,h=[],g=g.replace(/\[for\b/gi,"[htmlFor").split(",");for(f=g.length;f--;){a.addRule(g[f],"k:v");for(e=d.length;e--;){d[e].currentStyle.k&&h.push(d[e])}a.removeRule(0)}return h}})()}$KW.Calendar.__dp={navigatorTemplate:function(d,n){var l;if(arguments.length>2&&arguments[3]==="fromYearMonth"){l=Number(arguments[2])}else{l=null}var o=d.tabpaneId;var b=(" kformname='"+d.pf+"' ")+(o&&" ktabpaneid='"+o+"' ");var c=$KU.getImageURL("sprite.png");var q=$KU.getImageURL("left-arrow.png");var v=$KU.getImageURL("right-arrow.png");var p;if(kony.appinit.isWindowsPhone){p="<div w-type='Calendar' id='"+(d.id+"-k-w-c-navigator-")+"' class='-k-w-c-datepicker-navigator' kwidgettype='Calendar' "+b+" style='height:"+d.popupHeight+";width:"+d.popupWidth+";position:absolute;background-color:White'><div w-type='Calendar'  class='-kony-w-c-navigator-table' style='display:table;table-layout:fixed;height:15%;width:100%;'><div w-type='Calendar'  style='display:table-row;width:100%;height:100%'><a href='javascript:void(0)' w-type='Calendar'  style='display:table-cell;width:15%;text-align:left;vertical-align:middle' class='-kony-w-c-cancel-nav' k-w-c-id='"+n+"' kwidgettype='Calendar' "+b+" ><img w-type='Calendar'  class='-kony-w-c-cancel-nav' style='height:50%;width:50%;' src='"+$KU.getImageURL("k-cancel.png")+"' k-w-c-id='"+n+"' kwidgettype='Calendar' "+b+" ></a><div w-type='Calendar' w-type-inactive='true' style='display:table-cell;width:70%;text-align:center;vertical-align:middle' class='-k-w-c-nav-selected-ym'></div><a href='javascript:void(0)' w-type='Calendar'  style='display:table-cell;width:15%;text-align:right;vertical-align:middle' class='-kony-w-c-go-nav' k-w-c-id='"+n+"' kwidgettype='Calendar' "+b+" ><img w-type='Calendar'  class='-kony-w-c-go-nav' style='height:50%;width:50%;' src='"+$KU.getImageURL("k-go.png")+"' k-w-c-id='"+n+"' kwidgettype='Calendar' "+b+" ></a></div></div>";var g=this.months.slice(0);p+="<div w-type='Calendar'  class='-kony-w-c-navigator-table' style='display:table;table-layout:fixed;height:30%;width:100%;border-bottom:1px solid #FAFAFA'>";g=this.chunks(g,6);for(var s=0;s<g.length;s++){var t=g[s];p+="<div w-type='Calendar'   style='display:table-row;width:100%;height:50%'>";for(var r=0;r<t.length;r++){p+="<a href='javascript:void(0)' w-type='Calendar'  style='display:table-cell;width:15%;text-align:center;vertical-align:middle;font-size:smaller;text-decoration:none;' class='-kony-w-c-navigator-month' k-w-c-hold='"+((s*6)+(r+1))+"' k-w-c-id='"+n+"' kwidgettype='Calendar'"+b+" >"+t[r].substring(0,3)+"</a>"}p+="</div>"}p+="</div><div w-type='Calendar'  class='-kony-w-c-navigator-table' style='display:table;table-layout:fixed;height:15%;width:100%'><div w-type='Calendar'   style='display:table-row;width:100%;height:100%'><a href='javascript:void(0)' w-type='Calendar' style='display:table-cell;width:15%;text-align:left;vertical-align:middle' class='-kony-w-c-left-ym-p' k-w-c-id='"+n+"' kwidgettype='Calendar' "+b+" ><span class='-kony-w-c-left-ym-p' style='height:15px;width:25px;display:inline-block;background:url("+c+") no-repeat 0 -450px' k-w-c-id='"+n+"' kwidgettype='Calendar' "+b+" ></span></a><div w-type-inactive='true'  w-type='Calendar' style='display:table-cell;width:70%;text-align:center;vertical-align:middle' class='-k-w-c-nav-yr-range'></div><a href='javascript:void(0)' w-type='Calendar'  style='display:table-cell;width:15%;text-align:right;vertical-align:middle' class='-kony-w-c-right-ym-p' k-w-c-id='"+n+"' kwidgettype='Calendar' "+b+" ><span w-type='Calendar'  class='-kony-w-c-right-ym-p' style='height:15px;width:25px;display:inline-block;background:url("+c+") no-repeat 0 -500px' k-w-c-id='"+n+"' kwidgettype='Calendar' "+b+" ></span></a></div></div>";p+="<div w-type='Calendar'  class='-kony-w-c-navigator-table' style='display:table;table-layout:fixed;height:40%;width:100%'>";var k=2001;var m;if(l!=null){if(l>k){m=Math.floor((l-2001)/16);for(var u=0;u<m;u++){k=k+16}}else{m=Math.ceil((2001-l)/16);for(var u=0;u<m;u++){k=k-16}}}for(s=1;s<=4;s++){p+="<div w-type='Calendar'   style='display:table-row;width:100%;height:25%'>";for(r=1;r<=4;r++){if((k>1900&&k<2099)||k==2099||k==1900){p+="<a herf='javascript:void(0)' w-type='Calendar'  style='display:table-cell;width:25%;text-align:center;vertical-align:middle;font-size:smaller;visibility:visible;' class='-kony-w-c-navigator-year' k-w-c-hold='"+k+"' k-w-c-id='"+n+"' kwidgettype='Calendar' "+b+" >"+k+"</a>"}else{p+="<a href='javascript:void(0)' w-type='Calendar'  style='display:table-cell;width:25%;text-align:center;vertical-align:middle;font-size:smaller;visibility:hidden;' class='-kony-w-c-navigator-year' k-w-c-hold='"+k+"' k-w-c-id='"+n+"' kwidgettype='Calendar' "+b+" >"+k+"</a>"}k++}p+="</div>"}p+="</div></div>"}else{var a=$KG.i18nArray?$KG.i18nArray?$KG.i18nArray["platform.calendar.previousYearLink"]:"Previous set of Years":"Previous set of Years";var e=$KG.i18nArray?$KG.i18nArray?$KG.i18nArray["platform.calendar.nextYearLink"]:"Next set of Years":"Next set of Years";var f=$KG.i18nArray?$KG.i18nArray?$KG.i18nArray["platform.calendar.cancelImage"]:"Cancel Selection":"Cancel Selection";var h=$KG.i18nArray?$KG.i18nArray?$KG.i18nArray["platform.calendar.selectedImage"]:"Done Selecting":"Done Selecting";p="<div w-type='Calendar' id='"+(d.id+"-k-w-c-navigator-")+"' class='-k-w-c-datepicker-navigator' kwidgettype='Calendar' "+b+" style='height:"+d.popupHeight+";width:"+d.popupWidth+";position:absolute;background-color:White'><div w-type='Calendar'  class='-kony-w-c-navigator-table' style='display:table;table-layout:fixed;height:15%;width:100%;'><div w-type='Calendar'  style='display:table-row;width:100%;height:100%'><div w-type='Calendar'  style='display:table-cell;width:15%;text-align:left;vertical-align:middle' class='-kony-w-c-cancel-nav' k-w-c-id='"+n+"' kwidgettype='Calendar' "+b+" ><img w-type='Calendar' alt='"+f+"' class='-kony-w-c-cancel-nav' style='height:50%;width:50%;' src='"+$KU.getImageURL("k-cancel.png")+"' k-w-c-id='"+n+"' kwidgettype='Calendar' "+b+" ></div><div w-type='Calendar' w-type-inactive='true' style='display:table-cell;width:70%;text-align:center;vertical-align:middle' class='-k-w-c-nav-selected-ym'></div><div w-type='Calendar'  style='display:table-cell;width:15%;text-align:right;vertical-align:middle' class='-kony-w-c-go-nav' k-w-c-id='"+n+"' kwidgettype='Calendar' "+b+" ><img w-type='Calendar'  alt='"+h+"'class='-kony-w-c-go-nav' style='height:50%;width:50%;' src='"+$KU.getImageURL("k-go.png")+"' k-w-c-id='"+n+"' kwidgettype='Calendar' "+b+" ></div></div></div>";var g=this.months.slice(0);p+="<div w-type='Calendar'  class='-kony-w-c-navigator-table' style='display:table;table-layout:fixed;height:30%;width:100%;border-bottom:1px solid #FAFAFA'>";g=this.chunks(g,6);for(var s=0;s<g.length;s++){var t=g[s];p+="<div w-type='Calendar'   style='display:table-row;width:100%;height:50%'>";for(var r=0;r<t.length;r++){p+="<div w-type='Calendar'  style='display:table-cell;width:15%;text-align:center;vertical-align:middle;font-size:smaller' class='-kony-w-c-navigator-month' k-w-c-hold='"+((s*6)+(r+1))+"' k-w-c-id='"+n+"' kwidgettype='Calendar'"+b+" >"+t[r].substring(0,3)+"</div>"}p+="</div>"}p+="</div><div w-type='Calendar'  class='-kony-w-c-navigator-table' style='display:table;table-layout:fixed;height:15%;width:100%'><div w-type='Calendar'   style='display:table-row;width:100%;height:100%'><div w-type='Calendar' style='display:table-cell;width:15%;text-align:left;vertical-align:middle' class='-kony-w-c-left-ym-p' k-w-c-id='"+n+"' kwidgettype='Calendar' "+b+" ><img class='-kony-w-c-left-ym-p' src = '"+q+"' alt='"+a+"' style='height:15px;width:25px;display:inline-block' k-w-c-id='"+n+"' kwidgettype='Calendar' "+b+" /></div><div w-type-inactive='true'  w-type='Calendar' style='display:table-cell;width:70%;text-align:center;vertical-align:middle' class='-k-w-c-nav-yr-range'></div><div w-type='Calendar'  style='display:table-cell;width:15%;text-align:right;vertical-align:middle' class='-kony-w-c-right-ym-p' k-w-c-id='"+n+"' kwidgettype='Calendar' "+b+" ><img w-type='Calendar'  class='-kony-w-c-right-ym-p' src = '"+v+"' alt='"+e+"'style='height:15px;width:25px;display:inline-block' k-w-c-id='"+n+"' kwidgettype='Calendar' "+b+" /></div></div></div>";p+="<div w-type='Calendar'  class='-kony-w-c-navigator-table' style='display:table;table-layout:fixed;height:40%;width:100%'>";var k=2001;var m;if(l!=null){if(l>k){m=Math.floor((l-2001)/16);for(var u=0;u<m;u++){k=k+16}}else{m=Math.ceil((2001-l)/16);for(var u=0;u<m;u++){k=k-16}}}for(s=1;s<=4;s++){p+="<div w-type='Calendar'   style='display:table-row;width:100%;height:25%'>";for(r=1;r<=4;r++){if((k>1900&&k<2099)||k==2099||k==1900){p+="<div w-type='Calendar'  style='display:table-cell;width:25%;text-align:center;vertical-align:middle;font-size:smaller;visibility:visible;' class='-kony-w-c-navigator-year' k-w-c-hold='"+k+"' k-w-c-id='"+n+"' kwidgettype='Calendar' "+b+" >"+k+"</div>"}else{p+="<div w-type='Calendar'  style='display:table-cell;width:25%;text-align:center;vertical-align:middle;font-size:smaller;visibility:hidden;' class='-kony-w-c-navigator-year' k-w-c-hold='"+k+"' k-w-c-id='"+n+"' kwidgettype='Calendar' "+b+" >"+k+"</div>"}k++}p+="</div>"}p+="</div></div>"}return p},template:function(h,o,c,d){var m=d.tabpaneId;var e=(" kformname='"+d.pf+"' ")+(m&&" ktabpaneid='"+m+"' ");var l,n;if(kony.appinit.isWindowsPhone){n='<div w-type="Calendar"  style="display:inline-block;" class="-kony-w-c-popup-container" id="{{id}}" style="height:'+o+";width:"+c+';"><div w-type="Calendar"  class="-kony-w-c-topSection"><div w-type="Calendar"  class="-kony-w-c-table" style=";width:100%;height:70%;"><div w-type="Calendar"  class="-kony-w-c-row"><a href="javascript:void(0)" w-type="Calendar"  '+e+' class="-kony-w-c-cell -kony-w-c-prev-nav" style="width:20%;text-align:left;display:table-cell"><img w-type="Calendar" class="-kony-w-c-next-nav-right-link" alt="Next Month" style="height:15px;width:25px;display:inline-block" /></a><a href="javascript:void(0)" w-type="Calendar" '+e+' kwidgettype="Calendar" class="-kony-w-c-cell -kony-w-c-yemo" style="width:60%;display:table-cell;text-align:center;text-decoration:none;color:#000000;"></a><a href="javascript:void(0)" w-type="Calendar" '+e+' class="-kony-w-c-cell -kony-w-c-next-nav" style="width:20%;text-align:right;display:table-cell;"><img w-type="Calendar" class="-kony-w-c-next-nav-right-link" alt="Next Month" style="height:15px;width:25px;display:inline-block" /></a></div></div><div w-type="Calendar"  class="-kony-w-c-table -kony-w-c-daysHeader" style="width:100%;height:30%;"><div w-type="Calendar"  class="-kony-w-c-row">';for(l=1;l<=7;l++){n+='<a href="javascript:void(0)" '+e+' w-type = "Calendar" class="" id="-kony-w-c-cell-'+l+'" style="width:'+h[l-1]+';display:table-cell; vertical-align:middle; text-align:center; height:100%;font-size:smaller;text-decoration:none;color:#000000;"></a>'}n+='</div></div></div><div w-type="Calendar" class="kony-w-c-actualDates">';for(;l<=49;l=l+7){var g='<div w-type="Calendar"  class="-kony-w-c-table -kony-w-c-day-table" style=""><div w-type="Calendar"  class="-kony-w-c-row -kony-w-c-day-row">';var a=1;for(var k=l;k<=l+6;k++){g+='<a href="javascript:void(0)" w-type="Calendar" '+e+' kwidgettype="Calendar" class="" id="-kony-w-c-cell-'+k+'"  style="width:'+h[a-1]+';display:table-cell; vertical-align:middle; text-align:center; height:100%;font-size:smaller;text-decoration:none;color:inherit;"></a>';a++}g+="</div></div>";for(var k=l;k<=l+7;k++){g=g.replace("{{}}",k)}n+=g}n+="</div></div>"}else{var f=$KG.i18nArray?$KG.i18nArray["platform.calendar.previousMonthLink"]?$KG.i18nArray["platform.calendar.previousMonthLink"]:"Previous Month":"Previous Month";var b=$KG.i18nArray?$KG.i18nArray["platform.calendar.nextMonthLink"]?$KG.i18nArray["platform.calendar.nextMonthLink"]:"Next Month":"Next Month";n='<div w-type="Calendar"  style="display:inline-block;" class="-kony-w-c-popup-container" id="{{id}}" style="height:'+o+";width:"+c+';"><div w-type="Calendar"  class="-kony-w-c-topSection"><div w-type="Calendar"  class="-kony-w-c-table" style=";width:100%;height:70%;"><div w-type="Calendar"  class="-kony-w-c-row"><div w-type="Calendar"  '+e+' class="-kony-w-c-cell -kony-w-c-prev-nav" style="width:20%;text-align:left;display:table-cell"><img w-type="Calendar" class="-kony-w-c-prev-nav-left-link" alt="'+f+'" style="height:15px;width:25px;display:inline-block" /></div><div w-type="Calendar" '+e+' kwidgettype="Calendar" class="-kony-w-c-cell -kony-w-c-yemo" style="width:60%;display:table-cell;text-align:center;outline-color:#FFFFFF;" tabindex="1"></div><div w-type="Calendar" '+e+' class="-kony-w-c-cell -kony-w-c-next-nav" style="width:20%;text-align:right;display:table-cell;"><img w-type="Calendar" class="-kony-w-c-next-nav-right-link" alt="'+b+'" style="height:15px;width:25px;display:inline-block" /></div></div></div><div w-type="Calendar"  class="-kony-w-c-table -kony-w-c-daysHeader" style="width:100%;height:30%;"><div w-type="Calendar"  class="-kony-w-c-row">';for(l=1;l<=7;l++){n+="<div "+e+' w-type = "Calendar" class="" id="-kony-w-c-cell-'+l+'" style="width:'+h[l-1]+';display:table-cell; vertical-align:middle; text-align:center; height:100%;font-size:smaller"></div>'}n+='</div></div></div><div w-type="Calendar" class="kony-w-c-actualDates">';for(;l<=49;l=l+7){var g='<div w-type="Calendar"  class="-kony-w-c-table -kony-w-c-day-table" style=""><div w-type="Calendar"  class="-kony-w-c-row -kony-w-c-day-row">';var a=1;for(var k=l;k<=l+6;k++){g+='<div w-type="Calendar" '+e+' kwidgettype="Calendar" class="" id="-kony-w-c-cell-'+k+'"  style="width:'+h[a-1]+';display:table-cell; vertical-align:middle; text-align:center; height:100%;font-size:smaller;"></div>';a++}g+="</div></div>";for(var k=l;k<=l+7;k++){g=g.replace("{{}}",k)}n+=g}n+="</div></div>"}return n},reAssignData:function(c,d){if(!c.datecomponents){$KW.Calendar.setCurrentDate(c);c.minutes=0;c.hour=0;c.seconds=0}c.entereddate=c.datecomponents;c.monthsinrow=c.monthsinrow||3;if(c.noofmonths<1||isNaN(c.noofmonths*1)){c.noofmonths=1}c.datesGroup=[];c.datesState=c.datesState||0;c.enddate=c.enddate||c.validenddate;c.startdate=c.startdate||c.validstartdate;c.dateformat=c.dateformat||c.format||"dd/mm/yyyy";c.popupHeight=c.popupHeight||Math.min.apply(Math,[300,window.innerHeight||document.documentElement.clientHeight])+"px";c.popupWidth=c.popupWidth||Math.min.apply(Math,[300,window.innerWidth||document.documentElement.clientWidth])+"px";c.startDay=c.startDay||0;if(!c.viewconfig){c.viewconfig={};c.viewconfig.gridConfig=c.viewconfig.gridconfig={}}var b=c.viewconfig.gridconfig||c.viewconfig.gridConfig||{};b.gridCellWeekendSkin=b.gridCellWeekendSkin||b.gridcellweekendskin||"-kony-w-c-weekend-";b.gridCellInactiveDaysSkin=b.gridCellInactiveDaysSkin||b.gridcellinactivedaysskin||"-k-w-c-inactive";b.gridCellSkin=b.gridCellSkin||b.gridcellskin||"-kony-w-c-day-skin";b.gridCellSelectedSkin=b.gridCellSelectedSkin||b.gridcellselectedskin||"-kony-w-c-selected-";b.gridCellTodaySkin=b.gridCellTodaySkin||b.gridcelltodayskin||"-kony-w-c-today-";b.doneButtonSkin=b.doneButtonSkin||"-k-w-c-cancel-cal-";b.monthHeaderSkin=b.monthHeaderSkin||" -kony-w-c-yemo-skin";b.dayHeaderSkin=b.dayHeaderSkin||" -kony-w-c-day-label-cell";if(b.allowWeekendSelectable==d){b.allowWeekendSelectable=b.allowweekendselectable}var a,g;if(c.startdate){a=c.startdate[2+IndexJL];g=c.startdate[1+IndexJL]}var g=c.year||g||new Date().getFullYear(),e=c.month||a||new Date().getMonth()+1;c.displayedMonths=c.displayedMonths||[e,g];c.dayTextAlignmentInCell=c.dayTextAlignmentInCell||"CONTENT _ALIGN_CENTER";if(c.year){var f=c.year.toString();if(f.length>4){c.year=f.substr(f.length-4)*1}}c.navigatorAlert=$KG.i18nArray&&$KG.i18nArray["gridCalAlertI18Nkey"]?kony.i18n.getLocalizedString("gridCalAlertI18Nkey"):(c.navigatorAlert||"Invalid Selection")},dayTextAlignmentInCell:function(b){b=b.toLowerCase().split("_");var a={};a["vertical-align"]=(b[2]&&b[2]=="center"?"middle":b[2])||"middle";a["text-align"]=b[3]||"center";return a},addClass:function(a,b){if(!this.hasClass(a,b)){a.className=(a.className==="")?b:a.className+" "+b}},getByClass:function(b,a){return document.querySelectorAll("#"+b.id+" ."+a)},getBySele:function(b,a){return document.querySelectorAll("#"+b.id+" "+a)},removeClass:function(a,b){a.className=this.trim((" "+a.className+" ").replace(" "+b+" "," "))},hasClass:function(a,b){return(" "+a.className+" ").indexOf(" "+b+" ")!==-1},trim:function(a){return a.trim?a.trim():a.replace(/^\s+|\s+$/g,"")},div:function(){var a=document.createElement("div");return a},updateMonthData:function(l,k,B,x,h,n,o){if(n==0){n=this.div();n.innerHTML=B;n=n.firstChild;document.body.appendChild(n);var s=0}var z=k.viewconfig.gridconfig||k.viewconfig.gridConfig||{},t=z.allowWeekendSelectable,w=0;this.addClass(n,z.gridSkin);var c=this.getBySele(n,".-kony-w-c-yemo")[0];if(k.hideMonthsHeader==true){c.style.display="none"}var g=this.getBySele(n,".-kony-w-c-daysHeader")[0];if(k.hideDaysHeader==true){g.style.display="none"}n.setAttribute("month",x[0]);n.setAttribute("year",x[1]);c.innerHTML=this.months[x[0]-1]+", "+x[1];this.addClass(c,z.monthHeaderSkin);c.setAttribute("k-w-c-id",o);for(var v=0;v<l.length;v++){var m=l[v],b=this.getBySele(n,"#-kony-w-c-cell-"+(v+1))[0];b.className="";var u=k.dayTextAlignmentInCell;var f=this.dayTextAlignmentInCell(u);b.style.textAlign=f["text-align"];b.style.verticalAlign=f["vertical-align"];if(typeof m=="number"){if(w==0){b.className=" -k-w-c-lastMonth "+z.gridCellInactiveDaysSkin;b.setAttribute("title","Previous month")}else{if(w==1){b.className=" -k-w-c-nextMonth "+z.gridCellInactiveDaysSkin;b.setAttribute("title","Next month")}}b.removeAttribute("kwidgettype");b.removeAttribute("k-w-c-hold-day");b.innerHTML=m}else{if(typeof m=="string"){b.innerHTML=m;b.setAttribute("role","option");if(m=="MON"||m=="SUN"){b.setAttribute("aria-label",m.toLowerCase()+"day")}else{if(m=="TUE"){b.setAttribute("aria-label","Tuesday")}else{if(m=="WED"){b.setAttribute("aria-label","Wednesday")}else{if(m=="THU"){b.setAttribute("aria-label","Thursday")}else{if(m=="FRI"){b.setAttribute("aria-label","Friday")}else{if(m=="SAT"){b.setAttribute("aria-label","Saturday")}}}}}}b.className+=" "+z.dayHeaderSkin}else{w=1;var p=new Date(m[1].y,m[1].m-1,m[1].d);if((m[2]==0||m[2]==6)&&(t==false)){b.className=" "+z.gridCellInactiveDaysSkin;b.innerHTML=$KG.i18nArray["platform.calendar."+m[0]]?$KG.i18nArray["platform.calendar."+m[0]]:m[0];b.removeAttribute("kwidgettype")}else{b.setAttribute("k-w-c-id",o);b.setAttribute("kwidgettype","Calendar");b.setAttribute("weekday",m[2]);b.className+=" -k-w-c-weekday-"+m[2]+" -kony-w-c-day-";b.setAttribute("k-w-c-hold-day",(m[1].d+","+m[1].m+","+m[1].y));b.innerHTML=$KG.i18nArray["platform.calendar."+m[0]]?$KG.i18nArray["platform.calendar."+m[0]]:m[0];var a=this.dateFormatter("dddd, do mmmm yyyy",[m[1].d,m[1].m,m[1].y]);b.setAttribute("role","option");var e=a.string.split(",")[1];e=e.trim().split(" ");e=e[0]+" "+$KW.Calendar.__dp.months[k.month?(k.month)-1:new Date().getMonth()]+" "+e[2];b.setAttribute("aria-label",e)}}}}var d=$KU.getImageURL("sprite.png");var y=$KU.getImageURL("left-arrow.png");var A=$KU.getImageURL("right-arrow.png");if(h[0]==1){var i=this.getByClass(n,"-kony-w-c-prev-nav")[0];if(z.leftNavigationImage||z.leftnavigationimage){var C="<img class='-kony-w-c-prev-nav-left-img' style='width:50%;height:50%' kwidgettype='Calendar' />";i.innerHTML=C;var r=z.leftNavigationImage?z.leftNavigationImage:z.leftnavigationimage;i.firstChild.src=$KU.getImageURL(r);i.firstChild.setAttribute("kformname",k.pf)}else{i.firstChild.setAttribute("src",y)}i.setAttribute("k-w-c-id",o);i.firstChild.setAttribute("k-w-c-id",o);i.setAttribute("kwidgettype","Calendar")}if(h[1]==1){var i=this.getByClass(n,"-kony-w-c-next-nav")[0];if(z.rightNavigationImage||z.rightnavigationimage){var C="<img class='-kony-w-c-next-nav-right-img' style='width:50%;height:50%' kwidgettype='Calendar' />";i.innerHTML=C;var q=z.rightNavigationImage?z.rightNavigationImage:z.rightnavigationimage;i.firstChild.src=$KU.getImageURL(q);i.firstChild.setAttribute("kformname",k.pf)}else{i.firstChild.setAttribute("src",A)}i.setAttribute("k-w-c-id",o);i.firstChild.setAttribute("k-w-c-id",o);i.setAttribute("kwidgettype","Calendar")}if(s==0){return n}else{return 0}},show:function(n,f,A,l){$KW.Calendar.initializeView();var p=n.tabpaneId;var G,F,D;this.invoked=this.invoked||{};if(l!=undefined||l!=null){this.invoked[l.id]=this.invoked[l.id]||{d:l,i:l.firstChild.id,s:""}}else{alert(n.navigatorAlert);return false}if(n.startdate){G=n.startdate[0+IndexJL];F=n.startdate[1+IndexJL];D=n.startdate[2+IndexJL]}var q=n.year||D||new Date().getFullYear(),j=n.month||F||new Date().getMonth()+1,g=n.monthsinrow,L=n.noofmonths,K=[],c=n.popupHeight||"300px",b=n.popupWidth||"300px";if(f&&f[0]&&!A){var a=true}f=f||this.series(q,j,L);n.widths=n.widths||["14.2857%;","14.2857%;","14.2857%;","14.2857%;","14.2857%;","14.2857%;","14.2857%;"];var H="";var d=this.template(n.widths,c,b,n);var m=document.getElementById(l.id+"-k-w-c-datepicker")||this.div();if(m.id==""){if(n.title){var u=document.createElement("div");u.className="-k-w-c-cal-title";u.id="-k-w-c-cal-title";u.setAttribute("w-type","Calendar");u.innerHTML=n.title;m.appendChild(u)}m.id=l.id+"-k-w-c-datepicker"}m.setAttribute("w-type","Calendar");this.invoked[l.id].s="active";var M=l.id+"-k-w-c-datepicker";var o=this.getByClass(m,"-kony-w-c-popup-container");n.displayedMonths=[f[0][0],f[0][1]];for(var N=0;N<n.noofmonths;N++){var w=[(N===0?1:0),(N===(n.noofmonths-1)?1:0)];var v=this.month(f[N][0],f[N][1],n.startDay);var C=("-k-w-c-month-cmp-"+f[N][0]+"-"+f[N][1]);if(o[N]){o[N].id=C}d=d.replace("{{id}}",C);var e=this.updateMonthData(v,n,d,f[N],w,o[N]||0,l.id);if(e!=0){m.appendChild(e)}}if(a==true){this.applySkins(n);return}m.className="-k-w-c-datepicker-holder-main";var t=this.getOffset(l.id);m.style.position="absolute";m.style.border="1px solid #CCC";var J=document.createElement("div");var h=$KG.i18nArray&&$KG.i18nArray["gridCalCloseI18Nkey"]?kony.i18n.getLocalizedString("gridCalCloseI18Nkey"):"Close";J.innerHTML="<a href='#' class='-k-w-c-close-picker' id='calendar_close_link' kformname='"+n.pf+"' kwidgettype='Calendar' "+(p?"ktabpaneid='"+p+"' ":"")+" style='float:right;color:red'>"+h+"</a>";J.setAttribute("w-type","Calendar");J.firstChild.setAttribute("k-w-c-id",l.id);m.appendChild(J);m.style.zIndex="1234";if($KU.isMobile()==true){m.setAttribute("dummy","a");m.style.display="none";var P=m.id;document.getElementById("__MainContainer").appendChild(m);var B=document.getElementById(P);B.style.display="inline-block";this.reposition(1);var r=document.createElement("div");r.className="k-w-c-scrim-for-popup";var O=document.body;var k;if(document.height!=undefined){k=document.height}else{if(O.scrollHeight!=undefined&&O.offsetHeight!=undefined){if(!kony.appinit.isWindowsPhone){k=Math.max(O.scrollHeight,O.offsetHeight)}else{k=100}}else{k=O.scrollHeight||O.offsetHeight}}if(!kony.appinit.isWindowsPhone){r.innerHTML="<div style='height:"+k+"px;width:100%;opacity:0;line-height:100%'>&nbsp;</div>"}else{r.innerHTML="<div style='height:"+k+"%;width:100%;opacity:0;line-height:100%'>&nbsp;</div>";r.style.height="100%"}r.style.position="absolute";r.style.top=r.style.left="0px";r.style.width="100%";r.style.zIndex="1230";document.getElementById("__MainContainer").appendChild(r);if(n.context){var s=$KU.getAnchorPosition(n,m);m.style.top=s.topPos+"px";m.style.left=s.leftPos+"px"}}else{var I=document.getElementById("__MainContainer");I.appendChild(m);m.style.display="inline-block";var Q=window.innerHeight||document.documentElement.clientHeight;m.style.top=t[1]+l.offsetHeight+"px";m.style.left=(((window.innerWidth||document.documentElement.clientWidth)-m.clientWidth)/2)+"px";var C=m.id;m=document.getElementById(C)}this.active=M;this.applySkins(n)},applySkins:function(d){var k=document.querySelectorAll("#"+this.active+" [k-w-c-hold-day]");var t=d.viewconfig.gridconfig||d.viewconfig.gridConfig||{};if(d.day!=0){var o=new Date(d.year,d.month-1,d.day)}for(var q=0;q<k.length;q++){today=new Date();var j=k[q].getAttribute("k-w-c-hold-day").split(","),b=k[q];var p=new Date(j[2],j[1]-1,j[0]);var l=b.getAttribute("weekday")*1;if(o&&o.setHours(0,0,0,0)==p.setHours(0,0,0,0)){this.addClass(b,t.gridCellSelectedSkin)}else{if(p.setHours(0,0,0,0)==today.setHours(0,0,0,0)){this.addClass(b,t.gridCellTodaySkin);this.removeClass(b,t.gridCellSkin)}else{if(l==0||l==6){this.addClass(b,t.gridCellWeekendSkin)}else{this.addClass(b,t.gridCellSkin)}}}var s=b.getAttribute("k-w-c-hold-day").split(",");if(d.startdate){var f=new Date(d.startdate[2+IndexJL],d.startdate[1+IndexJL]-1,d.startdate[0+IndexJL]).setHours(0,0,0,0)}if(d.enddate){var e=new Date(d.enddate[2+IndexJL],d.enddate[1+IndexJL]-1,d.enddate[0+IndexJL]).setHours(0,0,0,0)}var m=p.setHours(0,0,0,0),n=0;if((f&&f!==0)&&(e&&e!==0)){if(m<f||m>e){n=1}}else{if(!f&&e){if(m>e){n=1}}else{if(!e&&f){if(m<f){n=1}}}}if(n==1){b.setAttribute("kwidgettype","DisabledCal");b.className=t.gridCellInactiveDaysSkin;b.removeAttribute("kwidgettype");b.removeAttribute("k-w-c-hold-day")}if(d.datesGroupSimplified){var h=d.datesGroupSimplified;if(d.datesState==0&&h.length>0){if(h.indexOf(m)>-1){b.setAttribute("kwidgettype","DisabledCal");b.className=t.gridCellInactiveDaysSkin;b.removeAttribute("kwidgettype");b.removeAttribute("k-w-c-hold-day")}}if(d.datesState==1&&h.length>0){if(h.indexOf(m)<=-1){n=1;b.setAttribute("kwidgettype","DisabledCal");b.className=t.gridCellInactiveDaysSkin;b.removeAttribute("kwidgettype");b.removeAttribute("k-w-c-hold-day")}else{this.removeClass(b,t.gridCellWeekendSkin);this.removeClass(b,t.gridCellSkin);if(!this.hasClass(b,t.gridCellSelectedSkin)&&!this.hasClass(b,t.gridCellTodaySkin)){this.addClass(b,d.datesGroupSkin)}}}}if(d.specialDates){for(var c in d.specialDates){var g=d.specialDates[c];if(g){for(var r=0+IndexJL;r<g.length;r++){if(g[r]){var a=new Date(g[r][2+IndexJL],g[r][1+IndexJL]-1,g[r][0+IndexJL]).setHours(0,0,0,0);if(new Date(s[2],s[1]-1,s[0]).setHours(0,0,0,0)==a){this.removeClass(b,t.gridCellWeekendSkin);this.removeClass(b,t.gridCellSkin);this.removeClass(b,d.datesGroupSkin);if(!this.hasClass(b,t.gridCellSelectedSkin)&&!this.hasClass(b,t.gridCellTodaySkin)){this.addClass(b,c)}}}}}}}}},between:function(e,d){function b(f,h){var g=new Date(f.valueOf());g.setDate(g.getDate()+h);return g}var c=new Array();var a=e;while(a<=d){c.push(new Date(a).setHours(0,0,0,0));a=b(a,1)}return c},reposition:function(b){var c=document.querySelectorAll(".-k-w-c-datepicker-holder-main")[0];if(c){var e=c.clientHeight;var d=window.innerWidth||document.documentElement.clientWidth;var g=(window.pageYOffset+((window.innerHeight-e)/2));c.style.left="0px";var f=((d-c.clientWidth)/2);if((f*2+c.clientWidth)>d){f=0}c.style.top=(g>0?g:0)+"px";c.style.left=f+"px";if(b!=1){c.innerHTML=c.innerHTML}}},getDat:function(c,b){if(!c){return}var e=(b.dateformat||b.format).toLowerCase().replace(/^\s+|\s+$/g,"").split("/"),a={};c=c.split("/");for(var d=0;d<e.length;d++){a[e[d]]=c[d]}return a},series:function(e,d,c){e=parseInt(e,10);d=parseInt(d,10);var b=[[d,e]];for(var a=0;a<c-1;a++){if(d+1>12){d=1;e+=1;b.push([d,e])}else{d+=1;b.push([d,e])}}return b},destroyCalendar:function(e){if(!e){var d=document.querySelectorAll(".-k-w-c-datepicker-holder-main,.k-w-c-scrim-for-popup");for(var c=0,a=d.length;c<a;c++){d[c].parentNode.removeChild(d[c])}}else{var d=document.querySelectorAll(".k-w-c-scrim-for-popup")[0];var b=document.getElementById(this.active);b&&b.parentNode.removeChild(b);d&&d.parentNode.removeChild(d)}},month:function(s,h,r,q){var c=new Date(h,s-1,1).getDay(),d=[],n=1,b=new Date(h,s,0).getDate();var o,k={},l={},e=0,f=0,g;g=s==1?this.series(h-1,12,3):this.series(h,s-1,3);k.month=g[0][0];k.year=g[0][1];l.month=g[2][0];l.year=g[2][1];var t=new Date(k.year,k.month,0).getDate(),a=new Date(l.year,l.month,0).getDate();r=r||0;if(r>c){r-=7}for(var p=0;p<=6;p++){d.push(this.days[(p+r+7)%7])}for(var p=0;p<6;p++){for(var m=0;m<=6;m++){if(n<=b&&(p>0||m+r>=c)){d.push([n,{d:n,y:h,m:s},new Date(h,s-1,n).getDay()]);n++;o=1}else{if(o){d.push(0);f+=1}else{d.push(-1);e+=1}}}}for(p=0;p<d.length;p++){if(d[p]==0){d[p]=o;o++}else{if(d[p]==-1){d[p]=t-e+1;e--}}}return d},chunks:function(c,b){var a=[];while(c.length){a.push(c.splice(0,b))}return a},getOffset:function(a){var c=document.getElementById(a),b=$KU.getPosition(c);return[b.left,b.top]},setDisable:function(c,b,a){c.datesGroup=[b+"-"+a];c.dateState=0},setEnable:function(c,b,a){c.datesGroup=[b+"-"+a];c.dateState=0},dateFormatter:function(A,F,D,J){var y=function(e){return e.replace(/ +(?= )/g,"").replace(/^\s+|\s+$/g,"").replace(/[^a-zA-Z0-9]/g,"_").replace(/_+(?=_)/g,"").split("_")},l=["January","February","March","April","May","June","July","August","September","October","November","December"],f=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],h=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],H=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],w,I,o,p={};if(D&&A){D=y(D);var a=y(A.toLowerCase());if(a.length!=D.length){return false}for(var t=0,s=a.length;t<s;t++){p[a[t]]=D[t]}for(var x in p){if(p.hasOwnProperty(x)){switch(x){case"mmm":I=f.indexOf(p[x])+1;if(I==0){return false}break;case"mmmm":I=l.indexOf(p[x])+1;if(I==0){return false}break;case"mm":I=p[x]*1;if(I<1||I>12){return false}break;case"dd":w=p[x]*1;if(w<=0){return false}break;case"do":w=parseInt(p[x],10);if(w<=0){return false}break;case"yy":case"yyyy":if(p[x]!=""){o=(""+p[x]).length>2?(p[x]*1):(p[x]*1+((Math.floor(J/100)*100)||2000))}else{o=(""+p[x]).length>2?(p[x]*1):(p[x]*1+(new Date().getFullYear()))}if(o>2099||o<1900){return false}break}}}var d=1;var C=new Date(o,I-1,w||d);if(Object.prototype.toString.call(C)==="[object Date]"){if((C.getFullYear()==o)&&(C.getMonth()+1==I)&&(C.getDate()==(w||d))){F=[w||d,I,o]}else{return false}}}else{if(F){try{for(var u=0;u<3;u++){F[u]=+F[u]}}catch(B){console.log(B)}}}if(!A||!F){return false}A=""+A.toLowerCase().replace(/ +(?= )/g,"").replace(/^\s+|\s+$/g,"");var k=new Date(F[2],F[1]-1,F[0]),z=F[1]<=9?"0"+F[1].toString():F[1],b=f[F[1]-1],j=l[F[1]-1],r=(F[2]+"").substring(2,4),q=F[2],G=(F[0]>=1&&F[0]<10?"0"+F[0].toString():F[0]),g=h[k.getDay()],c=H[k.getDay()],v=F[0]+((F[0]<=20)&&F[0]>=10?"th":["st","nd","rd"][(F[0]%10)-1]||"th");return{date:F,string:A.replace("dddd",c).replace("mmmm",j).replace("mmm",b).replace("mm",z).replace("ddd",g).replace("dd",G).replace("yyyy",q).replace("yy",r).replace("do",v)}}};$KW.Calendar.Popupview={calObj:null,showCalenderPopup:function(n,r,h,o,u,B,b,z,m,a,v,p,f,d,w){if(this.calObj){this.calObj.destroyCalendar()}this.calObj=$KW.Calendar.Popupview.calendarObject;this.calObj.eid=r;this.calObj.mindate=b;this.calObj.maxdate=z;this.calObj.months=m;this.calObj.weekdays=a;this.calObj.calendarenableddates=v;this.calObj.calendarskin=p;this.calObj.enabledisableflag=f;this.calObj.enabledstartdate=d;this.calObj.enabledenddate=w;if(d!=null){var k=this.calObj.enabledstartdate.split("/");this.calObj.enabledstartdate=new Date(k[1]+"/"+k[0]+"/"+k[2])}if(w!=null){var g=this.calObj.enabledenddate.split("/");this.calObj.enabledenddate=new Date(g[1]+"/"+g[0]+"/"+g[2])}if(v!=null){var e=[];for(var y=IndexJL;y<(v.length);y++){var t=v[y];if(t){e.push($KW.Calendar.ideDateToString(t))}}for(var x=0;x<e.length;++x){var A=e[x];var l=A.split("/");e[x]=new Date(l[1]+"/"+l[0]+"/"+l[2])}this.calObj.calendarenableddates=e}if(B&&B!=""){this.calObj.title=B}this.calObj.createCalendar(n);var s=document.getElementById("container_c");s.style.zIndex=s.style.zIndex+1;var c=document.getElementById("_yuiResizeMonitor");if(c){c.setAttribute("dummy","a")}s.setAttribute("dummy","a");this.calObj.dialog.cfg.setProperty("context",[document.getElementById(r)],true);if(n.datecomponents){n.pagedate=n.datecomponents[IndexJL+1]+"/"+n.datecomponents[IndexJL+2];n.selectdate=n.datecomponents[IndexJL+1]+"/"+n.datecomponents[IndexJL+0]+"/"+n.datecomponents[IndexJL+2]}if(n.selectdate){this.calObj.calendar.cfg.setProperty("pagedate",n.pagedate);this.calObj.calendar.cfg.setProperty("selected",n.selectdate)}this.calObj.calendar.cfg.setProperty("enabledisableflag",this.calObj.enabledisableflag);if(this.calObj.calendarskin){this.calObj.calendar.cfg.setProperty("calendarskin",this.calObj.calendarskin)}if(this.calObj.enabledstartdate){this.calObj.calendar.cfg.setProperty("enabledstartdate",this.calObj.enabledstartdate);this.calObj.calendar.cfg.setProperty("enabledenddate",this.calObj.enabledenddate)}else{if(n.issetDateskin){this.calObj.calendar.cfg.setProperty("enabledisableflag",true);this.calObj.calendar.cfg.setProperty("enableskindatesarray",this.calObj.calendarenableddates)}else{this.calObj.calendar.cfg.setProperty("enableddatesarray",this.calObj.calendarenableddates)}}this.calObj.calendar.render();var q=this.calObj.dialog.element.offsetWidth;this.calObj.dialog.moveTo(0,u+5);s.style.left="50%";s.style.marginLeft=-(q/2)+"px";this.calObj.showBtn="show"+r;this.calObj.dialog.show();this.calObj.addCloser()}};$KW.Calendar.DateFormater={DD:"dd",MM:"MM",mm:"mm",yyyy:"yyyy",yy:"yy",separator_:"-",seperator:"/",cseperator:"/",dateformat:"MM/dd/yyyy",setformat:function(a){this.dateformat=a},format:function(c,b){if(b){this.dateformat=b}var h=this.formatArray();var f=null,g=null;var a="";for(var e=0,d=h.length;e<d;e++){f=h[e];g="00";switch(f){case this.DD:g=c.getDate();break;case this.mm:case this.MM:g=c.getMonth()+1;break;case this.yyyy:g=c.getFullYear();break;case this.yy:g=c.getYear()-100;break}if(g<10){g="0"+g}a=a+g+this.cseperator}return a.substr(0,a.length-1)},formatArray:function(){var a=null;if(this.dateformat!=null){a=this.dateformat.split(this.seperator);if(!a||a.length==1){a=this.dateformat.split(this.seperator_);this.cseperator=this.seperator_}}return a},convertToModelDate:function(e,b){var f=null;var a=null;var d=new Array();var c={};if(IndexJL){d[0]=null}if(b!=null&&e){f=b.split(this.seperator);if(e instanceof Array){if(IndexJL){e.shift()}a=e}else{a=e.split(this.seperator)}if(f[0]==="dd"){d[IndexJL]=a[0];c.day=a[0];d[1+IndexJL]=a[1];c.month=a[1];d[2+IndexJL]=a[2];c.year=a[2]}else{d[IndexJL]=a[1];c.month=a[1];d[1+IndexJL]=a[0];c.day=a[0];if(f[2]==="yyyy"){d[2+IndexJL]=a[2];c.year=a[2]}else{if(a[2].length>3){d[2+IndexJL]=a[2].substring(2,4);c.year=a[2]}else{d[2+IndexJL]=a[2];c.year=a[2]}}}}c.date=d;c.dateText=d[IndexJL]+this.seperator+d[1+IndexJL]+this.seperator+d[2+IndexJL];c.selectdate=c.month+this.seperator+c.day+this.seperator+c.year;c.pagedate=c.month+this.seperator+c.year;return c}};$KW.Calendar.Popupview.calendarObject={dialog:null,calendar:null,eid:null,title:null,showBtn:"showCal",mindate:null,maxdate:null,calId:"calContainer",closeCalendar:function(g,d){if(g){var b=YAHOO.util.Event.getTarget(g)}var a=$KW.Calendar.Popupview.calObj;var h=YAHOO.util.Dom.get(a.calId);if(d||(b!=h&&!YAHOO.util.Dom.isAncestor(h,b)&&b!=YAHOO.util.Dom.get(a.showBtn)&&!YAHOO.util.Dom.isAncestor(YAHOO.util.Dom.get(a.showBtn),b))){a.dialog.hide();a.removeCloser();var c=document.getElementById("container_c");var f=document.getElementById("_yuiResizeMonitor");c&&c.parentNode.removeChild(c);f&&f.parentNode.removeChild(f)}},addCloser:function(){YAHOO.util.Event.on(document,"click",this.closeCalendar)},removeCloser:function(){YAHOO.util.Event.removeListener(document,"click",this.closeCalendar)},createCalendar:function(b){if(!this.dialog){this.dialog=new YAHOO.widget.Dialog("container",{visible:true,width:100,draggable:false,buttons:[{text:"Close",handler:this.closeCalendar}],iframe:false,close:false});this.dialog.setBody('<div id="'+this.calId+'"></div>');this.dialog.render(document.body)}if(!this.calendar){var a=new Object();a.iframe=false;a.hide_blank_weeks=true;a.close=false;if(this.title){a.title=this.title}if(this.mindate){a.mindate=this.mindate}if(this.maxdate){a.maxdate=this.maxdate}if(this.months){a.months_long=this.months}if(this.weekdays){a.locale_weekdays="long";a.weekdays_long=this.weekdays}else{a.locale_weekdays="1char"}this.calendar=new YAHOO.widget.Calendar(this.calId,a);this.calendar.render();this.calendar.selectEvent.subscribe(function(l){var f=$KW.Calendar.Popupview.calObj;var c=YAHOO.util.Dom.get(f.eid);var g=$KW.Calendar.DateFormater;if(f.calendar.getSelectedDates().length>0){var j=f.calendar.getSelectedDates()[0];var i=g.format(j,"dd/mm/yyyy");var n=g.convertToModelDate(i,"dd/mm/yyyy");if(!b){b=kony.model.getWidgetModel(c.getAttribute("kformname"),$KU.getElementID(c.id),c.getAttribute("ktabpaneid"))}b.luadate=n.date;var o=g.convertToModelDate(b.luadate,b.format);b.selectdate=o.selectdate;b.pagedate=o.pagedate;c.setAttribute("value",o.dateText);c.value=o.dateText;b.entereddate=o.dateText;b.day=parseInt(o.day,10);b.month=parseInt(o.month,10);b.year=parseInt(o.year,10);b.hour=b.minutes=b.seconds=0;if(!b.datecomponents){b.datecomponents=[]}b.datecomponents[IndexJL+0]=b.day;b.datecomponents[IndexJL+1]=b.month;b.datecomponents[IndexJL+2]=b.year;b.datecomponents[IndexJL+3]=b.hour;b.datecomponents[IndexJL+4]=b.minutes;b.datecomponents[IndexJL+5]=b.seconds;$KW.Calendar.updateCalDOMNode(b,true);var m=c.parentNode;if(m.getAttribute("kcontainerID")){$KW.Utils.updateContainerData(b,m,false,true)}}else{c.value=""}f.dialog.hide();var d=document.getElementById("container_c");var h=document.getElementById("_yuiResizeMonitor");d&&d.parentNode.removeChild(d);h&&h.parentNode.removeChild(h);var k=$KU.returnEventReference(b.ondone||b.onselection);k&&k.call(b,b)});this.calendar.renderEvent.subscribe(function(){$KW.Calendar.Popupview.calObj.dialog.fireEvent("changeContent")})}},destroyCalendar:function(){this.dialog=undefined;this.calendar=undefined;this.title=null}};$KW.Calendar.Util={isValidDate:function(a,g,c){var f=false;var b=new Date();try{b.setFullYear(c,g,a);if(b.getDate()==a&&b.getMonth()==g&&b.getFullYear()==c){f=true}}catch(d){f=false}return f},daysInMonth:function(c,b){var a=new Date(b,c,0);return a.getDate()}};
$KW.Slider={initialize:function(){kony.events.addEvent("onorientationchange","Slider",$KW.Slider.changeOrientation)},initializeView:function(d){var a=document.querySelectorAll("#"+d+" img[kwttype ='kSlider']");for(var b=0;b<a.length;b++){this.attachSliderEvents(a[b])}var c=document.querySelectorAll("#"+d+" div[kwttype ='kSlider']");for(var b=0;b<c.length;b++){kony.events.addEventListener(c[b],"click",$KW.Slider.slideClick)}},attachSliderEvents:function(a){kony.events.addEventListener(a,"touchstart",$KW.Slider.sliderStart);kony.events.addEventListener(a,"mousedown",$KW.Slider.sliderStart)},updateView:function(e,c,b,a){var d=$KU.getNodeByModel(e);if(!d){return}switch(c){case"text":d.value=b;break;case"isvisible":d.value=b;break;case"leftskin":e.leftskin=b;$KU.removeClassName(d,a);$KU.addClassName(d,b);break;case"rightskin":e.rightskin=b;$KU.removeClassName(d.parentNode,a);$KU.addClassName(d.parentNode,b);break;case"thumbimage":d.childNodes[0].src=$KU.getImageURL(b);d.childNodes[0].setAttribute("thumbimage",$KU.getImageURL(b));break;case"focusthumbimage":d.childNodes[0].setAttribute("focusimage",$KU.getImageURL(b));break;case"selectedvalue":$KW.Slider.sliderUpdate(d,b);break;case"containerweight":this.imgLoad(d.firstChild);break}},render:function(e,a){if(!e.buiskin){e.buiskin=e.blockeduiskin}var f="";e.thickness=e.thickness||$KU.isIDevice&&2||5;var j=e.leftskin||e.leftSkin||"konysliderleft";var g=e.rightskin||e.rightSkin||"konysliderright";if(!e.isvisible){g=g+" hide"}var i=e.max-e.min;var c=$KU.getImageURL(e.thumbimage)||$KU.getImageURL("slider.png");var h=$KU.getImageURL(e.focusthumbimage)||$KU.getImageURL("sliderfocus.png");var b=e.minlabel||"";var d=e.maxlabel||"";e.view=e.view||"default";e.orientation=e.orientation||"horizontal";if(e.orientation=="horizontal"){f+="<div tabindex='0'style=\" "+$KW.skins.getMarginSkin(e,a)+'" class = "'+$KW.skins.getMarAdjustedContainerWeightSkin(e,100)+' ">';f+='<div min= "'+e.min+'" max="'+e.max+'" diff ="'+i+'" step ="'+e.step+'" kwttype ="kSlider" ';f+='id="'+e.pf+"_"+e.id+'_outer" class="'+g+'"  style=" height: '+e.thickness+'px;"';f+=' kformname="'+e.pf+'">';f+='<div role="slider" aria-valuenow="'+e.selectedvalue+'"  align="left"'+$KW.Utils.getBaseHtml(e,a)+' class="'+j+'"';f+='style= "vertical-align:middle;  position: relative; ">';f+='<img onload = "$KW.Slider.imgLoad(this, false)" kwttype ="kSlider" kformname="'+e.pf+'" id ="'+e.pf+"_"+e.id+'_image" src ="'+c+'" thumbimage="'+c+'" focusimage ="'+h+'"style="  position: relative;  vertical-align:top;" ></img>';f+="</div></div>";if(e.isvisible){f+='<div style="margin-top: 10px; min-height:25px;" >';f+='<label style="float: left; "class="'+e.minlabelskin+'" >'+b+"</label>";f+='<label style="float: right; "class="'+e.maxlabelskin+'" >'+d+"</label>";f+="</div>"}f+="</div>"}else{f+='<div style="margin: 5%; width:90%;">';f+='<div min= "'+e.min+'" max="'+e.max+'" diff ="'+i+'" step ="'+e.step+'" kwttype ="kSlider" ';f+='id="'+e.pf+"_"+e.id+'_outer" class="'+g+'"  style="height: 150px; width: '+e.thickness+'px;"';f+=' kformname="'+e.pf+'">';f+='<div  align="left"'+$KW.Utils.getBaseHtml(e,a)+' class="'+j+'"';f+='style= "vertical-align:middle;  position: relative; ">';f+='<img onload = "$KW.Slider.imgLoad(this, false)" kwttype ="kSlider" kformname="'+e.pf+'" id ="'+e.pf+"_"+e.id+'_image" src ="'+c+'" thumbimage="'+c+'" focusimage ="'+h+'"style="  position: relative;  vertical-align:top;"></img>';f+="</div></div>";if(e.isvisible){f+='<div style="margin-top: 15px;" >';f+='<label style="float: left; "class="'+e.minlabelskin+'" >'+b+"</label>";f+='<label style="float: right; "class="'+e.maxlabelskin+'" >'+d+"</label>";f+="</div>"}f+="</div>"}e.context=a;return f},completeMove:function(c){if(!c){c=window.event}kony.events.preventDefault(c);var b=kony.globals.__activeSlider;var m=b.split("_");b=m[0]+"_"+m[1];var h=document.getElementById(b);var n=$KU.getModelByNode(h);var j=c.touches&&c.touches[0]||c;var o=h.firstChild;var l=h.parentNode;o.src=o.getAttribute("focusimage");if(n.orientation=="horizontal"){var f=o.offsetWidth/2;var g=(j.pageX||j.clientX)-f;var k=l.offsetWidth;var i=$KW.Utils.getOffset(l).left-f;if(g<(i)){g=i}if(g>=(k+i)){g=k+i}var d=Math.round((g-i)/n.stepwidth);if(d*n.step<=(n.max-n.min)){n.selectedvalue=n.min+(d*n.step);var a=Math.round(d*n.stepwidth);h.style.width=(f+a)+"px";o.style.left=(a-f)+"px"}else{n.selectedvalue=n.max;h.style.width=(k+f)+"px";o.style.left=(k+f)+"px"}}else{var f=o.offsetHeight/2;var g=(j.pageY||j.clientY)-f;var k=l.offsetHeight;var i=$KW.Utils.getOffset(l).top-f;if(g<(i)){g=i}if(g>=(k+i)){g=k+i}var d=Math.round((g-i)/n.stepwidth);if(d*n.step<=(n.max-n.min)){n.selectedvalue=n.min+(d*n.step);var a=Math.round(d*n.stepwidth);h.style.height=(f+a)+"px";o.style.top=(a-f)+"px"}}if(n.view!="progress"){var e=$KU.returnEventReference(n.onslide);if(e){e.call(n,n,n.selectedvalue)}}},sliderStart:function(b){if(!b){b=window.event}var c=b.target||b.srcElement;kony.globals.__activeSlider=c.parentNode.id;var a=$KU.getModelByNode(c.parentNode);if(a.disabled!=true){kony.events.addEventListener(document,"mousemove",$KW.Slider.completeMove);kony.events.addEventListener(document,"mouseup",$KW.Slider.completeEnd);kony.events.addEventListener(document,"touchmove",$KW.Slider.completeMove);kony.events.addEventListener(document,"touchend",$KW.Slider.completeEnd);kony.events.preventDefault(b)}},completeEnd:function(a){if(!a){a=window.event}var b=a.target||a.srcElement;kony.events.removeEventListener(document,"mousemove",$KW.Slider.completeMove);kony.events.removeEventListener(document,"touchmove",$KW.Slider.completeMove);$KW.Slider.sliderEnd(a)},slideClick:function(b){if(!b){b=window.event}var c=b.target||b.srcElement;kony.globals.__activeSlider=c.id;if(!c.firstChild){return}var a=$KU.getModelByNode(c.firstChild)||$KU.getModelByNode(c);if(a.disabled!=true&&a&&a.view!="progress"){console.log(c.id);kony.events.addEventListener(c,"click",$KW.Slider.completeMove)}},sliderEnd:function(e){if(!e){e=window.event}var g=kony.globals.__activeSlider;if(g==undefined){return}var d=g.split("_");g=d[0]+"_"+d[1];var c=document.getElementById(g);if(c==undefined){return}kony.events.removeEventListener(document,"mouseup",$KW.Slider.completeEnd);kony.events.removeEventListener(document,"touchend",$KW.Slider.completeEnd);var b=$KU.getModelByNode(c);if(b.view!="progress"){var a=$KU.returnEventReference(b.onselection);if(a){a.call(b,b)}}var f=c.firstChild;f.src=f.getAttribute("thumbimage");return},changeOrientation:function(c){var a=document.querySelectorAll("img[kwttype ='kSlider']");for(var b=0;b<a.length;b++){$KW.Slider.imgLoad(a[b])}},imgLoad:function(g){var f=g.parentNode.parentNode;var e=$KU.getModelByNode(g.parentNode);if(!e){return}if($KU.isAndroid&&window.event&&window.event.type=="load"&&f.offsetWidth==0){return}if(e.view=="progress"){g.style.display="none"}var h=(e.max-e.min)/e.step;if(e.orientation=="horizontal"){var d=g.offsetHeight-e.thickness;var b=g.width;g.style.top=(-(d)/2)+"px";if(e.view=="progress"){g.parentNode.style.width=0+"px"}else{g.parentNode.style.width=(b/2)+"px"}g.parentNode.style.height=e.thickness+"px";var a=f.offsetWidth}else{var d=g.height;var b=g.offsetWidth-e.thickness;g.style.left=-((b)/2)+"px";if(e.view=="progress"){g.parentNode.style.height="0px"}else{g.parentNode.style.height=(d/2)+"px"}g.parentNode.style.width=e.thickness+"px";var a=f.offsetHeight}var c=a/h;e.noofsteps=h;e.stepwidth=c;e.imgwt=b;if(e.selectedvalue>0){$KW.Slider.sliderLoad(g.parentNode)}},sliderLoad:function(a){var e=500;var i=$KU.getModelByNode(a);var j=a.firstChild;if(i.orientation=="horizontal"){var c=j.offsetWidth/2;var h=a.parentNode;var g=h.offsetWidth;var f=$KW.Utils.getOffset(h).left-c;var b=i.selectedvalue-i.min;var d=(b*i.stepwidth)/i.step;if(i.view=="progress"){if(kony.appinit.useTransition){a.style[vendor+"Transition"]="width "+e+"ms ease";a.style.width=(d+c)+"px"}else{$(a).animate({width:(d+c)+"px"},e)}}else{a.style.maxWidth=a.parentNode.parentNode.offsetWidth+"px";a.style.width=(d+c)+"px"}j.style.left=(d-c)+"px"}else{var c=j.offsetHeight/2;var h=a.parentNode;var g=h.offsetHeight;var f=$KW.Utils.getOffset(h).top-c;var b=i.selectedvalue-i.min;var d=(b*i.stepwidth)/i.step;if(i.view=="progress"){if(kony.appinit.useTransition){a.style[vendor+"Transition"]="height "+e+"ms ease";a.style.height=(d+c)+"px"}else{$(a).animate({height:(d+c)+"px"},e)}}else{a.style.height=(d+c)+"px"}j.style.top=(d-c)+"px"}},sliderUpdate:function(b,d){var a=$KU.getModelByNode(b);if(d>=a.max){d=a.max}if(d<=a.min){d=a.min}var c=d%a.step;if(c!=0){d=a.step*Math.round(d/a.step)}a.selectedvalue=d;$KW.Slider.sliderLoad(b)},adjustSliders:function(a){var b=document.querySelectorAll("#"+formId+" img[kwttype ='kSlider']");for(var c=0;c<sliderElements.length;c++){var d=sliderElements[c];$KW.Slider.imgLoad(d)}}};
kony.inherits=function(c,b){function a(){}a.prototype=b.prototype;c.prototype=new a();c.prototype.constructor=c;c.baseConstructor=b;c.superClass=b.prototype};kony.ui={Widget:function(c,b,a){if(arguments.length<3){throw new KonyError(101,"Error","Invalid number of arguments")}if(c.id===undefined||c.id===null||c.id===""){throw new KonyError(1102,"WidgetError","Widget cannot be created due to invalid input data.")}this.id=c.id;this.focusskin=c.focusSkin;this.isvisible=c.isVisible===undefined?true:(c.isVisible&&true);c.i18n_text&&(this.i18n_text=c.i18n_text);this.containerweight=b.containerWeight||0;this.contentalignment=b.contentAlignment;this.widgetalignment=b.widgetAlignment;this.marginInPixel=b.marginInPixel;this.paddingInPixel=b.paddingInPixel;this.blockeduiskin=a.blockedUISkin;this.enabled=false;this.canUpdateUI=true;this.onclick=c.onClick;this.accessibilityconfig=c.accessibilityConfig;defineGetter(this,"accessibilityConfig",function(){return this.accessibilityconfig});defineSetter(this,"accessibilityConfig",function(g){this.accessibilityconfig=g;kony.model.updateView(this,"accessibilityConfig",g)});var d=(!b.margin)?[0,0,0,0]:b.margin;defineGetter(this,"margin",function(){return d});defineSetter(this,"margin",function(g){d=g;$KU.isArray(g)&&kony.model.updateView(this,"margin",g)});var f=(!b.padding)?[0,0,0,0]:b.padding;defineGetter(this,"padding",function(){return f});defineSetter(this,"padding",function(g){f=g;$KU.isArray(g)&&kony.model.updateView(this,"padding",g)});var e=c.skin||"konycustomcss";defineGetter(this,"skin",function(){return e});defineSetter(this,"skin",function(h){var g=e;e=h;kony.model.updateView(this,"skin",h,g)});kony.ui.Widget.prototype.setGetterSetter.call(this)},ContainerWidget:function(c,b,a){kony.ui.ContainerWidget.baseConstructor.call(this,c,b,a);this.orientation=c.orientation||constants.BOX_LAYOUT_HORIZONTAL;this.percent=(b.percent===undefined)?true:b.percent;if(this.percent===false){this.widgetdirection=b.layoutAlignment}this.ownchildrenref=[];this.children=[]},GroupWidget:function(c,b,a){kony.ui.GroupWidget.baseConstructor.call(this,c,b,a);this.onselection=c.onSelection;this.masterdata=c.masterData;this.masterdatamap=c.masterDataMap;this.selectedkeyvalue=null;this.selectedkey=c.selectedKey||null;kony.ui.GroupWidget.prototype.setGetterSetter.call(this)}};kony.inherits(kony.ui.GroupWidget,kony.ui.Widget);kony.inherits(kony.ui.ContainerWidget,kony.ui.Widget);kony.ui.Widget.prototype.setVisibility=function(a){$KW.Widget.setvisibility(this,a)};kony.ui.Widget.prototype.setFocus=function(){$KW.Widget.setfocus(this)};kony.ui.Widget.prototype.setEnabled=function(a){$KW.Widget.setenabled(this,a)};kony.ui.Widget.prototype.setGestureRecognizer=function(c,b,a){return($KW.Widget.setgesturerecognizer(this,c,b,a))};kony.ui.Widget.prototype.removeGestureRecognizer=function(a){$KW.Widget.removegesturerecognizer(this,a)};kony.ui.Widget.prototype.toString=function(){return JSON.stringify(this)};kony.ui.Widget.prototype.setGetterSetter=function(){defineGetter(this,"contentAlignment",function(){return this.contentalignment});defineSetter(this,"contentAlignment",function(b){var a=this.contentalignment;this.contentalignment=b;kony.model.updateView(this,"contentalignment",b,a)});defineGetter(this,"containerWeight",function(){return this.containerweight});defineSetter(this,"containerWeight",function(b){var a=this.containerweight;this.containerweight=b;kony.model.updateView(this,"containerweight",b,a)});defineGetter(this,"focusSkin",function(){return this.focusskin});defineSetter(this,"focusSkin",function(b){var a=this.focusskin;this.focusskin=b;kony.model.updateView(this,"focusskin",b,a)});defineGetter(this,"isVisible",function(){return this.isvisible});defineSetter(this,"isVisible",function(a){this.isvisible=a;kony.model.updateView(this,"isvisible",a)});defineGetter(this,"blockedUISkin",function(){return this.blockeduiskin});defineSetter(this,"blockedUISkin",function(a){this.blockeduiskin=a});defineGetter(this,"onClick",function(){return this.onclick});defineSetter(this,"onClick",function(a){this.onclick=a})};kony.ui.ContainerWidget.prototype.add=function(a){containerWidgetExtendAdd.call(this,a)};kony.ui.ContainerWidget.prototype.addAt=function(b,a){containerWidgetExtendAddAt.call(this,b,a)};kony.ui.ContainerWidget.prototype.remove=function(a){containerWidgetExtendRemove.call(this,a)};kony.ui.ContainerWidget.prototype.removeAt=function(a){return containerWidgetExtendRemoveAt.call(this,a)};kony.ui.ContainerWidget.prototype.widgets=function(){return this.ownchildrenref};kony.ui.ContainerWidget.prototype.setparent=function(a){containerWidgetExtendSetParent.call(this,a)};kony.ui.ContainerWidget.prototype.createhierarchy=function(a){containerWidgetExtendCreateHierarchy.call(this,a)};kony.ui.ContainerWidget.prototype.removeReferences=function(a){containerWidgetExtendRemoveReferences.call(this,a)};kony.ui.GroupWidget.prototype.setGetterSetter=function(){defineGetter(this,"onSelection",function(){return this.onselection});defineSetter(this,"onSelection",function(a){this.onselection=a});defineGetter(this,"masterData",function(){return this.masterdata});defineSetter(this,"masterData",function(a){this.masterdata=a;$KW[this.wType]["updateView"](this,"masterdata",a)});defineGetter(this,"masterDataMap",function(){return this.masterdatamap});defineSetter(this,"masterDataMap",function(a){this.masterdatamap=a;$KW[this.wType]["updateView"](this,"masterdatamap",a)});defineGetter(this,"selectedKey",function(){return this.selectedkey});defineSetter(this,"selectedKey",function(a){this.selectedkey=a;$KW[this.wType]["updateView"](this,"selectedkey",a)});defineGetter(this,"selectedKeyValue",function(){return this.selectedkeyvalue});defineSetter(this,"selectedKeyValue",function(){})};_konyConstNS=IndexJL?konyLua:kony.ui;
kony.ui.Form2=function(c,b,a){kony.ui.Form2.baseConstructor.call(this,c,b,a);this.type=c.type;this.needAppMenu=this.needappmenu=c.needAppMenu===undefined?true:(c.needAppMenu&&true);this.enabledForIdleTimeout=this.enabledforidletimeout=c.enabledForIdleTimeout||a.enabledForIdleTimeout||false;this.headers=c.headers&&c.headers.splice(0);this.footers=c.footers&&c.footers.splice(0);this.addWidgets=c.addWidgets;this.onDestroy=c.onDestroy;this.init=c.init;this.preshow=c.preShow;this.postshow=c.postShow;this.onhide=c.onHide||a.onHide;this.onorientationchange=c.onOrientationChange;this.displayOrientation=b.displayOrientation||constants.FORM_DISPLAY_ORIENTATION_BOTH;this.resetFocusToTop=a.resetFocusToTop;this.useTransform=a.useTransform;this.retainScrollPosition=this.retainscrollposition=a.retainScrollPosition||false;this.dockableAppmenu=this.dockableappmenu=a.dockableAppmenu;this.dockableHeader=this.dockableheader=a.dockableHeader;this.dockableFooter=this.dockablefooter=a.dockableFooter;this.intransitionconfig=a.inTransitionConfig;this.outtransitionconfig=a.outTransitionConfig;this.allboxes=[];this.wType="Form";this.addWidgetsdone=this.initdone=false;this.name="kony.ui.Form2";$KG.allforms[this.id]=this;var e=c.title;defineGetter(this,"title",function(){return e});defineSetter(this,"title",function(f){e=f;$KW[this.wType]["updateView"](this,"title",f)});c.i18n_title&&(this.i18n_title=c.i18n_title);kony.ui.Form2.prototype.setGetterSetter();this.headers&&this.commonHeaderFooterSetup("headers");this.footers&&this.commonHeaderFooterSetup("footers");var d=c.addWidgets;defineGetter(this,"addWidgets",function(){return d});defineSetter(this,"addWidgets",function(f){d=f;this.addWidgetsdone=false});this.formgetter=function(){var g=c.id;var f=this;defineGetter(window,g,function(){if(!f.addWidgetsdone){f.addWidgetsdone=true;f.ownchildrenref=[];f.children=[];f.addWidgets&&f.addWidgets(f)}return f})};this.formsetter=function(){var g=c.id;var f=this;defineSetter(window,g,function(){return f})};this.formgetter();this.formsetter();this.ondeviceback=a.onDeviceBack;defineGetter(this,"onDeviceBack",function(){return this.ondeviceback});defineSetter(this,"onDeviceBack",function(f){this.ondeviceback=f})};kony.inherits(kony.ui.Form2,kony.ui.ContainerWidget);kony.ui.Form2.prototype.add=function(){var a=[].slice.call(arguments);formWidgetExtendAdd.call(this,a)};kony.ui.Form2.prototype.addAt=function(b,a){formWidgetExtendAddAt.call(this,b,a)};kony.ui.Form2.prototype.destroy=function(){this.onDestroy&&this.onDestroy(this);this.addWidgetsdone=false;this.initdone=false;this.ownchildrenref=[];this.children=[]};kony.ui.Form2.prototype.remove=function(a){formWidgetExtendRemove.call(this,a)};kony.ui.Form2.prototype.removeAt=function(a){return formWidgetExtendRemoveAt.call(this,a)};kony.ui.Form2.prototype.show=function(){if(!this.addWidgetsdone){this.addWidgetsdone=true;this.ownchildrenref=[];this.children=[];if(this.addWidgets){if(typeof this.addWidgets=="string"){window[this.addWidgets](this)}else{if(typeof this.addWidgets=="function"){this.addWidgets(this)}}}}if(this.name=="kony.ui.Form"){!this.masterdataloaddone&&this.masterdataload&&this.masterdataload.call(this);!this.transactionaldataloaddone&&this.transactionaldataload&&this.transactionaldataload.call(this);this.transactionaldataloaddone=this.masterdataloaddone=true}else{!this.initdone&&this.init&&this.init(this);this.initdone=true}$KU.setActiveInput();if($KU.isAndroid&&$KG.activeInput){$KU.hideKeyboard($KW.Form.show,this)}else{$KW.Form.show(this)}};kony.ui.Form2.prototype.scrollToWidget=function(a){$KW.Form.scrollToWidget(this,a)};kony.ui.Form2.prototype.scrollToBeginning=function(){$KW.Form.scrollToBeginning(this)};kony.ui.Form2.prototype.scrollToEnd=function(){$KW.Form.scrollToEnd(this)};kony.ui.Form2.prototype.widgets=function(){return kony.ui.ContainerWidget.prototype.widgets.call(this)};kony.ui.Form2.prototype.createFormLevelHierarchy=function(a){formWidgetExtendCreateFormLevelHierarchy.call(this,a)};kony.ui.Form2.prototype.commonHeaderFooterSetup=function(a){formWidgetExtendCommonHeaderFooterSetup.call(this,a)};kony.ui.Form2.prototype.setGetterSetter=function(){defineGetter(this,"preShow",function(){return this.preshow});defineSetter(this,"preShow",function(a){this.preshow=a});defineGetter(this,"postShow",function(){return this.postshow});defineSetter(this,"postShow",function(a){this.postshow=a});defineGetter(this,"onHide",function(){return this.onhide});defineSetter(this,"onHide",function(a){this.onhide=a});defineGetter(this,"onOrientationChange",function(){return this.onorientationchange});defineSetter(this,"onOrientationChange",function(a){this.onorientationchange=a});defineGetter(this,"inTransitionConfig",function(){return this.intransitionconfig});defineSetter(this,"inTransitionConfig",function(a){this.intransitionconfig=a});defineGetter(this,"outTransitionConfig",function(){return this.outtransitionconfig});defineSetter(this,"outTransitionConfig",function(a){this.outtransitionconfig=a})};kony.ui.Form2.getallboxes=function(a){var b=a;if(!(a instanceof Array)){b=[a]}formWidgetExtendGetAllBoxes.call(this,b)};kony.ui.Form2.addHeaderorFooter=function(){formWidgetExtendaddHeaderorFooter.call(this,arguments)};kony.ui.Form=function(c,b,a){kony.ui.Form.baseConstructor.call(this,c,b,a);this.transactionaldataload=c.transactionalDataLoad;this.masterdataload=c.masterDataLoad;this.transactionaldataloaddone=this.masterdataloaddone=false;this.type=a.formType;this.preShow=this.preshow=a.preShow;this.postShow=this.postshow=a.postShow;this.onHide=this.onhide=a.onHide;this.needAppMenu=this.needappmenu=a.needAppLevelMenu===undefined?true:(a.needAppLevelMenu&&true);this.headers=a.globalHeaders&&a.globalHeaders.splice(0);this.footers=a.globalFooters&&a.globalFooters.splice(0);this.headers&&this.commonHeaderFooterSetup("headers");this.footers&&this.commonHeaderFooterSetup("footers");this.name="kony.ui.Form"};kony.inherits(kony.ui.Form,kony.ui.Form2);
kony.ui.Box=function(d,b,a){kony.ui.Box.baseConstructor.call(this,d,b,a);this.position=a&&a.position;this.name="kony.ui.Box";this.allboxes=[];if(this.orientation==constants.BOX_LAYOUT_HORIZONTAL){this.wType="HBox"}else{this.wType="VBox"}var c=a.backgroundimage;defineGetter(this,"backgroundimage",function(){return c});defineSetter(this,"backgroundimage",function(e){c=e;kony.model.updateView(this,"backgroundimage",e)})};kony.inherits(kony.ui.Box,kony.ui.ContainerWidget);kony.ui.Box.prototype.add=function(){var a=[].slice.call(arguments);boxWidgetExtendAdd.call(this,a)};kony.ui.Box.prototype.addAt=function(b,a){boxWidgetExtendAddAt.call(this,b,a)};kony.ui.Box.prototype.remove=function(a){boxWidgetExtendRemove.call(this,a)};kony.ui.Box.prototype.removeAt=function(a){return boxWidgetExtendRemoveAt.call(this,a)};kony.ui.Box.prototype.widgets=function(){return kony.ui.ContainerWidget.prototype.widgets.call(this)};kony.ui.Box.prototype.updateBoxWeight=function(a){boxWidgetExtendUpdateBoxWeight.call(this,a)};
kony.ui.Button=function(c,b,a){kony.ui.Button.baseConstructor.call(this,c,b,a);this.displaytext=(b.displayText===undefined)?true:(b.displayText&&true);this.rawBytes=c.rawBytes;this.canUpdateUI=true;this.wType="Button";this.name="kony.ui.Button";var d=c.text||"";defineGetter(this,"text",function(){return d});defineSetter(this,"text",function(e){d=e;if(this.canUpdateUI){this.i18n_text="";$KW[this.wType]["updateView"](this,"text",e)}})};kony.inherits(kony.ui.Button,kony.ui.Widget);kony.ui.Label=function(c,b,a){kony.ui.Label.baseConstructor.call(this,c,b,a);this.canUpdateUI=true;this.wType="Label";this.name="kony.ui.Label";var d=c.text||"";defineGetter(this,"text",function(){return d});defineSetter(this,"text",function(e){d=e;if(this.canUpdateUI){this.i18n_text="";$KW[this.wType]["updateView"](this,"text",e)}})};kony.inherits(kony.ui.Label,kony.ui.Widget);kony.ui.Line=function(d,b,a){kony.ui.Line.baseConstructor.call(this,d,b,a);this.wType="Line";this.name="kony.ui.Line";var c=b.thickness;defineGetter(this,"thickness",function(){return c});defineSetter(this,"thickness",function(e){c=e;$KW[this.wType]["updateView"](this,"thickness",e)})};kony.inherits(kony.ui.Line,kony.ui.Widget);kony.ui.Link=function(c,b,a){kony.ui.Link.baseConstructor.call(this,c,b,a);this.canUpdateUI=true;this.wType="Link";this.name="kony.ui.Link";var d=c.text||"";defineGetter(this,"text",function(){return d});defineSetter(this,"text",function(e){d=e;if(this.canUpdateUI){this.i18n_text="";$KW[this.wType]["updateView"](this,"text",e)}})};kony.inherits(kony.ui.Link,kony.ui.Widget);kony.ui.Switch=function(c,b,a){kony.ui.Switch.baseConstructor.call(this,c,b,a);this.skin=c.skin;this.leftsidetext=c.leftSideText;this.rightsidetext=c.rightSideText;this.wType="Switch";this.name="kony.ui.Switch";this.onslide=c.onSlide||null;this.selectedindex=c.selectedIndex||null;this.setGetterSetter()};kony.inherits(kony.ui.Switch,kony.ui.Widget);kony.ui.Switch.prototype.setGetterSetter=function(){defineGetter(this,"onSlide",function(){return this.onslide});defineSetter(this,"onSlide",function(a){this.onslide=a});defineGetter(this,"selectedIndex",function(){return this.selectedindex});defineSetter(this,"selectedIndex",function(a){this.selectedindex=a;$KW[this.wType]["updateView"](this,"selectedindex",a)})};kony.ui.Phone=function(c,b,a){kony.ui.Phone.baseConstructor.call(this,c,b,a);this.canUpdateUI=true;this.wType="Phone";this.name="kony.ui.Phone";var d=c.text||"";defineGetter(this,"text",function(){return d});defineSetter(this,"text",function(e){d=e;if(this.canUpdateUI){this.i18n_text="";$KW[this.wType]["updateView"](this,"text",e)}})};kony.inherits(kony.ui.Phone,kony.ui.Widget);kony.ui.CustomWidget=function(e,b,a){kony.ui.CustomWidget.baseConstructor.call(this,e,b,a);var d=function(f,h,g){defineGetter(f,h,function(){return g[h]});defineSetter(f,h,function(n){var i=g[h];g[h]=n;var l=g.widgetName.split("."),m=window;for(var k=0;k<l.length;k++){m=m[l[k]]}m.modelChange(f,h,g[h])})};this.wType="TPW";for(var c in a){d(this,c,a)}};kony.inherits(kony.ui.CustomWidget,kony.ui.Widget);kony.ui.Alert=function(c,b,a){$KI.window.alert(c,b,a)};kony.ui.Camera=function(c,b,a){kony.ui.Camera.baseConstructor.call(this,c,b,a);this.wType="Camera"};kony.inherits(kony.ui.Camera,kony.ui.Widget);
kony.ui.Calendar=function(d,b,a){kony.ui.Calendar.baseConstructor.call(this,d,b,a);this.wType="Calendar";this.name="kony.ui.Calendar";this.datecomponents=d.dateComponents||[];this.dateformat=this.format=d.dateFormat||constants.CALENDAR_DATE_FORMAT_DEFAULT;this.formatteddate=this.date;this.startdate=d.validStartDate;this.enddate=d.validEndDate;this.validstartdate=d.validStartDate;this.validenddate=d.validEndDate;this.viewtype=this.advview=d.viewType||constants.CALENDAR_VIEW_TYPE_DEFAULT;this.viewconfig=d.viewConfig;this.calendaricon=this.Image=d.calendarIcon;this.onselection=d.onSelection;this.titleonpopup=this.title=a.titleOnPopup;this.noofmonths=a.noOfMonths||a.noofmonths||1;this.dateeditable=true;this.calimgheight=a.calImgHeight;defineGetter(this,"calImgHeight",function(){return this.calimgheight});defineSetter(this,"calImgHeight",function(f){this.calimgheight=f});var e=d.placeholder;defineGetter(this,"placeholder",function(){return e});defineSetter(this,"placeholder",function(f){e=f;this.canUpdateUI&&$KW[this.wType]["updateView"](this,"placeholder",f)});defineGetter(this,"dateEditable",function(){return this.dateeditable});defineSetter(this,"dateEditable",function(f){if(!f==true||!!f==true){this.dateeditable=f;this.canUpdateUI&&$KW[this.wType]["updateView"](this,"dateeditable",f)}});var c=d.date;defineGetter(this,"date",function(){$KW.Calendar.updateCalDOMNode(this,false);if(this.formatteddate){return this.formatteddate}else{return null}});defineSetter(this,"date",function(g){this.Date=g;if(!g||!g.length){return false}if(typeof g=="string"){var f=$KW.Calendar.__dp.getDat(g,this)}else{var f={dd:g[0+IndexJL],mm:g[1+IndexJL],yyyy:g[2+IndexJL]}}if(g&&g.length){this.day=f.dd;this.month=f.mm;this.year=f.yyyy||f.yy;if(!this.datecomponents){this.datecomponents=[]}this.datecomponents[IndexJL+0]=f.dd;this.datecomponents[IndexJL+1]=f.mm;this.datecomponents[IndexJL+2]=f.yyyy||f.yy;this.datecomponents[IndexJL+3]=0;this.datecomponents[IndexJL+4]=0;this.datecomponents[IndexJL+5]=0}else{this.day=this.month=this.year=null}this.hour=this.minutes=this.seconds=0;this.canUpdateUI&&$KW[this.wType]["updateView"](this,"date",g)});this.setGetterSetter()};kony.inherits(kony.ui.Calendar,kony.ui.Widget);kony.ui.Calendar.prototype.setGetterSetter=function(){defineGetter(this,"titleOnPopup",function(){return this.title});defineSetter(this,"titleOnPopup",function(a){this.titleonpopup=this.title=a});defineGetter(this,"onSelection",function(){return this.onselection});defineSetter(this,"onSelection",function(a){this.onselection=a});defineGetter(this,"calendarIcon",function(){return this.calendaricon});defineSetter(this,"calendarIcon",function(a){this.calendaricon=this.Image=a;$KW[this.wType]["updateView"](this,"calendaricon",a)});defineGetter(this,"viewConfig",function(){return this.viewconfig});defineSetter(this,"viewConfig",function(a){this.viewconfig=a;$KW[this.wType]["updateView"](this,"viewconfig",a)});defineGetter(this,"viewType",function(){return this.advview});defineSetter(this,"viewType",function(a){this.advview=a;$KW[this.wType]["updateView"](this,"viewtype",a)});defineGetter(this,"validEndDate",function(){return this.enddate});defineSetter(this,"validEndDate",function(a){this.enddate=a;$KW[this.wType]["updateView"](this,"validenddate",a)});defineGetter(this,"validStartDate",function(){return this.startdate});defineSetter(this,"validStartDate",function(a){this.startdate=a;$KW[this.wType]["updateView"](this,"validstartdate",a)});defineGetter(this,"dateFormat",function(){return this.format});defineSetter(this,"dateFormat",function(a){this.dateformat=this.format=a;$KW[this.wType]["updateView"](this,"dateformat",a);$KW[this.wType]["updateView"](this,"placeholder",this.placeholder||this.dateformat||this.format)});defineGetter(this,"dateComponents",function(){if(this.hour===undefined){this.hour=this.datecomponents[3]}if(this.minutes===undefined){this.minutes=this.datecomponents[4]}if(this.seconds===undefined){this.seconds=this.datecomponents[5]}return[this.day,this.month,this.year,this.hour,this.minutes,this.seconds]});defineSetter(this,"dateComponents",function(a){this.datecomponents=this.date=a.slice(0,3);$KW[this.wType]["updateView"](this,"datecomponents",a)});defineGetter(this,"formattedDate",function(){$KW.Calendar.updateCalDOMNode(this,false);return this.formatteddate})};kony.ui.Calendar.prototype.setEnabled=function(c,b,a){if(typeof c=="boolean"){$KW.Widget.setenabled(this,c);return false}else{$KW.Calendar.setEnabled(this,c,0,b,a)}};kony.ui.Calendar.prototype.displayedMonth=function(b,a){$KW.Calendar.displayedMonth(this,b,a)};kony.ui.Calendar.prototype.navigateToPreviousMonth=function(){$KW.Calendar.navigateToPreviousMonth(this)};kony.ui.Calendar.prototype.navigateToNextMonth=function(){$KW.Calendar.navigateToNextMonth(this)};kony.ui.Calendar.prototype.enableRangeOfDates=function(c,a,d,b){$KW.Calendar.setEnabled(this,c,a,d,b)};kony.ui.Calendar.prototype.setEnableAll=function(){$KW.Calendar.setEnableAll(this)};kony.ui.Calendar.prototype.setDatesSkin=function(b,a){$KW.Calendar.setDateSkin(this,b,a,true)};kony.ui.Calendar.prototype.clear=function(){$KW.Calendar.clear(this)};kony.ui.Calendar.prototype.setContext=function(a){$KW.Calendar.setcontext(this,a)};
kony.ui.DataGrid=function(f,b,a){kony.ui.DataGrid.baseConstructor.call(this,f,b,a);this.focusedindex=this.focuseditem=this.selecteditems=this.selectedindices=null;this.headerskin=f.headerSkin;this.rownormalskin=f.rowNormalSkin;this.rowfocusskin=f.rowFocusSkin;this.rowalternateskin=f.rowAlternateSkin;this.showcolumnheaders=f.showColumnHeaders;this.columnheadersconfig=f.columnHeadersConfig;this.onrowselected=f.onRowSelected;this.ismultiselect=f.isMultiSelect;this.gridlinecolor=a.gridlineColor;var g=f.data;defineGetter(this,"data",function(){return g});defineSetter(this,"data",function(i){g=i;this.canUpdateUI&&$KW[this.wType]["updateView"](this,"data",i)});this.rowcount=(g&&g.length-IndexJL)||0;this.wType="DataGrid";this.name="kony.ui.DataGrid";this.canUpdateUI=true;var d=f.columnHeadersConfig;if(d){var h=[];for(var e=0;e<d.length;e++){var c={};c.columnid=d[e].columnID;c.columntype=d[e].columnType;c.columnheadertext=d[e].columnHeaderText;c.columnheadertemplate=d[e].columnHeaderTemplate;c.columndatatemplate=d[e].columnDataTemplate;c.columnwidthinpercentage=d[e].columnWidthInPercentage;c.columncontentalignment=d[e].columnContentAlignment;c.columnonclick=d[e].columnOnClick;h.push(c)}this.columnheadersconfig=h}this.setGetterSetter()};kony.inherits(kony.ui.DataGrid,kony.ui.Widget);kony.ui.DataGrid.prototype.setGetterSetter=function(){defineGetter(this,"rowNormalSkin",function(){return this.rownormalskin});defineSetter(this,"rowNormalSkin",function(b){var a=this.rownormalskin;this.rownormalskin=b;$KW[this.wType]["updateView"](this,"rownormalskin",b,a)});defineGetter(this,"headerSkin",function(){return this.headerskin});defineSetter(this,"headerSkin",function(a){this.headerskin=a;$KW[this.wType]["updateView"](this,"headerskin",a)});defineGetter(this,"isMultiSelect",function(){return this.ismultiselect});defineSetter(this,"isMultiSelect",function(a){this.ismultiselect=a;$KW[this.wType]["updateView"](this,"ismultiselect",a)});defineGetter(this,"rowFocusSkin",function(){return this.rowfocusskin});defineSetter(this,"rowFocusSkin",function(a){this.rowfocusskin=a});defineGetter(this,"rowAlternateSkin",function(){return this.rowalternateskin});defineSetter(this,"rowAlternateSkin",function(a){this.rowalternateskin=a;$KW[this.wType]["updateView"](this,"rowalternateskin",a)});defineGetter(this,"showColumnHeaders",function(){return this.showcolumnheaders});defineSetter(this,"showColumnHeaders",function(a){this.showcolumnheaders=a;$KW[this.wType]["updateView"](this,"showcolumnheaders",a)});defineGetter(this,"columnHeadersConfig",function(){return this.columnheadersconfig});defineSetter(this,"columnHeadersConfig",function(b){if(b){var d=[];for(var c=0;c<b.length;c++){var a={};a.columnid=b[c].columnid||b[c].columnID;a.columntype=b[c].columntype||b[c].columnType;a.columnheadertext=b[c].columnheadertext||b[c].columnHeaderText;a.columnheadertemplate=b[c].columnheadertemplate||b[c].columnHeaderTemplate;a.columndatatemplate=b[c].columndatatemplate||b[c].columnDataTemplate;a.columnwidthinpercentage=b[c].columnwidthinpercentage||b[c].columnWidthInPercentage;a.columncontentalignment=b[c].columncontentalignment||b[c].columnContentAlignment;a.columnonclick=b[c].columnonclick||b[c].columnOnClick;d.push(a)}this.columnheadersconfig=d}$KW[this.wType]["updateView"](this,"columnheadersconfig",b)});defineGetter(this,"gridlineColor",function(){return this.gridlinecolor});defineSetter(this,"gridlineColor",function(a){this.gridlinecolor=a;$KW[this.wType]["updateView"](this,"gridlinecolor",a)});defineSetter(this,"onRowSelected",function(a){this.onrowselected=a});defineGetter(this,"selectedIndex",function(){return this.focusedindex});defineGetter(this,"selectedItem",function(){return this.focuseditem});defineGetter(this,"selectedItems",function(){return this.selecteditems});defineGetter(this,"selectedIndices",function(){return this.selectedindices});defineGetter(this,"rowCount",function(){return this.rowcount})};kony.ui.DataGrid.prototype.applyCellSkin=function(a,b,c){$KW.DataGrid.applyCellSkin(this,a,b,c)};kony.ui.DataGrid.prototype.setData=function(a){$KW.DataGrid.setData(this,a)};kony.ui.DataGrid.prototype.setDataAt=function(b,a){$KW.DataGrid.setDataAt(this,b,a)};kony.ui.DataGrid.prototype.addDataAt=function(b,a){$KW.DataGrid.addDataAt(this,b,a)};kony.ui.DataGrid.prototype.addAll=function(a){$KW.DataGrid.addAll(this,a)};kony.ui.DataGrid.prototype.removeAt=function(a){$KW.DataGrid.removeAt(this,a)};kony.ui.DataGrid.prototype.removeAll=function(){$KW.DataGrid.removeAll(this)};kony.ui.DataGrid.prototype.selectAllRows=function(a){$KW.DataGrid.selectAll(this,a)};kony.ui.DataGrid.prototype.setCellDataAt=function(c,a,b){$KW.DataGrid.setCellData(this,c,a,b)};kony.ui.DataGrid.prototype.setHeaderCellDataAt=function(a,b){$KW.DataGrid.setHeaderCellDataAt(this,a,b)};
kony.ui.CheckBoxGroup=function(c,b,a){kony.ui.CheckBoxGroup.baseConstructor.call(this,c,b,a);this.itemorientation=b.itemOrientation||constants.CHECKBOX_ITEM_ORIENTATION_VERTICAL;this.wType="CheckBoxGroup";this.name="kony.ui.CheckBoxGroup";this.selectedkeys=c.selectedKeys||null;this.selectedkeyvalues=null;this.viewtype=a.viewType||"defaultview";if(this.viewtype!="defaultview"){this.wType="CheckBoxGroupViews"}this.size=a.size||18;this.checkedimage=a.checkedImage||"checkboxselected.png";this.uncheckedimage=a.uncheckedImage||"checkboxnormal.png";kony.ui.CheckBoxGroup.prototype.setGetterSetter.call(this)};kony.inherits(kony.ui.CheckBoxGroup,kony.ui.GroupWidget);kony.ui.CheckBoxGroup.prototype.setGetterSetter=function(){defineGetter(this,"selectedKeys",function(){return this.selectedkeys});defineSetter(this,"selectedKeys",function(a){this.selectedkeys=a;$KW[this.wType]["updateView"](this,"selectedkeys",a)});defineGetter(this,"selectedKeyValues",function(){return this.selectedkeyvalues});defineSetter(this,"viewType",function(a){this.viewtype=a;$KW[this.wType]["updateView"](this,"viewtype",a)});defineGetter(this,"viewType",function(){return this.viewtype});defineSetter(this,"checkedImage",function(a){this.checkedimage=a;$KW[this.wType]["updateView"](this,"checkedimage",a)});defineGetter(this,"checkedImage",function(){return this.checkedimage});defineSetter(this,"uncheckedImage",function(a){this.uncheckedimage=a;$KW[this.wType]["updateView"](this,"uncheckedimage",a)});defineGetter(this,"uncheckedImage",function(){return this.uncheckedimage});defineSetter(this,"dimension",function(a){this.size=a;$KW[this.wType]["updateView"](this,"size",a)});defineGetter(this,"dimension",function(){return this.size})};kony.ui.ComboBox=function(c,b,a){kony.ui.ComboBox.baseConstructor.call(this,c,b,a);this.wType="ComboBox";this.name="kony.ui.ComboBox"};kony.inherits(kony.ui.ComboBox,kony.ui.GroupWidget);kony.ui.ListBox=function(c,b,a){kony.ui.ListBox.baseConstructor.call(this,c,b,a);this.wType="ListBox";this.name="kony.ui.ListBox";this.selectedkeys=(c.selectedKey&&(IndexJL?[null,c.selectedKey]:[c.selectedKey]))||null;this.selectedkeyvalues=null;defineGetter(this,"selectedKeys",function(){return this.selectedkeys});defineSetter(this,"selectedKeys",function(d){this.selectedkeys=d;$KW[this.wType]["updateView"](this,"selectedkeys",d)});defineGetter(this,"selectedKeyValues",function(){return this.selectedkeyvalues})};kony.inherits(kony.ui.ListBox,kony.ui.GroupWidget);kony.ui.RadioButtonGroup=function(c,b,a){kony.ui.RadioButtonGroup.baseConstructor.call(this,c,b,a);this.itemorientation=b.itemOrientation||constants.RADIOGROUP_ITEM_ORIENTATION_VERTICAL;this.wType="RadioButtonGroup";this.name="kony.ui.RadioButtonGroup";this.viewtype=a.viewType||"defaultview";this.size=a.size||18;this.checkedimage=a.checkedImage||"radiobuttonselected.png";this.uncheckedimage=a.uncheckedImage||"radiobuttonnormal.png";kony.ui.RadioButtonGroup.prototype.setGetterSetter.call(this)};kony.inherits(kony.ui.RadioButtonGroup,kony.ui.GroupWidget);kony.ui.RadioButtonGroup.prototype.setGetterSetter=function(){defineSetter(this,"viewType",function(a){this.viewtype=a;$KW[this.wType]["updateView"](this,"viewtype",a)});defineGetter(this,"viewType",function(){return this.viewtype});defineSetter(this,"checkedImage",function(a){this.checkedimage=a;$KW[this.wType]["updateView"](this,"checkedimage",a)});defineGetter(this,"checkedImage",function(){return this.checkedimage});defineSetter(this,"uncheckedImage",function(a){this.uncheckedimage=a;$KW[this.wType]["updateView"](this,"uncheckedimage",a)});defineGetter(this,"uncheckedImage",function(){return this.uncheckedimage});defineSetter(this,"dimension",function(a){this.size=a;$KW[this.wType]["updateView"](this,"size",a)});defineGetter(this,"dimension",function(){return this.size});if(kony.appinit.isIE7||kony.appinit.isIE8){this.viewType=this.viewtype;this.checkedImage=this.checkedimage;this.uncheckedImage=this.unchekedimage}};kony.ui.PickerView=function(c,b,a){kony.ui.PickerView.baseConstructor.call(this,c,b,a);this.wType="PickerView";this.name="kony.ui.PickerView";this.onselect=c.onSelect;this.setGetterSetter()};kony.inherits(kony.ui.PickerView,kony.ui.CheckBoxGroup);kony.ui.PickerView.prototype.setComponentData=function(b,a){$KW.PickerView.setcomponentdata(this,b,a)};kony.ui.PickerView.prototype.setSelectedKeyInComponent=function(a,b){$KW.PickerView.setselectedkeyincomponent(this,a,b)};kony.ui.PickerView.prototype.setGetterSetter=function(){defineGetter(this,"onSelect",function(){return this.onselect});defineSetter(this,"onSelect",function(a){this.onselect=a})};
kony.ui.Image2=function(d,c,b){kony.ui.Image2.baseConstructor.call(this,d,c,b);this.ondownloadcomplete=d.onDownloadComplete;this.imageWhileDownloading=this.imagewhiledownloading=d.imageWhileDownloading;this.imageWhenFailed=this.imagewhenfailed=d.imageWhenFailed;this.referencewidth=c.referenceWidth;this.referenceheight=c.referenceHeight;this.imagescalemode=c.imageScaleMode;this.height=c.height;this.canUpdateUI=true;this.wType="Image";this.name="kony.ui.Image2";var e=d.src;if(e){this.srcType=1}defineGetter(this,"src",function(){return e});defineSetter(this,"src",function(g){this.srctype=1;var f=this.src;e=g;this.canUpdateUI&&$KW[this.wType]["updateView"](this,"src",g,f)});var a=null;defineGetter(this,"base64",function(){return a});defineSetter(this,"base64",function(f){this.srcType=2;a=f;$KW[this.wType]["updateView"](this,"base64",f)});this.setGetterSetter()};kony.inherits(kony.ui.Image2,kony.ui.Widget);kony.ui.Image2.prototype.setGetterSetter=function(){defineGetter(this,"imageScaleMode",function(){return this.imagescalemode});defineSetter(this,"imageScaleMode",function(a){this.imagescalemode=a;$KW[this.wType]["updateView"](this,"imagescalemode",a)});defineGetter(this,"referenceHeight",function(){return this.referenceheight});defineSetter(this,"referenceHeight",function(a){this.referenceheight=a;$KW[this.wType]["updateView"](this,"referenceheight",a)});defineGetter(this,"referenceWidth",function(){return this.referencewidth});defineSetter(this,"referenceWidth",function(a){this.referencewidth=a;$KW[this.wType]["updateView"](this,"referencewidth",a)});defineGetter(this,"onDownloadComplete",function(){return this.ondownloadcomplete});defineSetter(this,"onDownloadComplete",function(a){this.ondownloadcomplete=a})};kony.ui.Image=function(c,b,a){kony.ui.Image.baseConstructor.call(this,c,b,a);this.scaleMode=this.scalemode=a.scaleMode;this.heightwidth=a.heightWidth;this.imageWhileDownloading=this.imagewhiledownloading=a.imageWhileDownloading;this.imageWhenFailed=this.imagewhenfailed=a.imageWhenFailed;this.name="kony.ui.Image"};kony.inherits(kony.ui.Image,kony.ui.Image2);
kony.ui.ImageGallery2=function(c,b,a){kony.ui.ImageGallery2.baseConstructor.call(this,c,b,a);this.imageWhileDownloading=this.imagewhiledownloading=c.imageWhileDownloading;this.imageWhenFailed=this.imagewhenfailed=c.imageWhenFailed;this.spaceBetweenImages=this.spacebetweenimages=c.spaceBetweenImages;this.selectedindex=c.selectedIndex||null;this.onselection=c.onSelection;this.referencewidth=b.referenceWidth;this.referenceheight=b.referenceHeight;this.imagescalemode=b.imageScaleMode;this.wType="IGallery";this.name="kony.ui.ImageGallery2";this.canUpdateUI=true;this.selecteditem=null;var d=c.data;if(d){this.masterdata=d[0];this.key=d[1]}defineGetter(this,"data",function(){return d});defineSetter(this,"data",function(e){d=e;this.canUpdateUI&&$KW[this.wType]["updateView"](this,"data",e)});kony.ui.ImageGallery2.prototype.setGetterSetter.call(this)};kony.inherits(kony.ui.ImageGallery2,kony.ui.Widget);kony.ui.ImageGallery2.prototype.setGetterSetter=function(){defineGetter(this,"selectedIndex",function(){return this.selectedindex});defineSetter(this,"selectedIndex",function(a){this.selectedindex=a;this.canUpdateUI&&$KW[this.wType]["updateView"](this,"selectedindex",a)});defineGetter(this,"onSelection",function(){return this.onselection});defineSetter(this,"onSelection",function(a){this.onselection=a});defineGetter(this,"referenceWidth",function(){return this.referencewidth});defineSetter(this,"referenceWidth",function(a){this.referencewidth=a;$KW[this.wType]["updateView"](this,"referencewidth",a)});defineGetter(this,"referenceHeight",function(){return this.referenceheight});defineSetter(this,"referenceHeight",function(a){this.referenceheight=a;$KW[this.wType]["updateView"](this,"referenceheight",a)});defineGetter(this,"imageScaleMode",function(){return this.imagescalemode});defineSetter(this,"imageScaleMode",function(a){this.imagescalemode=a;$KW[this.wType]["updateView"](this,"imagescalemode",a)});defineGetter(this,"selectedItem",function(){return this.selecteditem});defineSetter(this,"selectedItem",function(){})};kony.ui.ImageGallery2.prototype.addAll=function(b,a){$KW.IGallery.addAll(this,b,a)};kony.ui.ImageGallery2.prototype.setData=function(b,a){$KW.IGallery.setData(this,b,a)};kony.ui.ImageGallery2.prototype.setDataAt=function(b,a){$KW.IGallery.setDataAt(this,b,a)};kony.ui.ImageGallery2.prototype.addDataAt=function(b,a){$KW.IGallery.addDataAt(this,b,a)};kony.ui.ImageGallery2.prototype.removeAt=function(a){$KW.IGallery.removeAt(this,a)};kony.ui.ImageGallery2.prototype.removeAll=function(){$KW.IGallery.removeAll(this)};kony.ui.ImageGallery=function(c,b,a){kony.ui.ImageGallery.baseConstructor.call(this,c,b,a);this.itemsperrow=a.itemsPerRow;this.heightwidth=a.heightWidth;this.name="kony.ui.ImageGallery";this.focuseditem=null;defineGetter(this,"focusedItem",function(){return this.focuseditem});this.focusedindex=c.focusedIndex||null;this.setGetterSetter()};kony.ui.ImageGallery.prototype.setGetterSetter=function(){defineGetter(this,"focusedIndex",function(){return this.focusedindex});defineSetter(this,"focusedIndex",function(a){this.focusedindex=a;$KW[this.wType]["updateView"](this,"focusedindex",a)});defineGetter(this,"focusedItem",function(){return this.focuseditem})};kony.inherits(kony.ui.ImageGallery,kony.ui.ImageGallery2);
kony.ui.HorizontalImageStrip2=function(c,b,a){kony.ui.HorizontalImageStrip2.baseConstructor.call(this,c,b,a);this.imageWhileDownloading=this.imagewhiledownloading=c.imageWhileDownloading;this.imageWhenFailed=this.imagewhenfailed=c.imageWhenFailed;this.spaceBetweenImages=this.spacebetweenimages=c.spaceBetweenImages;this.showArrows=this.showarrows=c.showArrows||false;this.showScrollbars=this.showscrollbars=c.showScrollbars||false;this.viewtype=c.viewType||constants.HORIZONTAL_IMAGESTRIP_VIEW_TYPE_STRIPVIEW;this.referencewidth=b.referenceWidth;this.referenceheight=b.referenceHeight;this.imagescalemode=b.imageScaleMode;this.selectedindex=c.selectedIndex;this.selecteditem=null;var d=c.arrowConfig||null;if(d){this.leftarrowimage=d.leftArrowImage||"";this.rightarrowimage=d.rightArrowImage||""}this.wType="HStrip";this.name="kony.ui.HorizontalImageStrip2";this.canUpdateUI=true;this.onselection=c.onSelection;var e=c.data;if(e){this.masterdata=e[0];this.key=e[1]}defineGetter(this,"data",function(){return e});defineSetter(this,"data",function(f){e=f;this.canUpdateUI&&$KW[this.wType]["updateView"](this,"data",f)});this.viewconfig=c.viewConfig||null;this.scrollbounce=this.viewconfig&&this.viewconfig.stripviewConfig&&this.viewconfig.stripviewConfig.enableScrollBounce;kony.ui.HorizontalImageStrip2.prototype.setGetterSetter.call(this)};kony.inherits(kony.ui.HorizontalImageStrip2,kony.ui.Widget);kony.ui.HorizontalImageStrip2.prototype.setGetterSetter=function(){defineGetter(this,"selectedIndex",function(){return this.selectedindex});defineSetter(this,"selectedIndex",function(a){this.selectedindex=a;$KW[this.wType]["updateView"](this,"selectedindex",a)});defineGetter(this,"selectedItem",function(){return this.selecteditem});defineSetter(this,"selectedItem",function(){});defineGetter(this,"onSelection",function(){return this.onselection});defineSetter(this,"onSelection",function(a){this.onselection=a});defineGetter(this,"viewType",function(){return this.viewtype});defineSetter(this,"viewType",function(a){this.viewtype=a;$KW[this.wType]["updateView"](this,"viewtype",a)});defineGetter(this,"viewConfig",function(){return this.viewconfig});defineSetter(this,"viewConfig",function(a){this.viewconfig=a;$KW[this.wType]["updateView"](this,"viewconfig",a)});defineGetter(this,"referenceWidth",function(){return this.referencewidth});defineSetter(this,"referenceWidth",function(a){this.referencewidth=a;$KW[this.wType]["updateView"](this,"referencewidth",a)});defineGetter(this,"referenceHeight",function(){return this.referenceheight});defineSetter(this,"referenceHeight",function(a){this.referenceheight=a;$KW[this.wType]["updateView"](this,"referenceheight",a)});defineGetter(this,"imageScaleMode",function(){return this.imagescalemode});defineSetter(this,"imageScaleMode",function(a){this.imagescalemode=a;$KW[this.wType]["updateView"](this,"imagescalemode",a)})};kony.ui.HorizontalImageStrip2.prototype.addAll=function(b,a){$KW.HStrip.addAll(this,b,a)};kony.ui.HorizontalImageStrip2.prototype.removeAt=function(a){$KW.HStrip.removeAt(this,a)};kony.ui.HorizontalImageStrip2.prototype.removeAll=function(){$KW.HStrip.removeAll(this)};kony.ui.HorizontalImageStrip2.prototype.setData=function(b,a){$KW.HStrip.setData(this,b,a)};kony.ui.HorizontalImageStrip2.prototype.setDataAt=function(b,a){$KW.HStrip.setDataAt(this,b,a)};kony.ui.HorizontalImageStrip2.prototype.addDataAt=function(b,a){$KW.HStrip.addDataAt(this,b,a)};kony.ui.HorizontalImageStrip=function(c,b,a){kony.ui.HorizontalImageStrip.baseConstructor.call(this,c,b,a);this.viewtype=this.view=a.view||constants.HORIZONTAL_IMAGESTRIP_VIEW_TYPE_STRIPVIEW;this.showArrows=this.showarrows=a.showArrows;this.scrollBounce=this.scrollbounce=a.scrollBounce;this.heightWidth=this.heightwidth=a.heightWidth;this.imageWhenFailed=this.imagewhenfailed=a.imageWhenFailed;this.imageWhileDownloading=this.imagewhiledownloading=a.imageWhileDownloading;this.spaceBetweenImages=this.spacebetweenimages=a.spaceBetweenImages;this.name="kony.ui.HorizontalImageStrip";this.focuseditem=null;this.focusedindex=c.focusedIndex||null;this.setGetterSetter()};kony.inherits(kony.ui.HorizontalImageStrip,kony.ui.HorizontalImageStrip2);kony.ui.HorizontalImageStrip.prototype.setGetterSetter=function(){defineGetter(this,"focusedIndex",function(){return this.focusedindex});defineSetter(this,"focusedIndex",function(a){this.focusedindex=a;$KW[this.wType]["updateView"](this,"focusedindex",a)});defineGetter(this,"focusedItem",function(){return this.focuseditem})};
kony.ui.Map=function(d,c,b){kony.ui.Map.baseConstructor.call(this,d,c,b);this.provider=d.provider||constants.MAP_PROVIDER_GOOGLE;this.mapKey=d.mapKey;this.mapClientId=d.clientId;this.navControlsImageConfig=b.navControlsImageConfig;this.mapSource=this.mapsrc=b.mapSource;this.screenLevelWidget=d.screenLevelWidget;this.defaultpinimage=d.defaultPinImage;this.locationdata=d.locationData;this.zoomlevel=b.zoomLevel;this.markers=[];this.displaymaptypecontrols=true;this.onpinclick=d.onPinClick;this.onselection=d.onSelection;this.containerheight=b.containerHeight;this.containerheightreference=b.containerHeightReference;defineGetter(this,"containerHeight",function(){return this.containerheight});defineSetter(this,"containerHeight",function(f){this.containerheight=f;$KW[this.wType]["updateView"](this,"containerheight",f)});defineGetter(this,"displayMapTypeControls",function(){return this.displaymaptypecontrols});defineSetter(this,"displayMapTypeControls",function(f){this.displaymaptypecontrols=f});defineGetter(this,"containerHeightReference",function(){return this.containerheightreference});defineSetter(this,"containerHeightReference",function(f){this.containerheightreference=f;$KW[this.wType]["updateView"](this,"containerheightreference",f)});defineGetter(this,"calloutWidth",function(){return this.calloutTemplate.containerWeight});defineSetter(this,"calloutWidth",function(f){!!f&&(this.calloutTemplate.containerWeight=f);$KW.Map.setUpInteractiveCanvasMap()});this.wType="Map";this.name="kony.ui.Map";var a=b.address;defineGetter(this,"address",function(){return a});defineSetter(this,"address",function(f){a=f;$KW[this.wType]["updateView"](this,"address",f)});this.calloutTemplate=this.callouttemplate=d.calloutTemplate;this.calloutTemplate&&(this.calloutTemplate.containerWeight=c.containerWeight);defineGetter(this,"calloutTemplate",function(){return this.callouttemplate});defineSetter(this,"calloutTemplate",function(f){this.callouttemplate=f});var e=b.mode||constants.MAP_VIEW_MODE_NORMAL;defineGetter(this,"mode",function(){return e});defineSetter(this,"mode",function(f){e=f;$KW[this.wType]["updateView"](this,"mode",f)});this.setGetterSetter();d.locationData&&$KW[this.wType]["updateView"](this,"locationdata",d.locationData)};kony.inherits(kony.ui.Map,kony.ui.Widget);kony.ui.Map.prototype.setGetterSetter=function(){defineGetter(this,"zoomLevel",function(){return this.zoomlevel});defineSetter(this,"zoomLevel",function(a){this.zoomlevel=a;$KW[this.wType]["updateView"](this,"zoomlevel",a)});defineGetter(this,"locationData",function(){return this.locationdata});defineSetter(this,"locationData",function(a){this.locationdata=a;$KW[this.wType]["updateView"](this,"locationdata",a)});defineGetter(this,"defaultPinImage",function(){return this.defaultpinimage});defineSetter(this,"defaultPinImage",function(a){this.defaultpinimage=a;$KW[this.wType]["updateView"](this,"defaultpinimage",a)});defineGetter(this,"onPinClick",function(){return this.onpinclick});defineSetter(this,"onPinClick",function(a){this.onpinclick=a});defineGetter(this,"onSelection",function(){return this.onselection});defineSetter(this,"onSelection",function(a){this.onselection=a})};kony.ui.Map.prototype.navigateTo=function(b,a){$KW.Map.navigateTo(this,b,a)};kony.ui.Map.prototype.navigateToLocation=function(c,a,b){$KW.Map.navigateToLocation(this,c,a,b)};kony.ui.Map.prototype.routeLocations=function(c,d,a,b){$KW.Map.routeLocations(this,c,d,a,b)};kony.ui.Map.prototype.dismissCallout=function(b,a){$KW.Map.dismissCallout(this,b,a)};
kony.ui.Browser=function(c,b,a){kony.ui.Browser.baseConstructor.call(this,c,b,a);this.onSuccess=c.onSuccess;this.onFailure=c.onFailure;this.screenLevelWidget=c.screenLevelWidget;this.enableZoom=c.enableZoom;this.detectTelNumber=c.detectTelNumber;this.readconfig=function(d){this.url=d.URL;this.method=d.requestMethod;this.data=d.requestData};c.requestURLConfig&&this.readconfig(c.requestURLConfig);this.requesturlconfig=c.requestURLConfig;this.htmlstring=c.htmlString;this.wType="Browser";this.name="kony.ui.Browser";this.setGetterSetter()};kony.inherits(kony.ui.Browser,kony.ui.Widget);kony.ui.Browser.prototype.setGetterSetter=function(){defineGetter(this,"htmlString",function(){return this.htmlstring});defineSetter(this,"htmlString",function(a){this.htmlstring=a;$KW[this.wType]["updateView"](this,"htmlstring",a)});defineGetter(this,"requestURLConfig",function(){return this.requesturlconfig});defineSetter(this,"requestURLConfig",function(a){this.requesturlconfig=a;this.readconfig(a);$KW[this.wType]["updateView"](this,"requesturlconfig",a)})};kony.ui.Browser.prototype.reload=kony.ui.Browser.prototype.goForward=kony.ui.Browser.prototype.goBack=kony.ui.Browser.prototype.canGoBack=kony.ui.Browser.prototype.canGoForward=kony.ui.Browser.prototype.clearHistory=function(){console.warn("Browser Methods are not supported in SPA")};
kony.ui.RichText=function(c,b,a){kony.ui.RichText.baseConstructor.call(this,c,b,a);var d=c.text||"";defineGetter(this,"text",function(){return d});defineSetter(this,"text",function(e){d=e;if(this.canUpdateUI){this.i18n_text="";$KW[this.wType]["updateView"](this,"text",e)}});this.linkskin=c.linkSkin;this.linkfocusskin=a.linkFocusSkin;defineGetter(this,"linkSkin",function(){return this.linkskin});defineSetter(this,"linkSkin",function(e){this.linkskin=e;$KW[this.wType]["updateView"](this,"linkskin",e)});defineGetter(this,"linkFocusSkin",function(){return this.linkfocusskin});defineSetter(this,"linkFocusSkin",function(e){this.linkfocusskin=e;$KW[this.wType]["updateView"](this,"linkfocusskin",e)});this.canUpdateUI=true;this.wType="RichText";this.name="kony.ui.RichText"};kony.inherits(kony.ui.RichText,kony.ui.Widget);
kony.ui.Box=function(d,b,a){kony.ui.Box.baseConstructor.call(this,d,b,a);this.position=a&&a.position;this.name="kony.ui.Box";this.allboxes=[];if(this.orientation==constants.BOX_LAYOUT_HORIZONTAL){this.wType="HBox"}else{this.wType="VBox"}var c=a.backgroundimage;defineGetter(this,"backgroundimage",function(){return c});defineSetter(this,"backgroundimage",function(e){c=e;kony.model.updateView(this,"backgroundimage",e)})};kony.inherits(kony.ui.Box,kony.ui.ContainerWidget);kony.ui.Box.prototype.add=function(){var a=[].slice.call(arguments);boxWidgetExtendAdd.call(this,a)};kony.ui.Box.prototype.addAt=function(b,a){boxWidgetExtendAddAt.call(this,b,a)};kony.ui.Box.prototype.remove=function(a){boxWidgetExtendRemove.call(this,a)};kony.ui.Box.prototype.removeAt=function(a){return boxWidgetExtendRemoveAt.call(this,a)};kony.ui.Box.prototype.widgets=function(){return kony.ui.ContainerWidget.prototype.widgets.call(this)};kony.ui.Box.prototype.updateBoxWeight=function(a){boxWidgetExtendUpdateBoxWeight.call(this,a)};
kony.ui.ScrollBox=function(d,c,b){kony.ui.ScrollBox.baseConstructor.call(this,d,c,b);this.totalWt=0;this.position=d.position||constants.BOX_POSITION_AS_NORMAL;this.enableScrollByPage=d.enableScrollByPage||false;this.scrollDirection=this.scrolldirection=d.scrollDirection||constants.SCROLLBOX_SCROLL_HORIZONTAL;this.showscrollbars=d.showScrollbars===undefined?true:d.showScrollbars;this.scrollbar=this.showscrollbars?"scrollbar":"none";this.containerheight=c.containerHeight;this.containerheightreference=c.containerHeightReference;this.wType="ScrollBox";this.name="kony.ui.ScrollBox";var a=(b.scrollArrowConfig&&(b.scrollArrowConfig[0]||b.scrollArrowConfig[1]||b.scrollArrowConfig[2]||b.scrollArrowConfig[3]))?b.scrollArrowConfig:null;if(a){this.scrollbar="arrows";if(a.length>=4){this.leftarrowimage=a[0];this.toparrowimage=a[1];this.rightarrowimage=a[2];this.bottomarrowimage=a[3]}}this.scrollingevents=d.scrollingEvents||null;if(this.scrollingevents){this.scrollingevents.onpush=d.scrollingEvents.onPush;this.scrollingevents.onpull=d.scrollingEvents.onPull;this.scrollingevents.onreachingbeginning=d.scrollingEvents.onReachingBegining;this.scrollingevents.onreachingend=d.scrollingEvents.onReachingEnd}this.setGetterSetter()};kony.inherits(kony.ui.ScrollBox,kony.ui.Box);kony.ui.ScrollBox.prototype.setGetterSetter=function(){defineGetter(this,"containerHeight",function(){return this.containerheight});defineSetter(this,"containerHeight",function(a){this.containerheight=a;$KW[this.wType]["updateView"](this,"containerheight",a)});defineGetter(this,"containerHeightReference",function(){return this.containerheightreference});defineSetter(this,"containerHeightReference",function(a){this.containerheightreference=a;$KW[this.wType]["updateView"](this,"containerheightreference",a)});defineGetter(this,"showScrollbars",function(){return this.showscrollbars});defineSetter(this,"showScrollbars",function(a){this.showscrollbars=a;$KW[this.wType]["updateView"](this,"showscrollbars",a)});defineGetter(this,"scrollingEvents",function(){return this.scrollingevents});defineSetter(this,"scrollingEvents",function(a){this.scrollingevents=a});this.scrollingevents=this.scrollingevents||{};this.scrollingevents.scrollObj=this;if(this.scrollingevents){defineGetter(this.scrollingEvents,"onPush",function(){return this.onpush});defineSetter(this.scrollingEvents,"onPush",function(a){this.onpush=a;$KW[this.scrollObj.wType]["updateView"](this.scrollObj,"onpush",a)});defineGetter(this.scrollingEvents,"onPull",function(){return this.onpull});defineSetter(this.scrollingEvents,"onPull",function(a){this.onpull=a;$KW[this.scrollObj.wType]["updateView"](this.scrollObj,"onpull",a)});defineGetter(this.scrollingEvents,"onReachingBegining",function(){return this.onreachingbeginning});defineSetter(this.scrollingEvents,"onReachingBegining",function(a){this.onreachingbeginning=a;$KW[this.scrollObj.wType]["updateView"](this.scrollObj,"onreachingbeginning",a)});defineGetter(this.scrollingEvents,"onReachingEnd",function(){return this.onreachingend});defineSetter(this.scrollingEvents,"onReachingEnd",function(a){this.onreachingend=a;$KW[this.scrollObj.wType]["updateView"](this.scrollObj,"onreachingend",a)})}};kony.ui.ScrollBox.prototype.scrollToBeginning=function(){$KW.ScrollBox.scrollToBeginning(this)};kony.ui.ScrollBox.prototype.scrollToEnd=function(){$KW.ScrollBox.scrollToEnd(this)};
kony.ui.SegmentedUI2=function(c,b,a){kony.ui.SegmentedUI2.baseConstructor.call(this,c,b,a);this.groupcells=c.groupCells||false;this.screenLevelWidget=c.screenLevelWidget||false;this.widgetskin=c.widgetSkin;this.skin=c.rowSkin;this.focusskin=c.rowFocusSkin;this.askin=c.alternateRowSkin;this.sectionheaderskin=c.sectionHeaderSkin;this.widgetdatamap=c.widgetDataMap;this.rowtemplate=c.rowTemplate;this.sectionheadertemplate=c.sectionHeaderTemplate;this.separatorrequired=c.separatorRequired||false;this.separatorthickness=c.separatorThickness;this.separatorcolor=c.separatorColor;this.viewtype=c.viewType;this.onrowclick=c.onRowClick;this.retainselection=c.retainSelection||false;this.needpageindicator=c.needPageIndicator||false;this.pageondotimage=c.pageOnDotImage||false;this.pageoffdotimage=c.pageOffDotImage||false;this.onswipe=c.onSwipe;this.showscrollbars=c.showScrollbars;this.scrollingevents=c.scrollingEvents||false;if(this.scrollingevents){this.scrollingevents.onpush=c.scrollingEvents.onPush;this.scrollingevents.onpull=c.scrollingEvents.onPull;this.scrollingevents.onreachingbeginning=c.scrollingEvents.onReachingBegining;this.scrollingevents.onreachingend=c.scrollingEvents.onReachingEnd}this.selectionbehavior=c.selectionBehavior||constants.SEGUI_DEFAULT_BEHAVIOR;this.selectionbehaviorconfig=c.selectionBehaviorConfig;this.selectedindex=c.selectedIndex||null;this.selecteditems=null;this.selectedindices=c.selectedIndices||null;this.selectedrowindex=c.selectedRowIndex||null;this.selectedrowindices=c.selectedRowIndices||null;this.onrowclick=c.onRowClick;var d=c.data;defineGetter(this,"data",function(){return d});defineSetter(this,"data",function(e){d=e;this.canUpdateUI&&$KW[this.wType]["updateView"](this,"data",e)});this.setGetterSetter();this.wType="Segment";this.name="kony.ui.SegmentedUI2";this.canUpdateUI=true};kony.inherits(kony.ui.SegmentedUI2,kony.ui.Widget);kony.ui.SegmentedUI2.prototype.setGetterSetter=function(){defineGetter(this,"widgetSkin",function(){return this.widgetskin});defineSetter(this,"widgetSkin",function(b){var a=this.widgetskin;this.widgetskin=b;$KW[this.wType]["updateView"](this,"widgetskin",b,a)});defineGetter(this,"rowSkin",function(){return this.skin});defineSetter(this,"rowSkin",function(b){var a=this.skin;this.skin=b;$KW[this.wType]["updateView"](this,"rowskin",b,a)});defineGetter(this,"rowFocusSkin",function(){return this.focusskin});defineSetter(this,"rowFocusSkin",function(b){var a=this.focusskin;this.focusskin=b;$KW[this.wType]["updateView"](this,"focusskin",b,a)});defineGetter(this,"alternateRowSkin",function(){return this.askin});defineSetter(this,"alternateRowSkin",function(b){var a=this.askin;this.askin=b;$KW[this.wType]["updateView"](this,"askin",b,a)});defineGetter(this,"sectionHeaderSkin",function(){return this.sectionheaderskin});defineSetter(this,"sectionHeaderSkin",function(b){var a=this.sectionheaderskin;this.sectionheaderskin=b;$KW[this.wType]["updateView"](this,"sectionskin",b,a)});defineGetter(this,"widgetDataMap",function(){return this.widgetdatamap});defineSetter(this,"widgetDataMap",function(a){this.widgetdatamap=a});defineGetter(this,"rowTemplate",function(){return this.rowtemplate});defineSetter(this,"rowTemplate",function(a){this.rowtemplate=a});defineGetter(this,"sectionHeaderTemplate",function(){return this.sectionheadertemplate});defineSetter(this,"sectionHeaderTemplate",function(a){this.sectionheadertemplate=a});defineGetter(this,"separatorRequired",function(){return this.separatorrequired});defineSetter(this,"separatorRequired",function(a){this.separatorrequired=a;$KW[this.wType]["updateView"](this,"separatorrequired",a)});defineGetter(this,"separatorThickness",function(){return this.separatorthickness});defineSetter(this,"separatorThickness",function(a){this.separatorthickness=a;$KW[this.wType]["updateView"](this,"separatorthickness",a)});defineGetter(this,"separatorColor",function(){return this.separatorcolor});defineSetter(this,"separatorColor",function(a){this.separatorcolor=a;$KW[this.wType]["updateView"](this,"separatorcolor",a)});defineGetter(this,"viewType",function(){return this.viewtype});defineSetter(this,"viewType",function(b){var a=this.viewtype;this.viewtype=b;$KW[this.wType]["updateView"](this,"viewtype",b,a)});defineGetter(this,"onRowClick",function(){return this.onrowclick});defineSetter(this,"onRowClick",function(a){this.onrowclick=a});defineGetter(this,"retainSelection",function(){return this.retainselection});defineSetter(this,"retainSelection",function(a){this.retainselection=a});defineGetter(this,"needPageIndicator",function(){return this.needpageindicator});defineSetter(this,"needPageIndicator",function(a){this.needpageindicator=a;$KW[this.wType]["updateView"](this,"needpageindicator",a)});defineGetter(this,"pageOnDotImage",function(){return this.pageondotimage});defineSetter(this,"pageOnDotImage",function(a){this.pageondotimage=a;$KW[this.wType]["updateView"](this,"pageondotimage",a)});defineGetter(this,"pageOffDotImage",function(){return this.pageoffdotimage});defineSetter(this,"pageOffDotImage",function(a){this.pageoffdotimage=a;$KW[this.wType]["updateView"](this,"pageoffdotimage",a)});defineGetter(this,"onSwipe",function(){return this.onswipe});defineSetter(this,"onSwipe",function(a){this.onswipe=a});defineGetter(this,"showScrollbars",function(){return this.showscrollbars});defineSetter(this,"showScrollbars",function(a){this.showscrollbars=a});defineGetter(this,"scrollingEvents",function(){return this.scrollingevents});defineSetter(this,"scrollingEvents",function(a){this.scrollingevents=a;$KW[this.wType]["updateView"](this,"scrollingevents",a)});defineGetter(this,"selectionBehavior",function(){return this.selectionbehavior});defineSetter(this,"selectionBehavior",function(b){var a=this.selectionbehavior;this.selectionbehavior=b;$KW[this.wType]["updateView"](this,"selectionbehavior",b,a)});defineGetter(this,"selectionBehaviorConfig",function(){return this.selectionbehaviorconfig});defineSetter(this,"selectionBehaviorConfig",function(a){this.selectionbehaviorconfig=a;$KW[this.wType]["updateView"](this,"selectionbehaviorconfig",a)});defineGetter(this,"selectedIndex",function(){return this.selectedindex});defineSetter(this,"selectedIndex",function(a){this.selectedindex=a;$KW[this.wType]["updateView"](this,"selectedindex",a)});defineGetter(this,"selectedItems",function(){return this.selecteditems});defineGetter(this,"selectedIndices",function(){return this.selectedindices});defineSetter(this,"selectedIndices",function(a){this.selectedindices=a;$KW[this.wType]["updateView"](this,"selectedindices",a)});defineGetter(this,"selectedRowIndex",function(){return this.selectedrowindex});defineSetter(this,"selectedRowIndex",function(a){this.selectedrowindex=a;$KW[this.wType]["updateView"](this,"selectedindex",a)});defineGetter(this,"selectedRowIndices",function(){return this.selectedrowindices});defineSetter(this,"selectedRowIndices",function(a){this.selectedrowindices=a;$KW[this.wType]["updateView"](this,"selectedindices",a)});this.scrollingevents=this.scrollingevents||{};this.scrollingevents.scrollObj=this;if(this.scrollingevents){defineGetter(this.scrollingEvents,"onPush",function(){return this.onpush});defineSetter(this.scrollingEvents,"onPush",function(a){this.onpush=a;$KW[this.scrollObj.wType]["updateView"](this.scrollObj,"onpush",a)});defineGetter(this.scrollingEvents,"onPull",function(){return this.onpull});defineSetter(this.scrollingEvents,"onPull",function(a){this.onpull=a;$KW[this.scrollObj.wType]["updateView"](this.scrollObj,"onpull",a)});defineGetter(this.scrollingEvents,"onReachingBegining",function(){return this.onreachingbeginning});defineSetter(this.scrollingEvents,"onReachingBegining",function(a){this.onreachingbeginning=a;$KW[this.scrollObj.wType]["updateView"](this.scrollObj,"onreachingbeginning",a)});defineGetter(this.scrollingEvents,"onReachingEnd",function(){return this.onreachingend});defineSetter(this.scrollingEvents,"onReachingEnd",function(a){this.onreachingend=a;$KW[this.scrollObj.wType]["updateView"](this.scrollObj,"onreachingend",a)})}};kony.ui.SegmentedUI2.prototype.addAll=function(a){$KW.Segment.addAll(this,a)};kony.ui.SegmentedUI2.prototype.addDataAt=function(a,c,b){$KW.Segment.addDataAt(this,a,c,b)};kony.ui.SegmentedUI2.prototype.addSectionAt=function(a,b){$KW.Segment.addSectionAt(this,a,b)};kony.ui.SegmentedUI2.prototype.removeAll=function(){$KW.Segment.removeAll(this)};kony.ui.SegmentedUI2.prototype.removeAt=function(b,a){$KW.Segment.removeAt(this,b,a)};kony.ui.SegmentedUI2.prototype.removeSectionAt=function(a){$KW.Segment.removeSectionAt(this,a)};kony.ui.SegmentedUI2.prototype.setData=function(a){$KW.Segment.setData(this,a)};kony.ui.SegmentedUI2.prototype.setDataAt=function(a,c,b){$KW.Segment.setDataAt(this,a,c,b)};kony.ui.SegmentedUI2.prototype.setSectionAt=function(a,b){$KW.Segment.setSectionAt(this,a,b)};kony.ui.SegmentedUI2.prototype.setDataWithSections=function(a){$KW.Segment.setDataWithSections(this,a)};kony.ui.SegmentedUI=function(c,b,a){kony.ui.SegmentedUI.baseConstructor.call(this,c,b,a);this.skin=c.skin;this.askin=c.aSkin;this.sectionheaderskin=a.secSkin;this.name="kony.ui.SegmentedUI";retainSelection=a.retainSelection||false;viewType=this.viewtype=a.view;selectionBehavior=this.selectionbehavior=a.behavior||constants.SEGUI_DEFAULT_BEHAVIOR;separatorThickness=this.separatorthickness=a.sepThickness;separatorColor=this.separatorcolor=a.sepColor;onRowClick=this.onrowclick=c.onClick;this.separatorrequired=true;this.focuseditem=null;defineGetter(this,"focusedItem",function(){return this.focuseditem});this.focusedindex=c.focusedIndex||null;defineGetter(this,"focusedIndex",function(){return this.focusedindex});defineSetter(this,"focusedIndex",function(d){this.focusedindex=d;$KW[this.wType]["updateView"](this,"focusedindex",d)});this.needpageindicator=a.isPageIndicatorNeeded||null;defineGetter(this,"isPageIndicatorNeeded",function(){return this.needpageindicator});defineSetter(this,"isPageIndicatorNeeded",function(d){this.needpageindicator=d;$KW[this.wType]["updateView"](this,"needpageindicator",d)})};kony.inherits(kony.ui.SegmentedUI,kony.ui.SegmentedUI2);
kony.ui.TextBox2=function(d,b,a){kony.ui.TextBox2.baseConstructor.call(this,d,b,a);this.autoCorrect=this.autocorrect=a.autoCorrect||false;this.autoComplete=this.autocomplete=a.autoComplete||false;this.pattern=a.pattern;this.secureTextEntry=this.securetextentry=d.secureTextEntry;this.maxtextlength=d.maxTextLength;this.textinputmode=d.textInputMode||constants.TEXTBOX_INPUT_MODE_ANY;this.keyboardtype=d.keyBoardStyle||constants.TEXTBOX_KEY_BOARD_STYLE_DEFAULT;this.containerheightmode=b.containerHeightMode||constants.TEXBOX_DEFAULT_PLATFORM_HEIGHT;this.containerheight=b.containerHeight;this.containerheightreference=b.containerHeightReference;this.ondone=d.onDone;this.onbeginediting=a.onBeginEditing;this.onendediting=a.onEndEditing;this.ontextchange=d.onTextChange||a.onTextChange;this.autocapitalize=d.autoCapitalize||constants.TEXTBOX_AUTO_CAPITALIZE_NONE;var g=d.text||"";defineGetter(this,"text",function(){return g});defineSetter(this,"text",function(h){g=h;if(this.canUpdateUI){this.i18n_text="";$KW[this.wType]["updateView"](this,"text",h)}});var f=d.placeholder||"";defineGetter(this,"placeholder",function(){return f});defineSetter(this,"placeholder",function(h){f=h;$KW[this.wType]["updateView"](this,"placeholder",h)});var e=a.pattern;defineGetter(this,"pattern",function(){return e});defineSetter(this,"pattern",function(h){e=h;$KW[this.wType]["updateView"](this,"pattern",h)});var c=a.name||"";defineGetter(this,"name",function(){return c});defineSetter(this,"name",function(h){c=h;$KW[this.wType]["updateView"](this,"name",h)});this.canUpdateUI=true;this.wType="TextField";this.__name="kony.ui.TextBox2";kony.ui.TextBox2.prototype.setGetterSetter.call(this)};kony.inherits(kony.ui.TextBox2,kony.ui.Widget);kony.ui.TextBox2.prototype.setGetterSetter=function(){defineGetter(this,"maxTextLength",function(){return this.maxtextlength});defineSetter(this,"maxTextLength",function(a){this.maxtextlength=a;$KW[this.wType]["updateView"](this,"maxtextlength",a)});defineGetter(this,"textInputMode",function(){return this.textinputmode||this.mode});defineSetter(this,"textInputMode",function(a){this.textinputmode=this.mode=a;$KW[this.wType]["updateView"](this,"textinputmode",a)});defineGetter(this,"keyBoardStyle",function(){return this.keyboardtype});defineSetter(this,"keyBoardStyle",function(a){this.keyboardtype=a;$KW[this.wType]["updateView"](this,"keyboardtype",a)});defineGetter(this,"onDone",function(){return this.ondone});defineSetter(this,"onDone",function(a){this.ondone=a});defineGetter(this,"onBeginEditing",function(){return this.onbeginediting});defineSetter(this,"onBeginEditing",function(a){this.onbeginediting=a});defineGetter(this,"onEndEditing",function(){return this.onendediting});defineSetter(this,"onEndEditing",function(a){this.onendediting=a});defineGetter(this,"onTextChange",function(){return this.ontextchange});defineSetter(this,"onTextChange",function(a){this.ontextchange=a});defineGetter(this,"autoCapitalize",function(){return this.autocapitalize});defineSetter(this,"autoCapitalize",function(a){this.autocapitalize=a;$KW[this.wType]["updateView"](this,"autocapitalize",a)});defineGetter(this,"containerHeightMode",function(){return this.containerheightmode});defineSetter(this,"containerHeightMode",function(a){this.containerheightmode=a;$KW[this.wType]["updateView"](this,"containerheightmode",a)});defineGetter(this,"containerHeight",function(){return this.containerheight});defineSetter(this,"containerHeight",function(a){this.containerheight=a;$KW[this.wType]["updateView"](this,"containerheight",a)});defineGetter(this,"containerHeightReference",function(){return this.containerheightreference});defineSetter(this,"containerHeightReference",function(a){this.containerheightreference=a;$KW[this.wType]["updateView"](this,"containerheightreference",a)})};kony.ui.TextBox=function(c,b,a){kony.ui.TextBox.baseConstructor.call(this,c,b,a);this.placeholder=a.placeholder;this.autocapitalize=a.autoCapitalize;this.keyboardtype=a.keyBoardType;this.ondone=a.onDone;this.__name="kony.ui.TextBox"};kony.inherits(kony.ui.TextBox,kony.ui.TextBox2);kony.ui.TextArea2=function(c,b,a){kony.ui.TextArea2.baseConstructor.call(this,c,b,a);this.wType="TextArea";this.name="kony.ui.TextArea2";this.numberofvisiblelines=c.numberOfVisibleLines;this.setGetterSetter()};kony.inherits(kony.ui.TextArea2,kony.ui.TextBox2);kony.ui.TextArea2.prototype.setGetterSetter=function(){defineGetter(this,"numberOfVisibleLines",function(){return this.numberofvisiblelines});defineSetter(this,"numberOfVisibleLines",function(a){this.numberofvisiblelines=a;$KW[this.wType]["updateView"](this,"numberofvisiblelines",a)})};kony.ui.TextArea=function(c,b,a){kony.ui.TextArea.baseConstructor.call(this,c,b,a);this.numberofrows=a.numberOfRows;this.name="kony.ui.TextArea"};kony.inherits(kony.ui.TextArea,kony.ui.TextArea2);
kony.ui.Popup=function(e,c,b){kony.ui.Popup.baseConstructor.call(this,e,c,b);this.wType="Popup";this.name="kony.ui.Popup";this.containerheight=b.containerHeight;var a=this.inTransitionConfig||this.intransitionconfig,d=this.outTransitionConfig||this.outtransitionconfig;if(a){this.ptranIn=this.ptran=a.popupTransition}if(d){this.ptranOut=d.popupTransition}this.ismodal=e.isModal;this.transparencybehindthepopup=e.transparencyBehindThePopup;this.setGetterSetter()};kony.inherits(kony.ui.Popup,kony.ui.Form2);kony.ui.Popup.prototype.setGetterSetter=function(){defineGetter(this,"isModal",function(){return this.ismodal});defineSetter(this,"isModal",function(a){this.ismodal=a;$KW[this.wType]["updateView"](this,"ismodal",a)});defineGetter(this,"transparencyBehindThePopup",function(){return this.transparencybehindthepopup});defineSetter(this,"transparencyBehindThePopup",function(a){this.transparencybehindthepopup=a;$KW[this.wType]["updateView"](this,"transparencybehindthepopup",a)});defineGetter(this,"containerHeight",function(){return this.containerheight});defineSetter(this,"containerHeight",function(a){this.containerheight=a})};kony.ui.Popup.prototype.destroy=function(){this.onDestroy&&this.onDestroy(this);$KW.Popup.dismiss(this);this.addWidgetsdone=false;this.initdone=false;this.ownchildrenref=[];this.children=[]};kony.ui.Popup.prototype.dismiss=function(){$KW.Popup.dismiss(this)};kony.ui.Popup.prototype.show=function(){if(!this.addWidgetsdone){this.addWidgetsdone=true;this.addWidgets&&this.addWidgets(this)}!this.initdone&&this.init&&this.init(this);this.initdone=true;$KW.Popup.show(this)};kony.ui.Popup.prototype.setContext=function(a){$KW.Popup.setcontext(this,a)};kony.ui.Popup.prototype.scrollToBeginning=function(){$KW.Popup.scrollToBeginning(this)};kony.ui.Popup.prototype.scrollToEnd=function(){$KW.Popup.scrollToEnd(this)};kony.ui.Popup.prototype.scrollToWidget=function(a){$KW.Popup.scrollToWidget(this,a)};
kony.ui.TabPane=function(d,b,a){kony.ui.TabPane.baseConstructor.call(this,d,b,a);this.wType="TabPane";this.name="kony.ui.TabPane";this.screenLevelWidget=d.screenLevelWidget||false;this.activeskin=d.activeSkin;this.activefocusskin=d.activeFocusSkin;this.inactiveskin=d.inactiveSkin;this.viewtype=d.viewType;this.viewconfig=d.viewConfig;if(d.viewConfig&&d.viewConfig.collapsibleViewConfig){this.viewconfig.collapsibleviewconfig=this.viewconfig.collapsibleViewConfig;this.viewconfig.collapsibleviewconfig.onclick=this.viewconfig.collapsibleviewconfig.onClick;this.viewconfig.collapsibleviewconfig.expandedimage=this.viewconfig.collapsibleviewconfig.expandedImage;this.viewconfig.collapsibleviewconfig.collapsedimage=this.viewconfig.collapsibleviewconfig.collapsedImage;this.viewconfig.collapsibleviewconfig.imageposition=this.viewconfig.collapsibleviewconfig.imagePosition;this.viewconfig.collapsibleviewconfig.tabnamealignment=this.viewconfig.collapsibleviewconfig.tabNameAlignment;this.viewconfig.collapsibleviewconfig.toggletabs=this.viewconfig.collapsibleviewconfig.toggleTabs}this.ontabclick=d.onTabClick;this.retainpositionintab=d.retainPositionInTab;this.needpageindicator=d.needPageIndicator;this.selectedtabindex=d.selectedTabIndex;this.activetabs=d.activeTabs;if(d.activeTabs){this.activetabs=d.activeTabs}else{this.activetabs=[0]}this.activetab=this.activetabs[0];if(d.viewConfig&&d.viewConfig.collapsibleViewConfig){var c=d.viewConfig.collapsibleViewConfig;this.collapsedimage=c.expandedImage;this.expandedimage=c.collapsedImage;this.toggletabs=c.toggleTabs;this.imageposition=c.imagePosition;this.tabnamealignment=c.tabNameAlignment}if(d.viewConfig&&d.viewConfig.pageViewConfig){var e=d.viewConfig.pageViewConfig;this.pageondotimage=e.pageOnDotImage;this.pageoffdotimage=e.pageOffDotImage;this.needpageindicator=e.needPageIndicator}this.setGetterSetter()};kony.inherits(kony.ui.TabPane,kony.ui.ContainerWidget);kony.ui.TabPane.prototype.setGetterSetter=function(){defineGetter(this,"activeSkin",function(){return this.activeskin});defineSetter(this,"activeSkin",function(b){var a=this.activeskin;this.activeskin=b;$KW[this.wType]["updateView"](this,"activeskin",b,a)});defineGetter(this,"activeFocusSkin",function(){return this.activefocusskin});defineSetter(this,"activeFocusSkin",function(b){var a=this.activefocusskin;this.activefocusskin=b;kony.model.updateView(this,"activefocusskin",b,a)});defineGetter(this,"inactiveSkin",function(){return this.inactiveskin});defineSetter(this,"inactiveSkin",function(b){var a=this.inactiveskin;this.inactiveskin=b;$KW[this.wType]["updateView"](this,"inactiveskin",b,a)});defineGetter(this,"viewType",function(){return this.viewtype});defineSetter(this,"viewType",function(a){this.viewtype=a;$KW[this.wType]["updateView"](this,"viewtype",a)});defineGetter(this,"viewConfig",function(){return this.viewconfig});defineSetter(this,"viewConfig",function(a){this.viewconfig=a;this.viewconfig.collapsibleviewconfig=this.viewconfig.collapsibleViewConfig;this.viewconfig.collapsibleviewconfig.onclick=this.viewconfig.collapsibleviewconfig.onClick;this.expandedimage=this.viewconfig.collapsibleviewconfig.expandedimage=this.viewconfig.collapsibleviewconfig.expandedImage;this.collapsedimage=this.viewconfig.collapsibleviewconfig.collapsedimage=this.viewconfig.collapsibleviewconfig.collapsedImage;this.imageposition=this.viewconfig.collapsibleviewconfig.imageposition=this.viewconfig.collapsibleviewconfig.imagePosition;this.tabnamealignment=this.viewconfig.collapsibleviewconfig.tabnamealignment=this.viewconfig.collapsibleviewconfig.tabNameAlignment;this.toggletabs=this.viewconfig.collapsibleviewconfig.toggletabs=this.viewconfig.collapsibleviewconfig.toggleTabs;$KW[this.wType]["updateView"](this,"viewconfig",a)});defineGetter(this,"onTabClick",function(){return this.ontabclick});defineSetter(this,"onTabClick",function(a){this.ontabclick=a;$KW[this.wType]["updateView"](this,"ontabclick",a)});defineGetter(this,"retainPositionInTab",function(){return this.retainpositionintab});defineSetter(this,"retainPositionInTab",function(a){this.retainpositionintab=a;$KW[this.wType]["updateView"](this,"retainpositionintab",a)});defineGetter(this,"needPageIndicator",function(){return this.needpageindicator});defineSetter(this,"needPageIndicator",function(a){this.needpageindicator=a;$KW[this.wType]["updateView"](this,"needpageindicator",a)});defineGetter(this,"selectedTabIndex",function(){return this.selectedtabindex});defineSetter(this,"selectedTabIndex",function(a){this.selectedtabindex=a;$KW[this.wType]["updateView"](this,"selectedtabindex",a)});defineGetter(this,"activeTabs",function(){return this.activetabs});defineSetter(this,"activeTabs",function(a){this.activetabs=a;$KW[this.wType]["updateView"](this,"activetabs",a)});defineGetter(this,"activeTab",function(){return this.activetabs[0]});defineSetter(this,"activeTab",function(a){this.activetabs[0]=a;$KW[this.wType]["updateView"](this,"activetab",a)})};kony.ui.TabPane.prototype.addTab=function(a,e,c,d,f){var b=d;b.id=a;b.tabname=e;b.image=c;b.oninit=f;this.allboxes=[];b.name="kony.ui.Tab";var g="true";if(g=="true"){kony.ui.ContainerWidget.prototype.add.call(this,[b])}kony.ui.Form2.prototype.createFormLevelHierarchy.call(this,[b]);kony.ui.ContainerWidget.prototype.createhierarchy.call(this,b.ownchildrenref);$KW.TabPane.addChildTab(this,b)};kony.ui.TabPane.prototype.addTabAt=function(c,g,e,f,b){var d=f;d.id=c;d.tabname=g;d.image=e;this.allboxes=[];d.name="kony.ui.Tab";var a="true";if(a=="true"){kony.ui.ContainerWidget.prototype.addAt.call(this,d,b)}kony.ui.Form2.prototype.createFormLevelHierarchy.call(this,[d]);kony.ui.ContainerWidget.prototype.createhierarchy.call(this,d.ownchildrenref);$KW.TabPane.addChildTabAt(this,d,b)};kony.ui.TabPane.prototype.removeTabAt=function(a){$KW.TabPane.removeTabAt(this,a)};kony.ui.TabPane.prototype.removeTabById=function(a){$KW.TabPane.removeTabById(this,a)};
kony.ui.Slider=function(c,b,a){kony.ui.Slider.baseConstructor.call(this,c,b,a);this.min=c.min;this.max=c.max;this.step=c.step;this.onslide=c.onSlide;this.onselection=c.onSelection;this.leftskin=c.leftSkin;this.rightskin=c.rightSkin;this.thumbimage=c.thumbImage;this.focusthumbimage=c.focusThumbImage;this.selectedvalue=c.selectedValue;this.widgetalignment=b.widgetAlignment;var d=(!b.margin)?[0,0,0,0]:b.margin;this.margin=d;this.minlabel=a.minLabel;this.maxlabel=a.maxLabel;this.minlabelskin=a.minLabelSkin;this.maxlabelskin=a.maxLabelSkin;this.thickness=a.thickness;this.wType="Slider";this.name="kony.ui.Slider";this.setGetterSetter()};kony.inherits(kony.ui.Slider,kony.ui.Widget);kony.ui.Slider.prototype.setGetterSetter=function(){defineGetter(this,"selectedValue",function(){return this.selectedvalue});defineSetter(this,"selectedValue",function(a){this.selectedvalue=a;$KW[this.wType]["updateView"](this,"selectedvalue",a)});defineGetter(this,"focusThumbImage",function(){if($KU.isIOS7){return null}return this.focusthumbimage});defineSetter(this,"focusThumbImage",function(a){if($KU.isIOS7){return}this.focusthumbimage=a;$KW[this.wType]["updateView"](this,"focusthumbimage",a)});defineGetter(this,"thumbImage",function(){if($KU.isIOS7){return null}return this.thumbimage});defineSetter(this,"thumbImage",function(a){if($KU.isIOS7){return}this.thumbimage=a;$KW[this.wType]["updateView"](this,"thumbimage",a)});defineGetter(this,"rightSkin",function(){return this.rightskin});defineSetter(this,"rightSkin",function(a){$KW[this.wType]["updateView"](this,"rightskin",a,this.rightskin)});defineGetter(this,"leftSkin",function(){return this.leftskin});defineSetter(this,"leftSkin",function(a){$KW[this.wType]["updateView"](this,"leftskin",a,this.leftskin)});defineGetter(this,"onSelection",function(){return this.onselection});defineSetter(this,"onSelection",function(a){this.onselection=a});defineGetter(this,"onSlide",function(){return this.onslide});defineSetter(this,"onSlide",function(a){this.onslide=a})};
kony.ui.Video=function(d,b,a){kony.ui.Video.baseConstructor.call(this,d,b,a);this.wType="Video";this.name="kony.ui.Video";var e=d.source;defineGetter(this,"source",function(){return e});defineSetter(this,"source",function(g){e=g;$KW[this.wType]["updateView"](this,"source",g)});var c=a.controls;this.controls=a.controls;defineGetter(this,"controls",function(){return c});defineSetter(this,"controls",function(g){c=g;$KW[this.wType]["updateView"](this,"controls",g)});var f=a.poster;defineGetter(this,"poster",function(){return f});defineSetter(this,"poster",function(g){f=g;$KW[this.wType]["updateView"](this,"poster",g)})};kony.inherits(kony.ui.Video,kony.ui.Widget);
kony.type=function(b){var a=$KI.type(b);if(a=="table"||a=="object"){a=b.name==undefined?a:b.name}return a};
if($KI.crypto){kony.crypto={newKey:$KI.crypto.newkey,saveKey:$KI.crypto.savekey,createHash:$KI.crypto.createhash,retrievePublicKey:$KI.crypto.retrievepublickey,deleteKey:$KI.crypto.deletekey,readKey:$KI.crypto.readkey,encrypt:$KI.crypto.encrypt,decrypt:$KI.crypto.decrypt}}if($KI.db){kony.db={openDatabase:$KI.db.opendatabase,transaction:$KI.db.transaction,readTransaction:$KI.db.readtransaction,executeSql:$KI.db.executesql,sqlResultsetRowItem:$KI.db.sqlresultsetrowitem,changeVersion:$KI.db.changeversion}}if($KI.ds){kony.ds={"delete":$KI.ds.Delete,remove:$KI.ds.Delete,read:$KI.ds.read,save:$KI.ds.save}}if($KI.i18n){kony.i18n={deleteResourceBundle:$KI.i18n.deleteresourcebundle,getLocalizedString:$KI.i18n.getlocalizedstring,getCurrentLocale:$KI.i18n.getcurrentlocale,isResourceBundlePresent:$KI.i18n.isresourcebundlepresent,setCurrentLocale:$KI.i18n.setcurrentlocale,setCurrentLocaleAsync:$KI.i18n.setcurrentlocaleasync,setDefaultLocale:$KI.i18n.setdefaultlocale,setDefaultLocaleAsync:$KI.i18n.setdefaultlocaleasync,setResourceBundle:$KI.i18n.setresourcebundle,updateResourceBundle:$KI.i18n.updateresourcebundle,getCurrentDeviceLocale:$KI.i18n.getcurrentdevicelocale,getSupportedLocales:$KI.i18n.getsupportedlocales,isLocaleSupportedByDevice:$KI.i18n.islocalesupportedbydevice}}if($KI.localstorage){kony.store={key:$KI.localstorage.key,getItem:$KI.localstorage.getitem,removeItem:$KI.localstorage.removeitem,setItem:$KI.localstorage.setitem,clear:$KI.localstorage.clear,length:$KI.localstorage.length}}if($KI.geolocation){kony.location={clearWatch:$KI.geolocation.clearwatch,getCurrentPosition:$KI.geolocation.getcurrentposition,watchPosition:$KI.geolocation.watchposition}}if($KI.os){kony.os={toNumber:$KI.os.tonumber,toCurrency:$KI.os.tocurrency,freeMemory:$KI.os.freememory,userAgent:$KI.os.useragent,deviceInfo:$KI.os.platform,hasGPSSupport:$KI.os.hasgpssupport,hasCameraSupport:$KI.os.hascamerasupport,hasTouchSupport:$KI.os.hastouchsupport,hasOrientationSupport:$KI.os.hasorientationsupport,hasAccelerometerSupport:$KI.os.hasaccelerometersupport,getDeviceCurrentOrientation:$KI.os.getdevicecurrentorientation,httpheaders:$KI.os.httpheaders,getApplicationMode:$KI.os.getapplicationmode,setApplicationMode:$KI.os.setapplicationmode,setApplicationScrollMode:$KI.os.setapplicationscrollmode,getAppContext:$KI.os.getappcontext}}if($KI.net){kony.net={HttpRequest:$KI.net.HttpRequest,invokeServiceAsync:$KI.net.invokeserviceasync,invokeService:$KI.net.invokeService,cancel:$KI.net.cancel,isNetworkAvailable:$KI.net.isNetworkAvailable,setNetworkCallbacks:$KI.net.setNetworkCallbacks,getActiveNetworkType:$KI.net.getActiveNetworkType}}if($KI.phone){kony.phone={sendSMS:$KI.phone.sendsms,dial:$KI.phone.dial,openEmail:$KI.phone.openemail,openMediaGallery:$KI.phone.openmediagallery}}if($KI.string){kony.string={rep:$KI.string.rep,reverse:$KI.string.reverse,trim:$KI.string.trim,equalsIgnoreCase:$KI.string.equalsignorecase,startsWith:$KI.string.startswith,endsWith:$KI.string.endswith,isNumeric:$KI.string.isnumeric,containsChars:$KI.string.containschars,containsOnlyGivenChars:$KI.string.containsonlygivenchars,containsNoGivenChars:$KI.string.containsnogivenchars,isAsciiAlpha:$KI.string.isasciialpha,isAsciiAlphaNumeric:$KI.string.isasciialphanumeric,isValidEmail:$KI.string.isvalidemail}}if($KI.timer){kony.timer={schedule:$KI.timer.schedule,cancel:$KI.timer.cancel,setCallBack:$KI.timer.setcallback}}if($KI.themes){kony.theme={createTheme:$KI.themes.createtheme,deleteTheme:$KI.themes.deletetheme,getCurrentThemeData:$KI.themes.getcurrentthemedata,getCurrentTheme:$KI.themes.getcurrenttheme,getAllThemes:$KI.themes.allthemes,isThemePresent:$KI.themes.isthemepresent,setCurrentTheme:$KI.themes.setcurrenttheme,packagedthemes:$KI.themes.packagedthemes}}kony.stream={registerDataStream:tobeimplemented,deregisterDataStream:tobeimplemented,setCallback:tobeimplemented};kony.convertToBase64=$KI.converttobase64;kony.convertToRawBytes=$KI.converttorawbytes;kony.print=$KI.print;kony.props={};kony.props.getProperty=$KI.props.getProperty;
kony.application={createAppMenu:$KW.Appmenu&&$KW.Appmenu.createappmenu,setCurrentAppMenu:$KW.Appmenu&&$KW.Appmenu.setcurrentappmenu,getCurrentAppMenu:$KW.Appmenu&&$KW.Appmenu.getcurrentappmenu,setAppMenuFocusByID:$KW.Appmenu&&$KW.Appmenu.setappmenufocusbyid,addAppMenuItemAt:$KW.Appmenu&&$KW.Appmenu.addappmenuitemat,removeAppMenuItemAt:$KW.Appmenu&&$KW.Appmenu.removeappmenuitemat,setAppMenu:$KW.Appmenu&&$KW.Appmenu.setappmenu,setAppMenuFocusIndex:$KW.Appmenu&&$KW.Appmenu.setappmenufocusindex,showAppMenuItems:$KW.Appmenu&&$KW.Appmenu.showappmenuitems,hideAppMenuItems:$KW.Appmenu&&$KW.Appmenu.hideappmenuitems,setBMState:kony.bm.setBMState,resetBMState:kony.bm.resetBMState,getBMState:kony.bm.getBMState,getFormId:kony.bm.getFormId,addBMState:kony.bm.addBMState,removeBMState:kony.bm.removeBMState,exit:$KI.exit,getPreviousForm:$KW.Form&&$KW.Form.getPreviousForm,getCurrentForm:$KW.Form&&$KW.Form.getCurrentForm,removeGestureRecognizerForAllForms:$KW.Widget&&$KW.Widget.removegesturerecognizerforallforms,setGestureRecognizerForAllForms:$KW.Widget&&$KW.Widget.addgesturerecognizerforallforms,getApplicationMode:$KI.os&&$KI.os.getapplicationmode,setApplicationMode:$KI.os&&$KI.os.setapplicationmode,setApplicationInitializationEvents:$KI.setappevents,registerForIdleTimeout:$KI.appevents&&$KI.appevents.registerforidletimeout,unregisterForIdleTimeout:$KI.appevents&&$KI.appevents.unregisterforidletimeout,setApplicationBadgeValue:tobeimplemented,getApplicationBadgeValue:tobeimplemented,setAppMenuBadgeValue:tobeimplemented,getAppMenuBadgeValue:tobeimplemented,appReset:$KI.appreset,setAppHeaders:$KI.setappheaders,setAppFooters:$KI.setappfooters,setApplicationCallbacks:$KI.setapplicationcallbacks,setApplicationBehaviors:$KI.setapplicationbehaviors,showLoadingScreen:$KI.window&&$KI.window.showLoadingScreen,dismissLoadingScreen:$KI.window&&$KI.window.dismissLoadingScreen,openURL:$KI.window.openURL};function tobeimplemented(){console.warn("API to be implemented Yet")};
